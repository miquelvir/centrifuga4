(this["webpackJsonpcentrifuga4-frontend"]=this["webpackJsonpcentrifuga4-frontend"]||[]).push([[0],{287:function(e){e.exports=JSON.parse('{"log_out":"log out","log_in":"log in","download_backup":"download backup","change_language":"change language","dark_light_theme":"dark/light theme","my_account":"my account","open_drawer":"open drawer","no role":"no role","students":"students","role":"role","administrator":"administrator","administrative":"administrative","layman":"layman","courses":"courses","rooms":"rooms","comment":"comment","add-comment":"add comment","export_attendances":"export saved attendances","docs":"docs","teachers":"teachers","load-more":"load more","home":"home","capacity":"capacity","locations":"locations","new_course":"new course","attended":"attended","absent":"absence","absent-justified":"justified absence","hi":"hi","chose_list_dates":"choose the first and last date for which you want the lists to be created","user":"user","teachers-only-zone":"teachers-only zone","more":"more","link-user-to-teacher":"Are you sure you want to link this user to this teacher?","teacher-user":"teacher-user","teacher":"teacher","payments":"payments","take attendance":"take attendance","users":"users","to":"to","teacher_dashboard":"teacher dashboard","send_bulk_email":"send bulk email \u26a1","send_bulk_email_description":"this email will be sent to all the chosen emails of the selected courses (to the actual families)!","send_email":"send email","use_emails":"emails to use","resolved":"resolved (student if 18+ or if no contacts available, otherwise contacts)","settings":"settings","contacts":"contacts","all":"all","search":"search","name":"name","surname1":"first surname","surname2":"second surname","email":"email","phone":"phone","address":"address","city":"city","zip":"zip","dni":"DNI / NIE / passport","gender":"gender","birth date":"birth date","country_of_origin":"country of origin of the family","been_invited":"you have been invited to join centr\xedfuga4 \ud83d\udcef","confirm_password":"confirm password","password":"password","username":"username","invalid_expired_invite":"Your invitation has expired or is invalid! \ud83d\udc82","invalid_expired_reset":"Your reset link has expired or is invalid! \ud83d\udc82","used_invite":"Your invitation can\'t be used twice or for a user that already exists! \ud83d\udc82","reset_password":"reset password","username_required_password_reset":"Fill in the email field to ask for a password reset!","started_password_reset":"Process started. If the username is correct, you will receive an email to finish the password change!","export":"export","empty":"none","export_results_csv":"export this page as .csv","email_required":"email is required","invalid_email":"enter a valid email","password_required":"password is required","delete_payment":"delete the payment","not_undone":"this action can not be undone","warning_not_logged_in":"you are not logged in! \ud83d\udc82","warning_not_enough_privileges":"you don\'t have enough privileges to continue! \ud83d\udc82","password_constraints":"must be longer than 8 characters; including: 1 uppercase, 1 lowercase, 1 number and 1 special character","passwords_unmatched":"passwords don\'t match","new_password":"choose your new password \ud83d\udd11","reset_password_success":"password change successful","sign_up_success":"sign up successful","sign_up":"sign up","change_password":"change password","name_required":"name is required","surname1_required":"first surname is required","surname2_required":"second surname is required","longer_8":"must be longer than 8 characters","shorter_64":"must be smaller than 64 characters","has_lowecase":"must have at least 1 lowercase character","has_uppercase":"must have at least 1 uppercase character","has_digit":"must have at least 1 digit (0-9)","has_special":"must have at least 1 special character (e.g. %)","no_plus":"can\'t contain \'+\'","reset":"reset","save":"save","upload":"attach files","birthdate":"birthdate","attendee":"student","contact":"guardian","price_term":"price per term","success":"done","send_receipt":"send confirmation email to student","export_receipt":"export receipt as pdf","no_payments":"there are no payments","delete":"delete","first":"first","last":"last","mark_all":"mark all","has_paid_cash":"has paid with cash","tooltip-bank-transfer":"has paid through a bank transfer","other-payment-method":"has paid though and unknown method","has_paid":"has paid","nb":"non binary / not represented by any of the above","m":"male","f":"female","bank-transfer":"bank transfer","bank-direct-debit":"direct debit","tooltip-bank-direct-debit":"has paid through direct debit","cash":"cash","method":"method","import":"amount","import_required":"amount is required","date":"date","concept":"concept","new_payment":"new payment","create":"create","field_required":"this field is required","date_required":"date is required","new_guardian":"new guardian","action_cant_undone":"this action can not be undone","delete_guardian_question":"do you want to delete this guardian?","delete_course_question":"do you want to delete this course?","confirm_add_to_course":"do you want to add the teacher to this course?","add_to_course":"add to course","confirm_remove_from_course":"do you want to remove the teacher from this course?","cancel":"cancel","delete_teacher":"do you want to delete this teacher?","delete_guardian":"delete this guardian","delete_student":"delete this student","delete_student_question":"do you want to delete this student?","delete_room":"delete location","delete_room_question":"do you want to delete this location?","delete_user":"delete user","new_room":"new location","new_teacher":"new teacher","delete_user_question":"do you want to delete this user?","student_also_deletes":"this action can not be undone; it will also delete the associated guardians, payments and schedules","default_payment_method":"payment method","payment_comments":"comments (payment)","other_comments":"comments","years_in_xamfra":"years in Xamfr\xe0","is_studying":"studies","is_working":"works","yes":"yes","no":"no","is_early_unenrolled":"unenrolled","is_enrolled":"enrolled","is_early_unenrolled_required":"unenrolled is required","is_enrolled_required":"enrolled is required","education_entity":"educational center","education_year":"year","kindergarten_p0":"p0","kindergarten_p1":"p1","kindergarten_p2":"p2","kindergarten_p3":"p3","kindergarten_p4":"p4","kindergarten_p5":"p5","primary_1":"primary, 1st","primary_2":"primary, 2nd","primary_3":"primary, 3rd","primary_4":"primary, 4th","primary_5":"primary, 5th","primary_6":"primary, 6th","eso_1":"ESO, 1st","eso_2":"ESO, 2nd","eso_3":"ESO, 3rd","eso_4":"ESO, 4th","baccalaureate_1":"baccalaureate, 1st","baccalaureate_2":"baccalaureate, 2nd","FP_lower":"lower FP","FP_higher":"higher FP","undergraduate":"undergraduate","master":"master","phd":"PhD","career":"career","working_required":"works is required","studying_required":"studies is required","career_required":"career is required","education_entity_required":"center is required","education_year_required":"year is required","enrolled_unenrolled":"can\'t be enrolled and unenrolled","relation":"relation","relation_required":"relation is required","father":"father","subject":"subject","can-register-attendance":"can register attendance for classes","attendance":"attendance","mother":"mother","grandfather":"grandfather","grandmother":"grandmother","brother":"brother","sister":"sister","uncle":"uncle","aunt":"aunt","cousin":"cousin","legal_guardian":"legal guardian","status":"enrolment status","enrolled":"enrolled","early-unenrolled":"early unenrolled","pre-enrolled":"pre-enrolled","other":"other","grant_letter":"grant letter","enrolment_agreement":"enrolment agreement","send_grant_letter":"send grant letter","export_grant_letter":"download grant letter","send_enrolment_agreement":"send enrolment agreement","export_enrolment_agreement":"download enrolment agreement","status_required":"status is required","image_required":"image use is required","image_agreement":"use of image","image_agreement_external":"3rd party use of image","cant_remove_schedule":"schedules of a whole course can\'t be removed","continue":"continue","cancelled":"cancelled","sure_delete_event":"Are you sure? This will delete this schedule from the student.","new_student":"new student","birthdate_required":"birth date is required","no_courses":"there are no courses","published":"published","only_published":"show only published courses","labels":"labels","course":"course","adult":"adult","add_teacher":"add teacher","add_student":"add student","download":"download","god_file":"god file","export_contact_sheets":"export all students with their guardians","export_all_plus":"export all+","attendance_list":"attendance list","export_attendance_list":"download attendance list","students_contact_sheet":"students contact sheet","export_students_contact_sheet":"download students contact sheet","no_students":"no students in this course","no_teachers":"no teachers in this course","description":"description","public":"public","private":"private","confirm_link_to_room":"Are you sure you want to link this room to the course?","link_room":"link room to course","view":"view","pre_enrolment_date":"pre-enrolment date","enrolment_date":"enrolment date","early_unenrolment_date":"early unenrolment date","only_private":"show only private courses","only_enrolled":"show only enrolled students","only_preenrolled":"show only pre-enrolled students","only_earlyunenrolled":"show only early unenrolled students","only_cash":"show only students with cash as the default payment method","only_banktransfer":"show only students with bank transfer as the default payment method","only_bankdirectdebit":"show only students with direct debit as the default payment method","filters_actions":"filters & actions","enroll_to_course":"add to course","confirm_enroll_to_course":"Are you sure you want to add it to the selected course?","confirm_unenroll_to_course":"Are you sure you want to remove it from the selected course?","search_courses":"search courses","new_user":"invite user","send_grant_letter_question":"send grant letter?","this_will_be_sent":"this letter will be sent to the guardians (if -18) or to the student (if 18+ or no guardians available)","sure_delete_event_base":"Are you sure you want to delete the schedule from the course?","no_results":"no results","AF":"afghanistan","AX":"\xe5land islands","AL":"albania","DZ":"algeria","AS":"american samoa","AD":"andorra","AO":"angola","AI":"anguilla","AQ":"antarctica","AG":"antigua and barbuda","AR":"argentina","AM":"armenia","AW":"aruba","AU":"australia","AT":"austria","AZ":"azerbaijan","BS":"bahamas","BH":"bahrain","BD":"bangladesh","BB":"barbados","BY":"belarus","BE":"belgium","BZ":"belize","BJ":"benin","BM":"bermuda","BT":"bhutan","BO":"bolivia, plurinational state of","BQ":"bonaire, sint eustatius and saba","BA":"bosnia and herzegovina","BW":"botswana","BV":"bouvet island","BR":"brazil","IO":"british indian ocean territory","BN":"brunei darussalam","BG":"bulgaria","BF":"burkina faso","BI":"burundi","KH":"cambodia","CM":"cameroon","CA":"canada","CV":"cape verde","KY":"cayman islands","CF":"central african republic","TD":"chad","CL":"chile","CN":"china","CX":"christmas island","CC":"cocos (keeling) islands","CO":"colombia","KM":"comoros","CG":"congo","CD":"congo, the democratic republic of the","CK":"cook islands","CR":"costa rica","CI":"c\xf4te d\'ivoire","HR":"croatia","CU":"cuba","CW":"cura\xe7ao","CY":"cyprus","CZ":"czech republic","DK":"denmark","DJ":"djibouti","DM":"dominica","DO":"dominican republic","EC":"ecuador","EG":"egypt","SV":"el salvador","GQ":"equatorial guinea","ER":"eritrea","EE":"estonia","ET":"ethiopia","FK":"falkland islands (malvinas)","FO":"faroe islands","FJ":"fiji","FI":"finland","FR":"france","GF":"french guiana","PF":"french polynesia","TF":"french southern territories","GA":"gabon","GM":"gambia","GE":"georgia","DE":"germany","GH":"ghana","GI":"gibraltar","GR":"greece","GL":"greenland","GD":"grenada","GP":"guadeloupe","GU":"guam","GT":"guatemala","GG":"guernsey","GN":"guinea","GW":"guinea-bissau","GY":"guyana","HT":"haiti","HM":"heard island and mcdonald islands","VA":"holy see (vatican city state)","HN":"honduras","HK":"hong kong","HU":"hungary","IS":"iceland","IN":"india","ID":"indonesia","IR":"iran, islamic republic of","IQ":"iraq","IE":"ireland","IM":"isle of man","IL":"israel","IT":"italy","JM":"jamaica","JP":"japan","JE":"jersey","JO":"jordan","KZ":"kazakhstan","KE":"kenya","KI":"kiribati","KP":"korea, democratic people\'s republic of","KR":"korea, republic of","KW":"kuwait","KG":"kyrgyzstan","LA":"lao people\'s democratic republic","LV":"latvia","LB":"lebanon","LS":"lesotho","LR":"liberia","LY":"libya","LI":"liechtenstein","LT":"lithuania","LU":"luxembourg","MO":"macao","MK":"macedonia, the former yugoslav republic of","MG":"madagascar","MW":"malawi","MY":"malaysia","MV":"maldives","ML":"mali","MT":"malta","MH":"marshall islands","MQ":"martinique","MR":"mauritania","MU":"mauritius","YT":"mayotte","MX":"mexico","FM":"micronesia, federated states of","MD":"moldova, republic of","MC":"monaco","MN":"mongolia","ME":"montenegro","MS":"montserrat","MA":"morocco","MZ":"mozambique","MM":"myanmar","NA":"namibia","NR":"nauru","NP":"nepal","NL":"netherlands","NC":"new caledonia","NZ":"new zealand","NI":"nicaragua","NE":"niger","NG":"nigeria","NU":"niue","NF":"norfolk island","MP":"northern mariana islands","NO":"norway","OM":"oman","PK":"pakistan","PW":"palau","PS":"palestine, state of","PA":"panama","PG":"papua new guinea","PY":"paraguay","PE":"peru","PH":"philippines","PN":"pitcairn","PL":"poland","PT":"portugal","PR":"puerto rico","QA":"qatar","RE":"r\xe9union","RO":"romania","RU":"russian federation","RW":"rwanda","BL":"saint barth\xe9lemy","SH":"saint helena, ascension and tristan da cunha","KN":"saint kitts and nevis","LC":"saint lucia","MF":"saint martin (french part)","PM":"saint pierre and miquelon","VC":"saint vincent and the grenadines","WS":"samoa","SM":"san marino","ST":"sao tome and principe","SA":"saudi arabia","SN":"senegal","RS":"serbia","SC":"seychelles","SL":"sierra leone","SG":"singapore","SX":"sint maarten (dutch part)","SK":"slovakia","SI":"slovenia","SB":"solomon islands","SO":"somalia","ZA":"south africa","GS":"south georgia and the south sandwich islands","SS":"south sudan","ES":"spain","LK":"sri lanka","SD":"sudan","SR":"suriname","SJ":"svalbard and jan mayen","SZ":"swaziland","SE":"sweden","CH":"switzerland","SY":"syrian arab republic","TW":"taiwan, province of china","TJ":"tajikistan","TZ":"tanzania, united republic of","TH":"thailand","TL":"timor-leste","TG":"togo","TK":"tokelau","TO":"tonga","TT":"trinidad and tobago","TN":"tunisia","TR":"turkey","TM":"turkmenistan","TC":"turks and caicos islands","TV":"tuvalu","UG":"uganda","UA":"ukraine","AE":"united arab emirates","GB":"united kingdom","US":"united states","UM":"united states minor outlying islands","UY":"uruguay","UZ":"uzbekistan","VU":"vanuatu","VE":"venezuela, bolivarian republic of","VN":"viet nam","VG":"virgin islands, british","VI":"virgin islands, u.s.","WF":"wallis and futuna","EH":"western sahara","YE":"yemen","ZM":"zambia","ZW":"zimbabwe","invite":"invite","calendar_url":"calendar url","export_calendar":"export calendar","invite_user":"\ud83d\udcef invite user","permissions":"permissions","can-read":"can read","can-edit":"can edit","can-create":"can create","can-delete":"can delete","can-send-emails":"can send emails","can-invite-users":"can invite users","can-operate-with-students":"can operate with students","can-operate-with-courses":"can operate with courses","can-operate-with-guardians":"can operate with guardians","can-operate-with-payments":"can operate with payments","can-operate-with-rooms":"can operate with rooms","can-operate-with-schedules":"can operate with schedules","can-operate-with-teachers":"can operate with teachers","can-operate-with-users":"can operate with users","next":"next","back":"back","skip":"skip","schedules":"schedules","finish":"send","here":"here","can-operate-with-payment-receipts":"can operate with payment receipts","data_protection":"data protection","student_info":"student information","contact_person_1":"contact person (1)","contact_person_2":"contact person (2)","confirmation":"confirmation","ss_agent":"social service worker","no_courses_found_add_edu":"we can\'t find any courses for you; go back and add your education level! If you already did that, contact us (xamfra.net/contacte)!","student":"student","search_by_id":"search by id","search_by":"search by","export_all":"export all","export_all_csv":"export all pages as .csv","full_name":"full name","room":"room","use_eng":"see in english","use_cat":"see in catalan","use_dark":"use dark theme","use_light":"use light theme","required":"field required","2FA_code":"2FA code","2FA_needed":"fill in the 2FA code from the app","2FA_6digits":"the 2FA code has 6 digits","2FA_invalid":"the 2FA code has 6 integer digits","setup_2FA":"set up 2FA \ud83d\udee1\ufe0f","learn_how_2FA":"How to set up 2FA?","title_2fa_continue":"Have you scanned the QR code in the 2FA app?","description_2fa_continue":"You won\'t be able to access your account if you don\'t set up you 2FA app now. You won\'t be able to scan this QR code in the future.","2FA_tip1":"Two-factor authentication (2FA) is essential to guarantee you are the only one who can access student\'s data.","2FA_tip2":"Scan the QR code with your 2FA app of choice.","2FA_tip3":"This QR code will never be shown again.","rememberMe":"remember me"}')},288:function(e){e.exports=JSON.parse('{"log_out":"tancar la sessi\xf3","log_in":"iniciar sessi\xf3","download_backup":"descarregar c\xf2pia","change_language":"cambiar idioma","dark_light_theme":"tema clar/fosc","my_account":"el meu compte","open_drawer":"obrir men\xfa","no role":"sense rol","students":"estudiants","courses":"classes","role":"rol","administrator":"administrador","administrative":"administratiu","layman":"simple","teachers":"professors","rooms":"espais","docs":"documentaci\xf3","payments":"pagaments","new_course":"nou curs","no_results":"no hi ha resultats","sure_delete_event_base":"Segur? Si segueixes eliminar\xe0s l\'esdeveniment del curs.","capacity":"aforament","delete_room":"eliminar la sala","delete_room_question":"vols eliminar aquesta sala?","users":"usuaris","take attendance":"passar llista","new_room":"nou espai","new_teacher":"nou professor","settings":"configuraci\xf3","locations":"espais","empty":"cap","to":"destinataris","contacts":"contactes","first":"primer dia","mark_all":"marcar totxs","last":"darrer dia","send_bulk_email":"enviar correu massiu \u26a1","send_bulk_email_description":"aquest missatge s\'enviar\xe0 a les adreces triades dels cursos seleccionats (a les families reals)!","all":"tots","subject":"assumpte","upload":"adjuntar fitxers","can-register-attendance":"pot marcar assist\xe8ncia a classes","attendance":"assist\xe8ncia","send_email":"enviar correu","use_emails":"correus a usar","add-comment":"afegir comentari","comment":"comentari","resolved":"solucionat (l\'estudiant si \xe9s +18 o si no hi ha contactes disponibles, altrament els contactes)","OTHER":"altres","AF":"afganistan","AX":"aland","AL":"alb\xe0nia","DE":"alemanya","DZ":"alg\xe8ria","AD":"andorra","AO":"angola","AI":"anguilla","AQ":"ant\xe0rtida","AG":"antigua i barbuda","SA":"ar\xe0bia saud\xed","AR":"argentina","AM":"arm\xe8nia","AW":"aruba","AU":"austr\xe0lia","AT":"\xe0ustria","AZ":"azerbaidjan","BS":"bahames, les","BH":"bahrain","BD":"bangladesh","BB":"barbados","BY":"belar\xfas","BE":"b\xe8lgica","BZ":"belize","BJ":"ben\xedn","BM":"bermudes","BT":"bhutan","BO":"bol\xedvia","BQ":"bonaire, sint eustatius i saba","BA":"b\xf2snia i hercegovina","BW":"botswana","BR":"brasil","BN":"brunei","BG":"bulg\xe0ria","BF":"burkina faso","BI":"burundi","KH":"cambodja","CM":"camerun","CA":"canad\xe0","CV":"cap verd","CO":"col\xf2mbia","KM":"comores, les","CG":"congo","KP":"corea del nord","KR":"corea del sud","CI":"costa d\'ivori","CR":"costa rica","HR":"cro\xe0cia","CU":"cuba","CW":"cura\xe7ao","DK":"dinamarca","DJ":"djibouti","DM":"dominica","EG":"egipte","SV":"el salvador","AE":"emirats \xe0rabs units, els","EC":"equador","ER":"eritrea","SK":"eslov\xe0quia","SI":"eslov\xe8nia","ES":"espanya","US":"estats units, els","EE":"est\xf2nia","SZ":"eswatini","ET":"eti\xf2pia","FO":"f\xe8roe","FJ":"fiji","PH":"filipines","FI":"finl\xe0ndia","FR":"fran\xe7a","GA":"gabon","GM":"g\xe0mbia","GE":"ge\xf2rgia","GH":"ghana","GI":"gibraltar","GR":"gr\xe8cia","GD":"grenada","GL":"groenl\xe0ndia","GP":"guadalupe","GF":"guaiana francesa","GU":"guam","GT":"guatemala","GG":"guernsey","GN":"guinea","GQ":"guinea equatorial","GW":"guinea-bissau","GY":"guyana","HT":"hait\xed","HN":"hondures","HK":"hong kong, xina","HU":"hongria","YE":"iemen, el","BV":"illa bouvet","CX":"illa christmas","IM":"illa de man","NF":"illa norfolk","KY":"illes caiman","CC":"illes cocos (keeling)","CK":"illes cook","FK":"illes falkland (malvines)","GS":"illes ge\xf2rgia del sud i sandwich del sud","HM":"illes heard i mcdonald","MP":"illes marianes del nord","MH":"illes marshall","UM":"illes menors allunyades dels estats units","SB":"illes salom\xf3","TC":"illes turks i caicos","VG":"illes verges brit\xe0niques","VI":"illes verges dels estats units","IN":"\xedndia","ID":"indon\xe8sia","IR":"iran","IQ":"iraq, l\'","IE":"irlanda","IS":"isl\xe0ndia","IL":"israel","IT":"it\xe0lia","JM":"jamaica","JP":"jap\xf3","JE":"jersey","JO":"jord\xe0nia","KZ":"kazakhstan","KE":"kenya","KG":"kirguizstan","KI":"kiribati","KW":"kuwait","LA":"lao","LS":"lesotho","LV":"let\xf2nia","LB":"l\xedban","LR":"lib\xe8ria","LY":"l\xedbia","LI":"liechtenstein","LT":"litu\xe0nia","LU":"luxemburg","MO":"macao, xina","MK":"maced\xf2nia del nord","MG":"madagascar","MY":"mal\xe0isia","MW":"malawi","MV":"maldives","ML":"mali","MT":"malta","MA":"marroc, el","MQ":"martinica","MU":"maurici","MR":"maurit\xe0nia","YT":"mayotte","MX":"m\xe8xic","FM":"micron\xe8sia","MZ":"mo\xe7ambic","MD":"mold\xe0via","MC":"m\xf2naco","MN":"mong\xf2lia","ME":"montenegro","MS":"montserrat","MM":"myanmar","NA":"nam\xedbia","NR":"nauru","NP":"nepal","NI":"nicaragua","NE":"n\xedger","NG":"nig\xe8ria","NU":"niue","NO":"noruega","NC":"nova caled\xf2nia","NZ":"nova zelanda","OM":"oman","NL":"pa\xefsos baixos","PK":"pakistan","PW":"palau","PS":"palestina","PA":"panam\xe0","PG":"papua nova guinea","PY":"paraguai","PE":"per\xfa","PN":"pitcairn","PF":"polin\xe8sia francesa","PL":"pol\xf2nia","PT":"portugal","PR":"puerto rico","QA":"qatar","GB":"regne unit","CF":"rep\xfablica centreafricana","CD":"rep\xfablica democr\xe0tica del congo","DO":"rep\xfablica dominicana","RE":"reuni\xf3, la","RO":"romania","RW":"ruanda","RU":"r\xfassia","EH":"s\xe0hara occidental","SH":"saint helena, ascenci\xf3 i tristan da cunha","KN":"saint kitts i nevis","LC":"saint lucia","VC":"saint vincent i les grenadines","BL":"saint-barth\xe9lemy","MF":"saint-martin","PM":"saint-pierre-et-miquelon","WS":"samoa","AS":"samoa americana","SM":"san marino","VA":"santa seu","ST":"s\xe3o tom\xe9 i pr\xedncipe","SN":"senegal","RS":"s\xe8rbia","SC":"seychelles","SL":"sierra leone","SG":"singapur","SX":"sint maarten","SY":"s\xedria","SO":"som\xe0lia","LK":"sri lanka","ZA":"sud-\xe0frica","SS":"sudan del sud, el","SD":"sudan, el","SE":"su\xe8cia","CH":"su\xefssa","SR":"surinam","SJ":"svalbard i jan mayen","TJ":"tadjikistan","TH":"tail\xe0ndia","TW":"taiwan","TZ":"tanz\xe0nia","TF":"terres australs i ant\xe0rtiques franceses","IO":"territori brit\xe0nic de l\'oce\xe0 \xedndic","TL":"timor-leste","TG":"togo","TK":"tokelau","TO":"tonga","TT":"trinidad i tobago","TN":"tun\xedsia","TM":"turkmenistan","TR":"turquia","TV":"tuvalu","TD":"txad","CZ":"tx\xe8quia","UA":"ucra\xefna","UG":"uganda","UY":"uruguai","UZ":"uzbekistan","VU":"vanuatu","VE":"vene\xe7uela","VN":"vietnam","WF":"wallis i futuna","CL":"xile","CN":"xina","CY":"xipre","ZM":"z\xe0mbia","ZW":"zimb\xe0bue","send_grant_letter_question":"enviar carta de beca?","this_will_be_sent":"aquesta carta s\'enviar\xe0 als contactes (si \xe9s menor) o a l\'estudiant (si \xe9s major d\'edat o no hi ha contactes disponibles)","chose_list_dates":"escull el primer i l\'\xfaltim dia pels quals vulguis crear les llistes","user":"usuari","teacher":"professor","export_attendances":"baixar llista d\'assist\xe8ncia","attended":"assist\xe8ncia","absent":"abs\xe8ncia","absent-justified":"abs\xe8ncia justificada","confirm_link_to_room":"Segur que vols afegir aquesta sala al curs?","link_room":"afegir sala al curs","pre_enrolment_date":"data de prematr\xedcula","enrolment_date":"data de matr\xedcula","early_unenrolment_date":"data de baixa","export_calendar":"exportar calendari","room":"espai","teachers-only-zone":"zona nom\xe9s per a professorxs","search":"cercar","name":"nom","view":"veure","surname1":"primer cognom","surname2":"segon cognom","email":"correu","phone":"tel\xe8fon","calendar_url":"enlla\xe7 del calendari","address":"adre\xe7a","city":"ciutat","zip":"codi postal","dni":"DNI / NIE / passaport","gender":"g\xe8nere","adult":"adult","no_students":"no hi ha estudiants en aquest curs","no_teachers":"no hi ha professors en aquest curs","birth date":"data de naixement","country_of_origin":"estat d\'origen de la fam\xedlia","been_invited":"t\'han convidat a unir-te a la centr\xedfuga4 \ud83d\udcef","confirm_password":"confirma la contrasenya","password":"contrasenya","username":"nom d\'usuari","download":"descarregar","god_file":"fitxer mare","add_teacher":"afegir professor","export_contact_sheets":"exportar tots els estudiants amb els contactes","export_all_plus":"exportar tots+","add_student":"afegir estudiant","attendance_list":"llista d\'assist\xe8ncia","export_attendance_list":"descarregar llista d\'assist\xe8ncia","students_contact_sheet":"contactes dels estudiants","export_students_contact_sheet":"descarregar contactes dels estudiants","invalid_expired_invite":"La invitaci\xf3 ha caducat o no \xe9s v\xe0lida! \ud83d\udc82","invalid_expired_reset":"L\'enlla\xe7 pel canvi de contrasenya ha caducat o no \xe9s v\xe0lid! \ud83d\udc82","used_invite":"La invitaci\xf3 no es pot usar m\xe9s de dues vegades o per un usuari que ja existeix! \ud83d\udc82","reset_password":"restaurar contrasenya","username_required_password_reset":"Omple el camp del correu per restaurar la contrasenya!","started_password_reset":"El proc\xe9s ha comen\xe7at. Si l\'usuari \xe9s correcte, rebr\xe0s un correu per acabar el canvi de contrasenya!","export":"exportar","export_results_csv":"exportar aquesta p\xe0gina com a .csv","email_required":"cal un correu","invalid_email":"introdu\xefu un correu v\xe0lid","password_required":"cal una contrasenya","delete_payment":"eliminar el pagament","not_undone":"aquesta acci\xf3 no es pot desfer","warning_not_logged_in":"la sessi\xf3 no est\xe0 iniciada! \ud83d\udc82","warning_not_enough_privileges":"no tens els privilegis necessaris per seguir! \ud83d\udc82","password_constraints":"ha de ser de m\xe9s de 8 car\xe0cters; incloent: 1 maj\xfascula, 1 min\xfascula, 1 n\xfamero i 1 car\xe0cter especial","passwords_unmatched":"les contrasenyes no coincideixen","new_password":"escull la nova contrasenya \ud83d\udd10","reset_password_success":"canvi de contrasenya correcte","sign_up_success":"creaci\xf3 del nou compte correcta","sign_up":"iniciar sessi\xf3","change_password":"change password","name_required":"cal el nom","surname1_required":"cal el primer cognom","surname2_required":"cal el segon congom","longer_8":"ha de tenir m\xe9s de 8 car\xe0cters","shorter_64":"ha de tenir menys de 64 car\xe0cters","has_lowecase":"ha de tenir 1 min\xfascula com a m\xednim","has_uppercase":"ha de tenir 1 maj\xfascula com a m\xednim","has_digit":"ha de tenir 1 d\xedgit com a m\xednim (0-9)","has_special":"ha de tenir 1 car\xe0cter especial (p.ex. %) com a m\xednim","no_plus":"no pot contenir \'+\'","reset":"descartar","save":"guardar","birthdate":"data de naixement","attendee":"estudiant","contact":"contacte","price_term":"preu per trimestre","success":"fet","send_receipt":"enviar correu de confirmaci\xf3 a l\'estudiant","export_receipt":"exportar rebut com a pdf","no_payments":"no hi ha cap pagament","delete":"eliminar","has_paid_cash":"ha pagat en efectiu","tooltip-bank-transfer":"ha pagat mitjan\xe7ant una transfer\xe8ncia","other-payment-method":"ha pagat amb un m\xe8tode no reconegut","has_paid":"ha pagat","nb":"no binari / no representat per cap dels anteriors","m":"mascul\xed","f":"femen\xed","bank-transfer":"transfer\xe8ncia banc\xe0ria","bank-direct-debit":"domiciliaci\xf3 banc\xe0ria","tooltip-bank-direct-debit":"ha pagat mitjan\xe7ant domiciliaci\xf3 banc\xe0ria","cash":"efectiu","method":"m\xe8tode","import":"import","import_required":"cal l\'import","date":"data","concept":"concepte","new_payment":"nou pagament","create":"crear","field_required":"cal omplir el camp","date_required":"cal la data","new_guardian":"nou contacte","action_cant_undone":"aquesta acci\xf3 no es pot desfer","delete_guardian_question":"vols eliminar aquest contacte?","delete_course_question":"vols eliminar aquest curs?","confirm_add_to_course":"vols afegir el professor al curs?","add_to_course":"afegir al curs","confirm_remove_from_course":"vols eliminar el professor del curs?","cancel":"cancelar","delete_teacher":"vols eliminar aquest professor?","delete_guardian":"eliminar el contacte","delete_student":"eliminar l\'estudiant","delete_student_question":"vols eliminar aquest estudiant?","delete_user":"eliminar l\'usuari","delete_user_question":"vols eliminar aquest usuari?","student_also_deletes":"aquesta acci\xf3 no es pot desfer; tamb\xe9 s\'eliminaran els contactes associats, pagaments i horaris","default_payment_method":"m\xe8tode de pagament","payment_comments":"comentaris (pagament)","other_comments":"comentaris","years_in_xamfra":"anys a Xamfr\xe0","is_studying":"estudia","is_working":"treballa","home":"inici","yes":"s\xed","no":"no","load-more":"veure\'n m\xe9s","hi":"bones","is_early_unenrolled":"desmatriculat","more":"m\xe9s","is_enrolled":"matriculat","teacher-user":"usuari d\'unx professorx","link-user-to-teacher":"Est\xe0s segurx que vols associar aquest professorx a l\'usuari?","is_early_unenrolled_required":"cal el camp desmatriculat","is_enrolled_required":"cal el camp matriculat","education_entity":"centre educatiu","teacher_dashboard":"panell del professorx","education_year":"curs","kindergarten_p0":"p0","kindergarten_p1":"p1","kindergarten_p2":"p2","kindergarten_p3":"p3","kindergarten_p4":"p4","kindergarten_p5":"p5","primary_1":"1r de prim\xe0ria","primary_2":"2n de prim\xe0ria","primary_3":"3r de prim\xe0ria","primary_4":"4t de prim\xe0ria","primary_5":"5\xe8 de prim\xe0ria","primary_6":"6\xe8 de prim\xe0ria","eso_1":"1r d\'ESO","eso_2":"2n d\'ESO","eso_3":"3r d\'ESO","eso_4":"4t d\'ESO","baccalaureate_1":"1r de batxillerat","baccalaureate_2":"2n de batxillerat","FP_lower":"FP grau mig","FP_higher":"FP grau superior","undergraduate":"grau","master":"m\xe0ster","phd":"doctorat","career":"professi\xf3","working_required":"cal el camp treballa","studying_required":"cal el camp estudia","career_required":"cal la professi\xf3","education_entity_required":"cal el centre","education_year_required":"cal el curs","enrolled_unenrolled":"no pot estar matriculat i desmatriculat","relation":"relaci\xf3","relation_required":"cal la relaci\xf3","father":"pare","mother":"mare","grandfather":"avi","grandmother":"\xe0via","brother":"germ\xe0","sister":"germana","uncle":"oncle","aunt":"tieta","cousin":"cos\xed/ina","legal_guardian":"tutor legal","status":"estat de la matr\xedcula","enrolled":"matriculat/ada","early-unenrolled":"desmatriculat/ada","pre-enrolled":"prematriculat/ada","other":"altres","grant_letter":"carta de beca","send_grant_letter":"enviar carta de beca","export_grant_letter":"descarregar carta de beca","enrolment_agreement":"full de matr\xedcula","send_enrolment_agreement":"enviar full de matr\xedcula","export_enrolment_agreement":"descarregar full de matr\xedcula","status_required":"cal l\'estat de matr\xedcula","image_required":"cal l\'\xfas d\'imatge","image_agreement":"\xfas d\'imatge","image_agreement_external":"\xfas d\'imatge per tercers","cant_remove_schedule":"no es poden eliminar horaris comuns d\'un taller","continue":"seguir","cancelled":"cancelat","sure_delete_event":"Segur? Si segueixes eliminar\xe0s l\'esdeveniment de l\'estudiant.","new_student":"nou estudiant","birthdate_required":"cal la data de naixement","no_courses":"no hi ha cap classe","published":"publicats","labels":"etiquetes","course":"classe","description":"descripci\xf3","public":"p\xfablic","only_published":"mostrar nom\xe9s cursos publicats","private":"privats","only_private":"mostrar nom\xe9s cursos privats","only_enrolled":"mostrar nom\xe9s estudiants matriculats","only_preenrolled":"mostrar nom\xe9s estudiants prematriculats","only_earlyunenrolled":"mostrar nom\xe9s estudiants desmatriculats","only_cash":"mostrar nom\xe9s alumnes amb efectiu com a m\xe8tode de pagament per defecte","only_banktransfer":"mostrar nom\xe9s alumnes amb transfer\xe8ncia banc\xe0ria com a m\xe8tode de pagament per defecte","only_bankdirectdebit":"mostrar nom\xe9s alumnes amb domiciliaci\xf3 banc\xe0ria com a m\xe8tode de pagament per defecte","filters_actions":"filtres i accions","enroll_to_course":"afegir al curs","confirm_enroll_to_course":"Segur que vols afegir-lo a aquest curs?","confirm_unenroll_to_course":"Segur que vols eliminar-lo d\'aquest curs?","search_courses":"cercar cursos","new_user":"convidar un usuari nou","invite":"convidar","invite_user":"\ud83d\udcef convidar usuari","permissions":"permisos","can-read":"pot llegir","can-edit":"pot editar","can-create":"pot crear","can-delete":"pot eliminar","can-send-emails":"pot enviar correus","can-invite-users":"pot convidar usuaris","can-operate-with-students":"pot operar amb estudiants","can-operate-with-courses":"pot operar amb cursos","can-operate-with-guardians":"pot operar amb contactes","can-operate-with-payments":"pot operar amb pagaments","can-operate-with-rooms":"pot operar amb ubicacions","can-operate-with-schedules":"pot operar amb horaris","can-operate-with-teachers":"pot operar amb professors","can-operate-with-users":"pot operar amb usuaris","next":"seg\xfcent","back":"anterior","required":"camp obligatori","skip":"ometre","schedules":"horaris","finish":"enviar","can-operate-with-payment-receipts":"pot operar amb rebuts de pagament","data_protection":"protecci\xf3 de dades","student_info":"informaci\xf3 de l\'estudiant","contact_person_1":"persona de contacte (1)","contact_person_2":"persona de contacte (2)","confirmation":"confirmaci\xf3","ss_agent":"referent (serveis socials)","no_courses_found_add_edu":"no podem trobar-te cap curs; torna enrere i afegeix el teu nivell d\'educaci\xf3! Si ja ho has fet, contacta\'ns (xamfra.net/contacte)!","student":"estudiant","search_by_id":"cercar amb id","search_by":"cercar per","export_all":"exportar tots","export_all_csv":"exportar totes les p\xe0gines com a .csv","full_name":"nom complet","use_eng":"veure en angl\xe8s","use_cat":"veure en catal\xe0","use_dark":"usar tema fosc","use_light":"usar tema clar","2FA_code":"codi 2FA","2FA_needed":"escriu el codi de 2FA de l\'aplicaci\xf3","2FA_6digits":"el codi de 2FA t\xe9 6 d\xedgits","2FA_invalid":"el codi de 2FA t\xe9 6 d\xedgits num\xe8rics","setup_2FA":"configura 2FA \ud83d\udee1\ufe0f","learn_how_2FA":"Com configuro 2FA?","title_2fa_continue":"Has escanejat el codi QR amb la teva app de 2FA?","description_2fa_continue":"No podr\xe0s accedir al teu compte si no configures la teva aplicaci\xf3 de 2FA ara. No podr\xe0s escanejar aquest codi QR en el futur.","2FA_tip1":"L\'autentificaci\xf3 de doble factor (2FA) \xe9s essencial per assegurar que nom\xe9s tu pots accedir a les dades dels estudiants.","2FA_tip2":"Escaneja el codi QR amb la teva aplicaci\xf3 de 2FA.","2FA_tip3":"No podr\xe0s tornar a veure aquest codi QR mai m\xe9s.","rememberMe":"recorda\'m"}')},343:function(e,t,a){},517:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),c=a.n(i),s=(a(343),a(10)),l=a(5),o=a(9),d=a(581),u=a(308),b=a(568),m=Object(u.a)({palette:{type:"light",primary:{main:"#e98300",light:"#ffb342",dark:"#b05500",contrastText:"#000000",emphasisText:{high:"#000000DF",medium:"#00000098",low:"#0000005E"}},secondary:{main:"#934d98",light:"#c57bc9",dark:"#63206a",contrastText:"#000000",emphasisText:{high:"#000000DF",medium:"#00000098",low:"#0000005E"}},neutral:{main:"#ffffff",contrastText:"#000000",emphasisText:{high:"#000000DF",medium:"#00000098",low:"#0000005E"},status:{dirty:"#fbc02d",success:"#43a047",error:"#ff5252"}}}}),h=Object(u.a)({palette:{type:"dark",primary:{main:"#934d98",light:"#c57bc9",dark:"#63206a",contrastText:"#000000",emphasisText:{high:"#000000DF",medium:"#00000098",low:"#0000005E"}},secondary:{main:"#ffcc80",light:"#ffffb0",dark:"#ca9b52",contrastText:"#000000",emphasisText:{high:"#000000DF",medium:"#00000098",low:"#0000005E"}},neutral:{main:"#1f1f1f",contrastText:"#ffffff",emphasisText:{high:"#ffffffDF",medium:"#ffffff98",low:"#ffffff5E"},status:{dirty:"#ffcf3d",success:"#c0e882",error:"#ff5252"}}}}),j=a(47),p=r.a.createContext({confirm:function(e,t,a){}}),f=a(17),O=a(34),x=r.a.createContext({user:null,setUser:function(){},needs:[],setNeeds:function(){},teacher:[],setTeacher:function(){}}),g=a(1),_=["component"];var v=function(e){var t=e.component,a=Object(f.a)(e,_),n=r.a.useContext(x);return Object(g.jsx)(O.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return n.user.logged?Object(g.jsx)(t,Object(l.a)(Object(l.a)({},e),a)):Object(g.jsx)(O.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},y=a(29),w=a(549),S=a(546),k=a(574),C=a(6),N=a(521),I=a(582),T=a(293),A=a.n(T),q=a(294),B=a.n(q),P=a(558),F=a(554),E=a(525),D=a(583),R=a(556),M=a(572),L=a(43),G=a.n(L),z=a(280),V=a.n(z),U=a(281),K=a.n(U),W=a(282),H=a.n(W),Y=a(204),Z=a.n(Y),J=a(125),X=a.n(J),Q=a(284),$=a.n(Q),ee=a(283),te=a.n(ee),ae=a(577),ne=a(595),re=a(177),ie=a(80),ce=a.n(ie),se=a(589),le=a(576),oe=a(598),de=a(109),ue=a.n(de),be=a(559),me=a(31),he=a(32),je=a(264),pe=a.n(je);function fe(){return{"X-CSRFToken":pe.a.get("X-CSRF-TOKEN")}}var Oe="v1",xe="https://c4.xamfra.net",ge="6LdHBOcbAAAAAAFOSVzvos0dxnVunKUB7ntQCaOP",_e="https://c4.xamfra.net",ve="true"===Object({NODE_ENV:"production",PUBLIC_URL:"https://c4.xamfra.net",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RECAPTCHA:"6LdHBOcbAAAAAAFOSVzvos0dxnVunKUB7ntQCaOP",REACT_APP_API_VERSION:"v1",REACT_APP_BACKEND_URL:"https://c4.xamfra.net",REACT_APP_DOCS_URL:"https://miquelvir.github.io/centrifuga4/"}).REACT_CHECK_NEEDS,ye=a(27);function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;a=null===a?"api":a,r=null===r?Oe:r;var i="".concat(n=null===n?xe:n,"/").concat(a,"/").concat(r);return function(){function a(){Object(me.a)(this,a)}return Object(he.a)(a,[{key:"getAll",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new Promise((function(o,d){var u={page:n,include:null===r?null:JSON.stringify(r)};null!==a&&(u["filter.".concat(a.name,".match")]=a.value),null!==c&&Object.keys(c).forEach((function(e){u["filter.".concat(e,".eq")]=c[e]})),ye({method:"get",url:"".concat(i,"/").concat(e).concat(null===t?"":"/".concat(s,"/").concat(t)),params:u,headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){o(e.data)})).catch((function(e){d(e)}))}))}},{key:"getOne",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,r){ye({method:"get",url:"".concat(i,"/").concat(e,"/").concat(t),params:{include:null===a?null:JSON.stringify(a)},headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){n(e.data)})).catch((function(e){r(e)}))}))}},{key:"getMany",value:function(e){var t=this;return new Promise((function(a,n){0===e.length&&a([]),t.getOne(e.join(",")).then((function(t){1===e.length?a([t]):a(t)})).catch((function(e){n(e)}))}))}},{key:"patch",value:function(t){var a=t.id,n=t.body,r=t.initial_values,c=void 0===r?null:r;if(null!==c)var s=Object.keys(n).reduce((function(e,t){return t in c&&c[t]===n[t]||(e[t]=n[t]),e}),{});return"id"in s&&delete s.id,new Promise((function(t,n){ye({method:"patch",url:"".concat(i,"/").concat(e,"/").concat(a),data:s,headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"post",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"id"in a&&delete a.id,new Promise((function(r,c){ye({method:"post",url:"".concat(i,"/").concat(e).concat(null!==t?"/".concat(n,"/").concat(t):""),data:a,headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){r(e.data)})).catch((function(e){c(e)}))}))}},{key:"postWithId",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,c){ye({method:"post",url:"".concat(i,"/").concat(e,"/").concat(a).concat(null===n?"":"/".concat(t,"/").concat(n)),headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){r(e)})).catch((function(e){c(e)}))}))}},{key:"delete",value:function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(r,c){ye({method:"delete",url:"".concat(i,"/").concat(e,"/").concat(a).concat(null!==t?"/".concat(t,"/").concat(n):""),headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){r(e)})).catch((function(e){c(e)}))}))}},{key:"deleteMany",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.delete(e)})))}},{key:"downloadCsv",value:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(c,s){var o={page:n};null!==t&&(o["filter.".concat(t,".like")]="%".concat(a,"%")),null!==r&&Object.keys(r).forEach((function(e){o["filter.".concat(e,".eq")]=r[e]})),ye({url:"".concat(i,"/").concat(e),method:"GET",responseType:"blob",params:o,headers:Object(l.a)(Object(l.a)({},{Accept:"text/csv","Cache-Control":"no-cache"}),fe())}).then((function(e){var t=e.headers["content-disposition"].split("filename=")[1];null===t&&(t="export.csv");var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click(),n.remove(),c()})).catch((function(e){s(e)}))}))}},{key:"downloadOneCsv",value:function(t){return new Promise((function(a,n){ye({url:"".concat(i,"/").concat(e,"/").concat(t),method:"GET",responseType:"blob",headers:Object(l.a)(Object(l.a)({},{Accept:"text/csv","Cache-Control":"no-cache"}),fe())}).then((function(e){var t=e.headers["content-disposition"].split("filename=")[1];null===t&&(t="export.csv");var n=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove(),a()})).catch((function(e){n(e)}))}))}},{key:"downloadSubresource",value:function(t,a,n){return new Promise((function(r,c){ye({url:"".concat(i,"/").concat(e,"/").concat(t,"/").concat(a),method:"POST",params:n,responseType:"blob",headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(e){var t=e.headers["content-disposition"].split("filename=")[1],a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click(),n.remove(),r()})).catch((function(e){c(e)}))}))}}]),a}()}var Se=new(we("students")),ke=a(12),Ce=a(550),Ne=function(e){var t=Object.assign({},e);return Object(g.jsx)(Ce.a,Object(l.a)(Object(l.a)({},t),{},{variant:"circle",children:Object(g.jsx)(N.a,{children:Object(g.jsx)(ue.a,{})})}))},Ie=a(594),Te=Object(w.a)((function(e){return Object(S.a)({root:function(t){return{"& label.Mui-focused":{color:t?e.palette.neutral.status.dirty:e.palette.primary.main},"& .MuiInput-underline:after":{borderBottomColor:t?e.palette.neutral.status.dirty:e.palette.primary.main},"& label":{color:t?e.palette.neutral.status.dirty:e.palette.neutral.emphasisText.medium}}}})})),Ae=function(e){var t=e.name,a=e.formik,n=!0!==e.noDirty&&a.values[t]!==a.initialValues[t],r=Te(n),i={value:void 0===a.values[t]?"":a.values[t],onChange:a.handleChange,onBlur:a.handleBlur,error:a.status||void 0!==a.errors[t],helperText:a.touched[t]&&a.errors[t]};return Object(g.jsx)(Ie.a,Object(l.a)(Object(l.a)({className:r.root,InputLabelProps:{shrink:""!==a.values[t]}},i),e))},qe=a(593),Be=[{code:"ES",label:"Spain",phone:"34"},{code:"AD",label:"Andorra",phone:"376"},{code:"AE",label:"United Arab Emirates",phone:"971"},{code:"AF",label:"Afghanistan",phone:"93"},{code:"AG",label:"Antigua and Barbuda",phone:"1-268"},{code:"AI",label:"Anguilla",phone:"1-264"},{code:"AL",label:"Albania",phone:"355"},{code:"AM",label:"Armenia",phone:"374"},{code:"AO",label:"Angola",phone:"244"},{code:"AQ",label:"Antarctica",phone:"672"},{code:"AR",label:"Argentina",phone:"54"},{code:"AS",label:"American Samoa",phone:"1-684"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"AW",label:"Aruba",phone:"297"},{code:"AX",label:"Alland Islands",phone:"358"},{code:"AZ",label:"Azerbaijan",phone:"994"},{code:"BA",label:"Bosnia and Herzegovina",phone:"387"},{code:"BB",label:"Barbados",phone:"1-246"},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BF",label:"Burkina Faso",phone:"226"},{code:"BG",label:"Bulgaria",phone:"359"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BI",label:"Burundi",phone:"257"},{code:"BJ",label:"Benin",phone:"229"},{code:"BL",label:"Saint Barthelemy",phone:"590"},{code:"BM",label:"Bermuda",phone:"1-441"},{code:"BN",label:"Brunei Darussalam",phone:"673"},{code:"BO",label:"Bolivia",phone:"591"},{code:"BR",label:"Brazil",phone:"55"},{code:"BS",label:"Bahamas",phone:"1-242"},{code:"BT",label:"Bhutan",phone:"975"},{code:"BV",label:"Bouvet Island",phone:"47"},{code:"BW",label:"Botswana",phone:"267"},{code:"BY",label:"Belarus",phone:"375"},{code:"BZ",label:"Belize",phone:"501"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{code:"CD",label:"Congo, Democratic Republic of the",phone:"243"},{code:"CF",label:"Central African Republic",phone:"236"},{code:"CG",label:"Congo, Republic of the",phone:"242"},{code:"CH",label:"Switzerland",phone:"41"},{code:"CI",label:"Cote d'Ivoire",phone:"225"},{code:"CK",label:"Cook Islands",phone:"682"},{code:"CL",label:"Chile",phone:"56"},{code:"CM",label:"Cameroon",phone:"237"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CR",label:"Costa Rica",phone:"506"},{code:"CU",label:"Cuba",phone:"53"},{code:"CV",label:"Cape Verde",phone:"238"},{code:"CW",label:"Curacao",phone:"599"},{code:"CX",label:"Christmas Island",phone:"61"},{code:"CY",label:"Cyprus",phone:"357"},{code:"CZ",label:"Czech Republic",phone:"420"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DJ",label:"Djibouti",phone:"253"},{code:"DK",label:"Denmark",phone:"45"},{code:"DM",label:"Dominica",phone:"1-767"},{code:"DO",label:"Dominican Republic",phone:"1-809"},{code:"DZ",label:"Algeria",phone:"213"},{code:"EC",label:"Ecuador",phone:"593"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"EH",label:"Western Sahara",phone:"212"},{code:"ER",label:"Eritrea",phone:"291"},{code:"ET",label:"Ethiopia",phone:"251"},{code:"FI",label:"Finland",phone:"358"},{code:"FJ",label:"Fiji",phone:"679"},{code:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{code:"FM",label:"Micronesia, Federated States of",phone:"691"},{code:"FO",label:"Faroe Islands",phone:"298"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GA",label:"Gabon",phone:"241"},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GD",label:"Grenada",phone:"1-473"},{code:"GE",label:"Georgia",phone:"995"},{code:"GF",label:"French Guiana",phone:"594"},{code:"GG",label:"Guernsey",phone:"44"},{code:"GH",label:"Ghana",phone:"233"},{code:"GI",label:"Gibraltar",phone:"350"},{code:"GL",label:"Greenland",phone:"299"},{code:"GM",label:"Gambia",phone:"220"},{code:"GN",label:"Guinea",phone:"224"},{code:"GP",label:"Guadeloupe",phone:"590"},{code:"GQ",label:"Equatorial Guinea",phone:"240"},{code:"GR",label:"Greece",phone:"30"},{code:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{code:"GT",label:"Guatemala",phone:"502"},{code:"GU",label:"Guam",phone:"1-671"},{code:"GW",label:"Guinea-Bissau",phone:"245"},{code:"GY",label:"Guyana",phone:"592"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{code:"HN",label:"Honduras",phone:"504"},{code:"HR",label:"Croatia",phone:"385"},{code:"HT",label:"Haiti",phone:"509"},{code:"HU",label:"Hungary",phone:"36"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IL",label:"Israel",phone:"972"},{code:"IM",label:"Isle of Man",phone:"44"},{code:"IN",label:"India",phone:"91"},{code:"IO",label:"British Indian Ocean Territory",phone:"246"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran, Islamic Republic of",phone:"98"},{code:"IS",label:"Iceland",phone:"354"},{code:"IT",label:"Italy",phone:"39"},{code:"JE",label:"Jersey",phone:"44"},{code:"JM",label:"Jamaica",phone:"1-876"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KE",label:"Kenya",phone:"254"},{code:"KG",label:"Kyrgyzstan",phone:"996"},{code:"KH",label:"Cambodia",phone:"855"},{code:"KI",label:"Kiribati",phone:"686"},{code:"KM",label:"Comoros",phone:"269"},{code:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{code:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{code:"KR",label:"Korea, Republic of",phone:"82"},{code:"KW",label:"Kuwait",phone:"965"},{code:"KY",label:"Cayman Islands",phone:"1-345"},{code:"KZ",label:"Kazakhstan",phone:"7"},{code:"LA",label:"Lao People's Democratic Republic",phone:"856"},{code:"LB",label:"Lebanon",phone:"961"},{code:"LC",label:"Saint Lucia",phone:"1-758"},{code:"LI",label:"Liechtenstein",phone:"423"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"LR",label:"Liberia",phone:"231"},{code:"LS",label:"Lesotho",phone:"266"},{code:"LT",label:"Lithuania",phone:"370"},{code:"LU",label:"Luxembourg",phone:"352"},{code:"LV",label:"Latvia",phone:"371"},{code:"LY",label:"Libya",phone:"218"},{code:"MA",label:"Morocco",phone:"212"},{code:"MC",label:"Monaco",phone:"377"},{code:"MD",label:"Moldova, Republic of",phone:"373"},{code:"ME",label:"Montenegro",phone:"382"},{code:"MF",label:"Saint Martin (French part)",phone:"590"},{code:"MG",label:"Madagascar",phone:"261"},{code:"MH",label:"Marshall Islands",phone:"692"},{code:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{code:"ML",label:"Mali",phone:"223"},{code:"MM",label:"Myanmar",phone:"95"},{code:"MN",label:"Mongolia",phone:"976"},{code:"MO",label:"Macao",phone:"853"},{code:"MP",label:"Northern Mariana Islands",phone:"1-670"},{code:"MQ",label:"Martinique",phone:"596"},{code:"MR",label:"Mauritania",phone:"222"},{code:"MS",label:"Montserrat",phone:"1-664"},{code:"MT",label:"Malta",phone:"356"},{code:"MU",label:"Mauritius",phone:"230"},{code:"MV",label:"Maldives",phone:"960"},{code:"MW",label:"Malawi",phone:"265"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"MZ",label:"Mozambique",phone:"258"},{code:"NA",label:"Namibia",phone:"264"},{code:"NC",label:"New Caledonia",phone:"687"},{code:"NE",label:"Niger",phone:"227"},{code:"NF",label:"Norfolk Island",phone:"672"},{code:"NG",label:"Nigeria",phone:"234"},{code:"NI",label:"Nicaragua",phone:"505"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NR",label:"Nauru",phone:"674"},{code:"NU",label:"Niue",phone:"683"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PA",label:"Panama",phone:"507"},{code:"PE",label:"Peru",phone:"51"},{code:"PF",label:"French Polynesia",phone:"689"},{code:"PG",label:"Papua New Guinea",phone:"675"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PL",label:"Poland",phone:"48"},{code:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{code:"PN",label:"Pitcairn",phone:"870"},{code:"PR",label:"Puerto Rico",phone:"1"},{code:"PS",label:"Palestine, State of",phone:"970"},{code:"PT",label:"Portugal",phone:"351"},{code:"PW",label:"Palau",phone:"680"},{code:"PY",label:"Paraguay",phone:"595"},{code:"QA",label:"Qatar",phone:"974"},{code:"RE",label:"Reunion",phone:"262"},{code:"RO",label:"Romania",phone:"40"},{code:"RS",label:"Serbia",phone:"381"},{code:"RU",label:"Russian Federation",phone:"7"},{code:"RW",label:"Rwanda",phone:"250"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SB",label:"Solomon Islands",phone:"677"},{code:"SC",label:"Seychelles",phone:"248"},{code:"SD",label:"Sudan",phone:"249"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"SH",label:"Saint Helena",phone:"290"},{code:"SI",label:"Slovenia",phone:"386"},{code:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{code:"SK",label:"Slovakia",phone:"421"},{code:"SL",label:"Sierra Leone",phone:"232"},{code:"SM",label:"San Marino",phone:"378"},{code:"SN",label:"Senegal",phone:"221"},{code:"SO",label:"Somalia",phone:"252"},{code:"SR",label:"Suriname",phone:"597"},{code:"SS",label:"South Sudan",phone:"211"},{code:"ST",label:"Sao Tome and Principe",phone:"239"},{code:"SV",label:"El Salvador",phone:"503"},{code:"SX",label:"Sint Maarten (Dutch part)",phone:"1-721"},{code:"SY",label:"Syrian Arab Republic",phone:"963"},{code:"SZ",label:"Swaziland",phone:"268"},{code:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{code:"TD",label:"Chad",phone:"235"},{code:"TF",label:"French Southern Territories",phone:"262"},{code:"TG",label:"Togo",phone:"228"},{code:"TH",label:"Thailand",phone:"66"},{code:"TJ",label:"Tajikistan",phone:"992"},{code:"TK",label:"Tokelau",phone:"690"},{code:"TL",label:"Timor-Leste",phone:"670"},{code:"TM",label:"Turkmenistan",phone:"993"},{code:"TN",label:"Tunisia",phone:"216"},{code:"TO",label:"Tonga",phone:"676"},{code:"TR",label:"Turkey",phone:"90"},{code:"TT",label:"Trinidad and Tobago",phone:"1-868"},{code:"TV",label:"Tuvalu",phone:"688"},{code:"TW",label:"Taiwan, Province of China",phone:"886"},{code:"TZ",label:"United Republic of Tanzania",phone:"255"},{code:"UA",label:"Ukraine",phone:"380"},{code:"UG",label:"Uganda",phone:"256"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"UY",label:"Uruguay",phone:"598"},{code:"UZ",label:"Uzbekistan",phone:"998"},{code:"VA",label:"Holy See (Vatican City State)",phone:"379"},{code:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{code:"VE",label:"Venezuela",phone:"58"},{code:"VG",label:"British Virgin Islands",phone:"1-284"},{code:"VI",label:"US Virgin Islands",phone:"1-340"},{code:"VN",label:"Vietnam",phone:"84"},{code:"VU",label:"Vanuatu",phone:"678"},{code:"WF",label:"Wallis and Futuna",phone:"681"},{code:"WS",label:"Samoa",phone:"685"},{code:"XK",label:"Kosovo",phone:"383"},{code:"YE",label:"Yemen",phone:"967"},{code:"YT",label:"Mayotte",phone:"262"},{code:"ZA",label:"South Africa",phone:"27"},{code:"ZM",label:"Zambia",phone:"260"},{code:"ZW",label:"Zimbabwe",phone:"263"},{code:"",label:"empty",phone:"-"},{code:"OTHER",label:"other",phone:"-"}],Pe=["formik","noDirty","name","label","style"];var Fe=Object(w.a)((function(e){return Object(S.a)({textField:function(t){return{"& label.Mui-focused":{color:t?e.palette.neutral.status.dirty:e.palette.primary.main},"& .MuiInput-underline:after":{borderBottomColor:t?e.palette.neutral.status.dirty:e.palette.primary.main},"& label":{color:t?e.palette.neutral.status.dirty:e.palette.neutral.emphasisText.medium},"& fieldset":{borderColor:t?e.palette.neutral.status.dirty:e.palette.neutral.emphasisText.medium}}},option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}})}));function Ee(e){var t=e.formik,a=e.noDirty,n=e.name,i=e.label,c=e.style,s=void 0===c?{width:300}:c,d=(Object(f.a)(e,Pe),function(e){return void 0===e?Be.find((function(e){return""===e.code})):Be.find((function(t){return t.code===e}))}),u=r.a.useState(d(t.values[n])),b=Object(o.a)(u,2),m=b[0],h=b[1];r.a.useEffect((function(){h(d(t.values[n]))}),[t.values,n]);var j=!0!==a&&t.values[n]!==t.initialValues[n],p=Fe(j),O=r.a.useState(""),x=Object(o.a)(O,2),_=x[0],v=x[1],y=Object(ne.a)().t;return Object(g.jsx)(qe.a,{style:s,options:Be,classes:{option:p.option},autoHighlight:!0,getOptionLabel:function(e){return y(e.code)},getOptionSelected:function(e){return e.code===m.code},value:m,onChange:function(e,a){!function(e){var a=null!==e?e.code:"";t.setFieldValue(n,a),h(e)}(a)},inputValue:_,onInputChange:function(e,t){v(t)},name:n,onBlur:t.handleBlur,renderOption:function(e){return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)("span",{children:""!==e.code&&"OTHER"!==e.code?(t=e.code,"undefined"!==typeof String.fromCodePoint?t.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)})):t):""}),""!==e.code&&"OTHER"!==e.code?y(e.code):y(e.label)," ",""!==e.code&&"OTHER"!==e.code?"("+e.code+") +"+e.phone:""]},e.code);var t},renderInput:function(e){return Object(g.jsx)(Ie.a,Object(l.a)(Object(l.a)({},e),{},{label:i,noDirty:a,className:p.textField,inputProps:Object(l.a)(Object(l.a)({},e.inputProps),{},{autoComplete:"new-password"}),error:t.status||void 0!==t.errors[n],helperText:t.touched[n]&&t.errors[n]}))}})}var De=a(555);function Re(){var e=r.a.useContext(x),t=Object(j.b)(),a=t.enqueueSnackbar,n=t.closeSnackbar,i=Object(ne.a)().t,c=function(e){return function(t){return function(e,t){return t&&a(i("success"),{variant:"success"}),Promise.resolve(e)}(t,e)}},s=function(t){return e.setUser({logged:!1,ping:!1}),a(i("warning_not_logged_in"),{variant:"warning"}),Promise.reject(t)},l=function(e){return a(i("warning_not_enough_privileges"),{variant:"warning"}),Promise.reject(e)},o=function(e,t,c,o,d,u){var b=function(e){return function(e,t){var c=function(c){a("Something went wrong! \ud83d\ude23 ".concat(c),{variant:"error",autoHideDuration:1e4,action:function(a){return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)("img",{src:"logo_centrifuga4_dark_error.svg",alt:"Logo Centr\xedfuga",style:{height:"35px"}}),t?Object(g.jsx)(De.a,{onClick:function(){navigator.clipboard.writeText("TO: vazquezrius.miquel@gmail.com\n\nTo mark an item, use a cross, like this: [X]\n\n\ud83d\udece\ufe0f TRIAGE\n[ ] This issue has been reported previously and has NOT been marked as solved\n[ ] This issue has been reported previously and has been marked as solved\n[ ] This issue has not been reported previously\n[ ] I have written the steps to reproduce the issue in the specified section below - \u26a0\ufe0frequired!\n\n\ud83d\ude4b TYPE OF REQUEST\n[ ] Feature request\n[X] Error report\n\n\ud83d\udccb STEPS\nDescribe what were you doing when this error happened!\n\n    example\n    1. Searched 'john' in the students section, two students appeared.\n    2. Clicked the CSV export option.\n    3. Nothing happened, the the error message appeared.\n\nWrite your steps for repeating the issue here:\n1. ...\n\n\n\ud83d\udcda STACK TRACE\n"+JSON.stringify(e)+"\n\n\n\ud83c\udf29\ufe0f RESPONSE\n"+JSON.stringify(e.response)+"\n\n\n\u2699\ufe0f DEVICE CONTEXT\n"+navigator.platform+"\n"+navigator.userAgent+"\n"+navigator.appVersion+"\n"+navigator.vendor+"\n").then((function(e){n(a),alert("Okey, so something got messed up... \ud83d\ude23 Let's fix it!\n\n\ud83d\udce4 Open your email client\n\ud83d\udccb Ctrl+V\n\u270f\ufe0f Fill in the details\n\ud83d\udce8 Send it to the support team!\n\n")}))},children:i("Report")}):null,Object(g.jsx)(De.a,{onClick:function(){n(a)},children:i("Dismiss")})]})}})};return"blob"==e.request.responseType?e.response.data.text().then((function(e){c(JSON.parse(e).message)})):c(""),Promise.reject(e)}(e,u)};if(401===e.request.status){if(!t)return Promise.reject(e);b=s}if(403===e.request.status){if(!c)return Promise.reject(e);b=l}return 400!==e.request.status||o?d?b(e):(b(e).catch((function(){})),null):Promise.reject(e)},d=function(e,t,a,n,r){return function(i){return o(i,e,t,a,n,r)}};return function(e){var t=e.handle401,a=void 0===t||t,n=e.handle403,r=void 0===n||n,i=e.handle400,s=void 0===i||i,l=e.errorOut,o=void 0===l||l,u=e.reportUnexpected,b=void 0===u||u,m=e.snackbarSuccess;return[c(void 0!==m&&m),d(a,r,s,o,b)]}}var Me=a(55);function Le(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};if("initialValues"in t){var r={};n=t.initialValues;for(var i=0,c=Object.entries(n);i<c.length;i++){var s=Object(o.a)(c[i],2),l=s[0],d=s[1];r[l]=null===d?"":d}t.initialValues=r}if("onSubmit"in t){var u=t.onSubmit,b=function(t,r){for(var i={},c=0,s=Object.entries(t);c<s.length;c++){var l=Object(o.a)(s[c],2),d=l[0],b=l[1],m=""===b?null:b;e&&(!e||m===n[d]||!a&&Array.isArray(n[d]))||(i[d]=m)}u(i,r)};t.onSubmit=b}return Object(Me.a)(t)}var Ge=["kindergarten_p0","kindergarten_p1","kindergarten_p2","kindergarten_p3","kindergarten_p4","kindergarten_p5","primary_1","primary_2","primary_3","primary_4","primary_5","primary_6","eso_1","eso_2","eso_3","eso_4","baccalaureate_1","baccalaureate_2","FP_lower","FP_higher","undergraduate","master","phd","other"],ze=a(274),Ve=a.n(ze),Ue=["formik"],Ke=function(e){var t=e.formik,a=Object(f.a)(e,Ue),n=Object(ne.a)().t;return Object(g.jsx)(N.a,Object(l.a)(Object(l.a)({onClick:t.handleReset,disabled:!t.dirty||t.isSubmitting},a),{},{children:Object(g.jsx)(R.a,{title:n("reset"),"aria-label":n("reset"),children:Object(g.jsx)(Ve.a,{})})}))},We=a(124),He=a.n(We),Ye={get:"get",patch:"patch",delete:"delete",post:"post",send_email:"send_email",invite_users:"invite_users",students:"students",courses:"courses",guardians:"guardians",payments:"payments",rooms:"rooms",schedules:"schedules",teachers:"teachers",users:"users",paymentReceipts:"payments-receipts",attendance:"attendance"};function Ze(){var e=r.a.useContext(x);return[function(t){return!ve||t.every((function(t){return e.needs.includes(t)}))},Ye]}var Je=["formik"],Xe=function(e){var t=e.formik,a=Object(f.a)(e,Je),n=Object(ne.a)().t,r=Ze(),i=Object(o.a)(r,2);return(0,i[0])([i[1].patch])&&Object(g.jsx)(N.a,Object(l.a)(Object(l.a)({type:"submit",disabled:!t.dirty||t.isSubmitting},a),{},{children:Object(g.jsx)(R.a,{title:n("save"),"aria-label":n("save"),children:Object(g.jsx)(He.a,{})})}))},Qe=/^.{8,}$/,$e=/^.{0,64}$/,et=/(?=.*[a-z])/,tt=/(?=.*[A-Z])/,at=/(?=.*\d)/,nt=/(?=.*[-\/:-@\!.,+`\xb4\-%&\(\)#$\u20ac_[-`{-~]{1,})/,rt=/^((?!\+).)*$/,it=(new RegExp(/^[0-9]{8}[TRWAGMYFPDXBNJZSQVHLCKE]$/i.source+"|"+/^[XYZ][0-9]{7}[A-Z]$/i.source).source,function(e){return ke.f().required(e("password_required")).matches(Qe,e("longer_8")).matches($e,e("shorter_64")).matches(et,e("has_lowercase")).matches(tt,e("has_uppercase")).matches(at,e("has_digit")).matches(nt,e("has_special"))}),ct=function(e){return ke.f().required(e("password_required")).oneOf([ke.e("password"),null],e("passwords_unmatched"))},st=function(e){return ke.f().email(e("invalid_email")).matches(rt,e("no_plus"))},lt=function(e){return st(e).required(e("email_required"))},ot=lt,dt=lt,ut=st,bt=function(e,t){return ke.f().required(e("field_required")).test("oneOfRequired","".concat(e("one_of"),": ").concat(t.toString()),(function(e){return t.includes(e)}))},mt=Object(w.a)((function(e){return{line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"},actionIcon:{float:"right"}}}));var ht=function(e){var t,a=e.currentPerson,n=e.patchService,i=e.newPerson,c=e.updateCurrentStudent,o=e.additionalFields,d=void 0===e.additionalValidation?{}:e.additionalValidation,u=(e.studentId,e.onUpdate),b=null===a,m=Object(ne.a)().t,h=mt(),j=Re(),p=b?{}:a,f=Le(!i,{initialValues:p,validationSchema:ke.d(Object(l.a)(Object(l.a)({},{email:ut(m),name:ke.f().required(m("name_required")),is_studying:ke.a().required(m("studying_required")),is_working:ke.a().required(m("working_required")),career:ke.f().when("is_working",{is:!0,then:ke.f().required(m("career_required"))}),education_entity:ke.f().when("is_studying",{is:!0,then:ke.f().required(m("education_entity_required"))}),education_year:ke.f().when("is_studying",{is:!0,then:ke.f().required(m("education_year_required"))})}),d)),enableReinitialize:!0,onSubmit:function(e,t){var a,r,o=t.setStatus,d=t.setSubmitting;i?(o(),(a=n.post(Object(l.a)({},e))).then.apply(a,Object(s.a)(j({snackbarSuccess:!0}))).then((function(t){c(t.id),"function"===typeof u&&u(e,t.id)})).catch((function(e){o(!0)})).finally((function(){d(!1)}))):Object.keys(e).length>0?(o(),(r=n.patch({id:p.id,body:e,initial_values:p})).then.apply(r,Object(s.a)(j({snackbarSuccess:!0}))).then((function(t){f.resetForm(t),c(t),"function"===typeof u&&u(e,p.id)})).catch((function(e){o(!0)})).finally((function(){d(!1)}))):d(!1)}});return Object(g.jsx)(oe.a,{children:b?Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Ne,{className:h.actionIcon}),Object(g.jsx)(Ne,{className:h.actionIcon}),Object(g.jsx)("div",{style:{clear:"both"},children:["100%","100%","100%","100%","100%","100%"].map((function(e,t){return Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:e,height:"60px"})},t)}))})]}):Object(g.jsxs)("form",{onSubmit:f.handleSubmit,children:[Object(g.jsx)(Ke,{className:h.actionIcon,formik:f}),Object(g.jsx)(Xe,{className:h.actionIcon,formik:f}),Object(g.jsx)(Ae,{label:m("id"),name:"id",disabled:!0,className:h.line,formik:f}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsx)(Ae,{label:m("name"),style:{flex:1},name:"name",formik:f}),Object(g.jsx)(Ae,{label:m("surname1"),style:{flex:1},name:"surname1",formik:f}),Object(g.jsx)(Ae,{label:m("surname2"),style:{flex:1},formik:f,name:"surname2"})]}),Object(g.jsx)(oe.a,{className:[h.line,h.composite],children:Object(g.jsx)(Ae,{label:m("email"),type:"email",style:{flex:1},formik:f,name:"email",helperText:f.touched.email&&f.errors.email})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsx)(Ae,{label:m("address"),formik:f,style:{flex:4},name:"address"}),Object(g.jsx)(Ae,{label:m("city"),style:{flex:2},formik:f,name:"city"}),Object(g.jsx)(Ae,{label:m("zip"),formik:f,type:"number",style:{flex:1},name:"zip"})]}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsx)(Ae,{label:m("dni"),style:{flex:1},formik:f,name:"dni"}),Object(g.jsx)(Ae,{label:m("phone"),type:"tel",style:{flex:1},formik:f,name:"phone"})]}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsx)(Ee,{formik:f,style:{flex:1},name:"country_of_origin",label:m("country_of_origin")}),Object(g.jsxs)(Ae,{label:m("gender"),style:{flex:1},formik:f,name:"gender",select:!0,children:[Object(g.jsx)(be.a,{value:"m",children:m("male")}),Object(g.jsx)(be.a,{value:"f",children:m("female")}),Object(g.jsx)(be.a,{value:"nb",children:m("nb")})]})]}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsxs)(Ae,{label:m("is_studying"),style:{flex:1},name:"is_studying",formik:f,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:m("yes")}),Object(g.jsx)(be.a,{value:!1,children:m("no")})]}),Object(g.jsx)(Ae,{label:m("education_entity"),style:{flex:2},formik:f,name:"education_entity"}),Object(g.jsx)(Ae,{label:m("education_year"),style:{flex:2},name:"education_year",formik:f,select:!0,children:Ge.map((function(e){return Object(g.jsx)(be.a,{value:e,children:m(e)},e)}))})]}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsxs)(Ae,{label:m("is_working"),style:{flex:1},name:"is_working",formik:f,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:m("yes")}),Object(g.jsx)(be.a,{value:!1,children:m("no")})]}),Object(g.jsx)(Ae,{label:m("career"),style:{flex:4},formik:f,name:"career"})]}),(t=o,void 0===t?null:Object(g.jsxs)("div",{children:[Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),t.map((function(e,t){return null==e?Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}):Object(g.jsx)(oe.a,{className:"".concat(h.line," ").concat(h.composite),children:e instanceof Array?e.map((function(e,a){return r.a.cloneElement(e,{formik:f,key:t+"-"+a})})):r.a.cloneElement(e,{formik:f})},t)}))]}))]})})},jt=a(560),pt=new(we("guardians")),ft=new(we("payments")),Ot=a(44),xt=a.n(Ot),gt=a(96),_t=a.n(gt),vt=a(27),yt=a.n(vt),wt=a(62),St=a.n(wt),kt=["bank-transfer","cash","bank-direct-debit"],Ct={name:null,surname1:null,surname2:null,email:null,address:null,city:null,zip:null,dni:null,phone:null,gender:null,country_of_origin:null,is_studying:null,education_entity:null,education_year:null,is_working:null,career:null},Nt=Object(l.a)(Object(l.a)({},Ct),{},{relation:null}),It=Object(l.a)(Object(l.a)({},Ct),{},{price_term:null,payment_comments:null,birth_date:null,other_comments:null,image_agreement:null,image_agreement_external:null,enrolment_status:null,default_payment_method:null}),Tt=r.a.createContext({loading:!1,startLoading:function(){},stopLoading:function(){}}),At=["children","setNewStudent","addStudentId","newStudent","title","currentStudent","updateCurrentStudent","patchService","deleteStudent","addNewGuardian"],qt=Object(w.a)((function(e){return{actionIcon:{float:"right"},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}}));var Bt=function(e){e.children;var t=e.setNewStudent,a=e.addStudentId,n=e.newStudent,i=(e.title,e.currentStudent),c=e.updateCurrentStudent,d=e.patchService,u=e.deleteStudent,b=e.addNewGuardian,m=(Object(f.a)(e,At),Object(ne.a)().t),h=null===i,j=qt(),O=Re(),x=Ze(),_=Object(o.a)(x,2),v=_[0],y=_[1],w=r.a.useContext(p),S=r.a.useContext(Tt),k=function(e){var t;S.startLoading(),(t=function(e){return new Promise((function(t,a){yt()({method:"post",url:"".concat(xe,"/emails/v1/grantEmail/").concat(e),headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}(e)).then.apply(t,Object(s.a)(O({snackbarSuccess:!0}))).finally((function(){S.stopLoading()}))},C=function(){var e,t;S.startLoading(),(t=i.id,e=new Promise((function(e,a){yt()({method:"post",url:"".concat(xe,"/emails/v1/enrolmentEmail/").concat(t),headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(t){e(t)})).catch((function(e){a(e)}))}))).then.apply(e,Object(s.a)(O({snackbarSuccess:!0}))).finally((function(){S.stopLoading()}))};return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(oe.a,{p:3,children:Object(g.jsxs)(oe.a,{px:2,children:[h?!n&&Object(g.jsx)(Ne,{className:j.actionIcon}):!n&&v([y.guardians,y.post])&&Object(g.jsx)(R.a,{style:{float:"right"},title:m("new_guardian"),"aria-label":m("new_guardian"),children:Object(g.jsx)(N.a,{onClick:function(e){b()},children:Object(g.jsx)(ue.a,{})})}),h&&!n?Object(g.jsx)(Ne,{className:j.actionIcon}):v([y.delete])&&Object(g.jsx)(R.a,{style:{float:"right"},title:m("delete"),"aria-label":m("delete"),children:Object(g.jsx)(N.a,{onClick:function(e){n?t(!1):w.confirm("delete_student_question","student_also_deletes",(function(){!function(){var e;(e=Se.delete(i.id)).then.apply(e,Object(s.a)(O({snackbarSuccess:!0}))).then((function(e){var t,a;(t=ft.deleteMany(i.payments)).then.apply(t,Object(s.a)(O({}))).then((function(e){})),(a=pt.deleteMany(i.guardians)).then.apply(a,Object(s.a)(O({}))).then((function(e){})),u(i.id)}))}(i.id)}))},children:Object(g.jsx)(xt.a,{})})}),Object(g.jsx)(ht,{currentPerson:n?It:i,newPerson:n,updateCurrentStudent:function(e){if(!n)return c(e);a(e)},patchService:d,onUpdate:function(e,t){"enrolment_status"in e&&"enrolled"===e.enrolment_status&&w.confirm("send_grant_letter_question","this_will_be_sent",(function(){k(t)}))},additionalValidation:{enrolment_status:ke.f().required(m("status_required")),image_agreement:ke.a().required(m("image_required")),image_agreement_external:ke.a().required(m("image_required")),birth_date:ke.b().required(m("birthdate_required"))},additionalFields:[[Object(g.jsx)(Ae,{label:m("price_term"),style:{flex:1},name:"price_term",type:"number",InputProps:{endAdornment:Object(g.jsx)(jt.a,{position:"end",children:"\u20ac"})}}),Object(g.jsx)(Ae,{label:m("default_payment_method"),style:{flex:1},name:"default_payment_method",select:!0,children:kt.map((function(e){return Object(g.jsx)(be.a,{value:e,children:m(e)},e)}))})],Object(g.jsx)(Ae,{label:m("payment_comments"),style:{flex:1},multiline:!0,rowsMax:8,name:"payment_comments"}),null,[Object(g.jsx)(Ae,{label:m("birthdate"),type:"date",style:{flex:1},name:"birth_date",InputLabelProps:{shrink:!0}}),Object(g.jsx)(Ae,{label:m("years_in_xamfra"),type:"number",style:{flex:1},name:"years_in_xamfra"})],[Object(g.jsx)(Ae,{label:m("status"),style:{flex:1},name:"enrolment_status",select:!0,children:["enrolled","early-unenrolled","pre-enrolled"].map((function(e){return Object(g.jsx)(be.a,{value:e,children:m(e)},e)}))}),Object(g.jsxs)(Ae,{label:m("image_agreement"),style:{flex:1},name:"image_agreement",select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:m("yes")}),Object(g.jsx)(be.a,{value:!1,children:m("no")})]}),Object(g.jsxs)(Ae,{label:m("image_agreement_external"),style:{flex:1},name:"image_agreement_external",select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:m("yes")}),Object(g.jsx)(be.a,{value:!1,children:m("no")})]})],[Object(g.jsx)(Ae,{label:m("pre_enrolment_date"),type:"date",style:{flex:1},name:"pre_enrolment_date",InputLabelProps:{shrink:!0}}),Object(g.jsx)(Ae,{label:m("enrolment_date"),type:"date",style:{flex:1},name:"enrolment_date",InputLabelProps:{shrink:!0}}),Object(g.jsx)(Ae,{label:m("early_unenrolment_date"),type:"date",style:{flex:1},name:"early_unenrolment_date",InputLabelProps:{shrink:!0}})],Object(g.jsx)(Ae,{label:m("other_comments"),style:{flex:1},multiline:!0,rowsMax:8,name:"other_comments"})]}),!h&&!n&&Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsxs)(oe.a,{className:[j.line,j.composite],children:[!h&&!n&&v([y.send_email])&&Object(g.jsx)(R.a,{style:{flex:1},title:m("send_grant_letter"),"aria-label":m("send_grant_letter"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:j.button,disabled:S.loading,startIcon:Object(g.jsx)(_t.a,{}),onClick:function(e){k(i.id)},children:m("grant_letter")})}),!h&&!n&&Object(g.jsx)(R.a,{style:{flex:1},title:m("export_grant_letter"),"aria-label":m("export_grant_letter"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:j.button,disabled:S.loading,startIcon:Object(g.jsx)(St.a,{}),onClick:function(e){var t;S.loading||(S.startLoading(),(t=Se.downloadSubresource(i.id,"grantLetter")).then.apply(t,Object(s.a)(O({snackbarSuccess:!0}))).finally((function(){S.stopLoading()})))},children:m("grant_letter")})})]}),Object(g.jsxs)(oe.a,{className:[j.line,j.composite],children:[!h&&!n&&v([y.send_email])&&Object(g.jsx)(R.a,{style:{flex:1},title:m("send_enrolment_agreement"),"aria-label":m("enrolment_agreement"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:j.button,startIcon:Object(g.jsx)(_t.a,{}),disabled:S.loading,onClick:function(e){C()},children:m("enrolment_agreement")})}),!h&&!n&&Object(g.jsx)(R.a,{style:{flex:1},title:m("export_enrolment_agreement"),"aria-label":m("export_enrolment_agreement"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:j.button,startIcon:Object(g.jsx)(St.a,{}),disabled:S.loading,onClick:function(e){var t;S.loading||(S.startLoading(),(t=Se.downloadSubresource(i.id,"enrolmentAgreement")).then.apply(t,Object(s.a)(O({snackbarSuccess:!0}))).finally((function(){S.stopLoading()})))},children:m("enrolment_agreement")})})]}),Object(g.jsx)(oe.a,{className:[j.line,j.composite],children:!h&&!n&&Object(g.jsx)(R.a,{style:{flex:1},title:m("export_attendance_list"),"aria-label":m("export_attendance_list"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:j.button,startIcon:Object(g.jsx)(St.a,{}),disabled:S.loading,onClick:function(e){!function(){var e;(e=Se.downloadSubresource(i.id,"attendance-list")).then.apply(e,Object(s.a)(O({snackbarSuccess:!0})))}()},children:m("export_attendance_list")})})})]})})})},Pt=new(we("students","guardians")),Ft=["father","mother","grandfather","grandmother","brother","sister","uncle","aunt","cousin","legal_guardian","ss_agent","other"],Et=["studentId","title","guardianId","deleteGuardianId","addGuardianId","deleteNewGuardian","newGuardian"];var Dt=function(e){var t=e.studentId,a=(e.title,e.guardianId),i=e.deleteGuardianId,c=e.addGuardianId,l=e.deleteNewGuardian,d=e.newGuardian,u=void 0!==d&&d,b=(Object(f.a)(e,Et),Object(ne.a)().t),m=Re(),h=Object(n.useState)(null),j=Object(o.a)(h,2),O=j[0],x=j[1],_=Ze(),v=Object(o.a)(_,2),y=v[0],w=v[1];Object(n.useEffect)((function(){var e;u||(e=pt.getOne(a)).then.apply(e,Object(s.a)(m({}))).then((function(e){x(e.data)}))}),[a]);var S=r.a.useContext(p);return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(oe.a,{p:3,children:Object(g.jsxs)(oe.a,{px:2,children:[y([w.delete])&&Object(g.jsx)(N.a,{style:{float:"right"},onClick:function(e){u?l():S.confirm("delete_guardian_question","not_undone",(function(){var e;(e=pt.delete(a)).then.apply(e,Object(s.a)(m({snackbarSuccess:!0}))).then((function(e){i(a)}))}))},children:Object(g.jsx)(R.a,{title:b("delete"),"aria-label":b("delete"),children:Object(g.jsx)(xt.a,{})})}),Object(g.jsx)(ht,{currentPerson:u?Nt:O,studentId:t,newPerson:u,updateCurrentStudent:function(e){var a;if(!u)return x(e);(a=Pt.postWithId(t,e)).then.apply(a,Object(s.a)(m({snackbarSuccess:!0}))).then((function(){c(e)}))},patchService:pt,additionalValidation:{relation:ke.f().required(b("relation_required"))},additionalFields:[[Object(g.jsxs)(Ae,{label:b("relation"),style:{flex:1},name:"relation",select:!0,children:[Ft.map((function(e){return Object(g.jsx)(be.a,{value:e,children:b(e)},e)})),"))}"]})]]})]})})})},Rt=a(68),Mt=a(126),Lt=a.n(Mt),Gt=a(201),zt=a.n(Gt),Vt=a(202),Ut=a.n(Vt),Kt=a(561),Wt=a(562),Ht=a(564),Yt=a(563),Zt=a(548),Jt=a(599),Xt=a(200),Qt=a.n(Xt),$t=a(127),ea=a.n($t),ta=a(565),aa=Object(w.a)((function(e){return{root:{maxWidth:"100%",backgroundColor:"dark"===e.palette.type?"#575757":null},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:e.palette.secondary.main},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}}));function na(e){var t=e.payment,a=e.updatePayment,n=e.deletePayment,i=e.newPayment,c=void 0!==i&&i,d=e.addPaymentId,u=e.student_id,b=Object(ne.a)().t,m=aa(),h=r.a.useState(c),j=Object(o.a)(h,2),f=j[0],O=j[1],x=Re(),_=Ze(),v=Object(o.a)(_,2),w=v[0],S=v[1],k=r.a.useContext(p),I=r.a.useContext(Tt),T=function(e){var t;I.startLoading(),(t=function(e){return new Promise((function(t,a){yt()({method:"post",url:"".concat(xe,"/emails/v1/paymentReceipt/").concat(e),headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}(e)).then.apply(t,Object(s.a)(x({snackbarSuccess:!0}))).finally((function(){I.stopLoading()}))},A=Le(!c,{initialValues:t,validationSchema:ke.d({method:bt(b,kt),quantity:ke.c().required(b("import_required")),date:ke.b().required(b("date_required"))}),enableReinitialize:!0,onSubmit:function(e,n){var r,i,o=n.setStatus,b=n.setSubmitting;Object.keys(e).length>0?(o(),c?(r=ft.post(Object(l.a)(Object(l.a)({},e),{},{student_id:u}))).then.apply(r,Object(s.a)(x({snackbarSuccess:!0}))).then((function(e){d(e.id),k.confirm("send_receipt","send_receipt",(function(){return T(e.id)}))})).catch((function(e){o(!0)})).finally((function(){b(!1)})):(i=ft.patch({id:t.id,body:e,initial_values:t})).then.apply(i,Object(s.a)(x({snackbarSuccess:!0}))).then((function(e){A.resetForm(e),a(e.id,e)})).catch((function(e){o(!0)})).finally((function(){b(!1)}))):b(!1)}});return Object(g.jsx)(oe.a,{my:2,children:Object(g.jsxs)(Kt.a,{className:m.root,children:[Object(g.jsx)(Wt.a,{avatar:Object(g.jsx)(R.a,{title:"cash"===t.method?b("has_paid_cash"):"bank-transfer"===t.method?b("tooltip-bank-transfer"):"bank-direct-debit"===t.method?b("tooltip-bank-direct-debit"):b("other-payment-method"),children:Object(g.jsx)(Jt.a,{"aria-label":"recipe",className:m.avatar,children:"cash"===t.method?Object(g.jsx)(Qt.a,{}):"bank-transfer"===t.method?Object(g.jsx)(zt.a,{}):"bank-direct-debit"===t.method?Object(g.jsx)(X.a,{}):Object(g.jsx)(Lt.a,{})})}),action:w([S.delete])&&Object(g.jsx)(R.a,{title:b("delete"),"aria-label":b("delete"),children:Object(g.jsx)(N.a,{onClick:function(e){k.confirm("delete_payment","not_undone",(function(){n(t.id)}))},children:Object(g.jsx)(xt.a,{})})}),title:c?b("new_payment"):"".concat(b("has_paid")," ").concat(t.quantity,"\u20ac"),subheader:t.date}),!c&&Object(g.jsxs)(Yt.a,{disableSpacing:!0,children:[w([S.paymentReceipts])&&Object(g.jsx)(R.a,{title:b("export_receipt"),"aria-label":b("export_receipt"),children:Object(g.jsx)(N.a,{disabled:I.loading,"aria-label":b("export_receipt"),onClick:function(e){var a;I.startLoading(),(a=ft.downloadSubresource(t.id,"receipt")).then.apply(a,Object(s.a)(x({snackbarSuccess:!0}))).finally((function(){I.stopLoading()}))},children:Object(g.jsx)(Ut.a,{})})}),w([S.paymentReceipts,S.send_email])&&Object(g.jsx)(R.a,{title:b("send_receipt"),"aria-label":b("send_receipt"),children:Object(g.jsx)(N.a,{disabled:I.loading,"aria-label":b("send_receipt"),onClick:function(){return T(t.id)},children:Object(g.jsx)(_t.a,{})})}),Object(g.jsx)(N.a,{className:Object(C.a)(m.expand,Object(y.a)({},m.expandOpen,f)),onClick:function(){O(!f)},"aria-expanded":f,"aria-label":"show more",children:Object(g.jsx)(ea.a,{})})]}),Object(g.jsx)(Zt.a,{in:f,timeout:"auto",unmountOnExit:!0,children:Object(g.jsx)(Ht.a,{children:Object(g.jsx)(oe.a,{children:null===t?Object(g.jsx)(oe.a,{children:["100%","100%","100%"].map((function(e,t){return Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:e,height:"60px"})},t)}))}):Object(g.jsxs)("form",{onSubmit:A.handleSubmit,children:[Object(g.jsx)(Ae,{label:b("id"),name:"id",disabled:!0,className:m.line,formik:A}),Object(g.jsxs)(oe.a,{className:[m.line,m.composite],children:[Object(g.jsx)(Ae,{label:b("method"),style:{flex:1},formik:A,name:"method",select:!0,children:kt.map((function(e){return Object(g.jsx)(be.a,{value:e,children:b(e)},e)}))}),Object(g.jsx)(Ae,{label:b("import"),formik:A,type:"number",style:{flex:1},name:"quantity",InputProps:{endAdornment:Object(g.jsx)(jt.a,{position:"end",children:"\u20ac"})}}),Object(g.jsx)(Ae,{label:b("date"),formik:A,type:"date",style:{flex:1},name:"date",InputLabelProps:{shrink:!0}})]}),Object(g.jsx)(oe.a,{className:[m.line,m.composite],children:Object(g.jsx)(Ae,{label:b("concept"),formik:A,style:{flex:1},multiline:!0,rowsMax:8,name:"concept"})}),Object(g.jsxs)(ta.a,{children:[Object(g.jsx)(De.a,{type:"button",className:"outline",onClick:A.handleReset,disabled:!A.dirty||A.isSubmitting,children:b("reset")}),w([S.patch])&&Object(g.jsx)(De.a,{type:"submit",disabled:!A.dirty||A.isSubmitting,children:b(c?"create":"save")})]})]})})})})]})})}var ra=a(128),ia=a.n(ra),ca=["children","title","paymentIds","deletePaymentFromStudent","addPaymentId","student_id"],sa=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return{id:null,date:"".concat(n,"-").concat(a<=9?"0"+a:a,"-").concat(t<=9?"0"+t:t),quantity:null,concept:null,method:null}},la=Object(w.a)((function(e){return{actionIcon:{float:"right"},newLine:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column"}}}));var oa,da=function(e){e.children,e.title;var t=e.paymentIds,a=e.deletePaymentFromStudent,r=e.addPaymentId,i=e.student_id,c=(Object(f.a)(e,ca),Object(ne.a)().t),l=la(),d=Re(),u=null===t,b=Object(n.useState)([]),m=Object(o.a)(b,2),h=m[0],j=m[1],p=Object(n.useState)(!1),O=Object(o.a)(p,2),x=O[0],_=O[1];Object(n.useEffect)((function(){_(!1)}),[h]);var v=function(e,t){j(h.map((function(a){return a.id!==e?a:t})))},y=Ze(),w=Object(o.a)(y,2),S=w[0],k=w[1],C=function(e){var t;(t=ft.delete(e)).then.apply(t,Object(s.a)(d({snackbarSuccess:!0}))).then((function(t){a(e)}))};return Object(n.useEffect)((function(){var e;null!==t&&(0===t.length?j([]):(e=ft.getMany(t)).then.apply(e,Object(s.a)(d({}))).then((function(e){j(e.map((function(e){return e.data})).sort((function(e,t){return e.date.localeCompare(t.date)})))})))}),[t]),Object(g.jsxs)(oe.a,{p:3,children:["  "," ",Object(g.jsxs)(oe.a,{px:2,children:[u?Object(g.jsx)(Ne,{className:l.actionIcon}):S([k.post])&&Object(g.jsx)(R.a,{className:l.actionIcon,title:c("new_payment"),"aria-label":c("new_payment"),children:Object(g.jsx)(N.a,{onClick:function(e){_(!0)},children:Object(g.jsx)(ia.a,{})})}),Object(g.jsxs)("div",{className:l.newLine,children:[h&&h.map((function(e){return Object(g.jsx)(na,{payment:e,updatePayment:v,deletePayment:C},e.id)})),x&&Object(g.jsx)(na,{payment:sa(),updatePayment:v,deletePayment:function(e){_(!1)},newPayment:!0,student_id:i,addPaymentId:r}),u&&Object(g.jsx)(Ce.a,{width:"100%",height:"250px"}),!u&&0===h.length&&!x&&Object(g.jsx)(Rt.a,{children:c("no_payments")})]})]})]})},ua=new(we("schedules")),ba=a(39),ma=a(275),ha=a(311),ja=a(312),pa=a(309),fa=a(276),Oa=a(566),xa=a(567),ga=r.a.createContext({currentTab:null,goTo:function(e){}}),_a=["snapDuration","allowView","viewUrl","allowDelete","selectable","viewStudent","deleteCustom","scheduleIds","setScheduleIds","onEventClick","onEventSelected","onEventChange","editable"],va=function(e,t){return{daysOfWeek:[t.day_week],title:t.display_name,groupId:[t.id],id:t.id,startTime:t.start_time,endTime:t.end_time,color:t.is_base?e.palette.secondary.main:e.palette.secondary.light,textColor:(t.is_base,e.palette.secondary.contrastText),extendedProps:{schedule:t}}};function ya(e){if(console.log(typeof e),"function"===typeof e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.apply(void 0,a)}return e}var wa=function(e){var t=e.snapDuration,a=void 0===t?"00:15":t,i=e.allowView,c=void 0!==i&&i,l=e.viewUrl,d=void 0===l?null:l,u=e.allowDelete,b=void 0!==u&&u,m=e.selectable,h=void 0!==m&&m,j=(e.viewStudent,e.deleteCustom,e.scheduleIds),p=e.setScheduleIds,O=(e.onEventClick,e.onEventSelected),x=e.onEventChange,_=e.editable,v=void 0!==_&&_,y=(Object(f.a)(e,_a),Re()),w=Object(ba.a)(),S=r.a.createRef(),k=pa.a.div(oa||(oa=Object(ma.a)(["\n      .fc-button, .fc-button.fc-button-primary {\n        background: ",";\n        color: ",";\n        border-color: ",";\n        background-image: none;\n    }\n    .fc-button:enabled:hover {\n        background: ",";\n        color: ",";\n        border-color: ",";\n        background-image: none;\n    }\n    "])),w.palette.primary.main,w.palette.primary.contrastText,w.palette.primary.main,w.palette.primary.dark,w.palette.primary.contrastText,w.palette.primary.dark),C=Object(n.useState)(null),N=Object(o.a)(C,2),I=N[0],T=N[1],A=null===j,q=Object(ne.a)().t;Object(n.useEffect)((function(){var e;null!==j&&(0===j.length?T([]):(e=ua.getMany(j)).then.apply(e,Object(s.a)(y({}))).then((function(e){T(e.map((function(e){return e.data})).map((function(e){return va(w,e)})))})))}),[j,w]);var B=function(e,t){return e(t,t.event.start.getDay(),t.event.start.toLocaleTimeString("en-US",{hour12:!1}),t.event.end.toLocaleTimeString("en-US",{hour12:!1}),t.event.extendedProps.schedule)},P=r.a.useContext(ga),F=r.a.useState({open:!1,event:null,schedule:null}),E=Object(o.a)(F,2),D=E[0],R=E[1],M=function(){R({open:!1,event:null,schedule:null})};return Object(g.jsx)(oe.a,{p:2,style:{height:"100%",flex:1,minHeight:"70vh"},children:A?Object(g.jsx)(Ce.a,{variant:"rect",width:"100%",height:"100%"}):Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsxs)(Oa.a,{open:D.open,onClose:M,"aria-labelledby":"form-dialog-title",children:[Object(g.jsx)(xa.a,{id:"form-dialog-title",children:D.schedule?D.schedule.display_name:""}),Object(g.jsxs)(ta.a,{children:[Object(g.jsx)(De.a,{onClick:M,color:"primary",children:q("cancel")}),Object(g.jsx)(De.a,{disabled:!(null!==D.schedule&&ya(c,D.schedule)),onClick:function(){P.goTo.apply(P,Object(s.a)(ya(d,D.schedule))),M()},color:"primary",children:q("view")}),Object(g.jsx)(De.a,{disabled:!(null!==D.schedule&&ya(b,D.schedule)),onClick:function(){var e;(e=ua.delete(D.schedule.id)).then.apply(e,Object(s.a)(y({snackbarSuccess:!0}))).then((function(e){M(),p(j.filter((function(e){return e!==D.schedule.id}))),T(I.filter((function(e){return e.id!==D.schedule.id})))}))},color:"secondary",children:q("delete")})]})]}),Object(g.jsx)(k,{style:{height:"100%"},children:Object(g.jsx)(ha.a,{plugins:[ja.a,fa.a],initialView:"timeGridWeek",height:"100%",firstDay:1,ref:S,editable:v,buttonText:{prev:"<",next:">",prevYear:"<<",nextYear:">>",today:"today",month:"month",week:"week",day:"day"},selectable:h,selectMirror:!0,dayMaxEvents:!0,weekends:!0,snapDuration:a,events:I,eventAdd:function(){},eventChange:function(e){},eventRemove:function(){},select:function(e){e.view.calendar.unselect(),O(e.start.getDay(),e.start.toLocaleTimeString("en-US",{hour12:!1}),e.end.toLocaleTimeString("en-US",{hour12:!1}))},eventContent:function(){},eventClick:function(e){!function(e){R({open:!0,event:e.event,schedule:e.event.extendedProps.schedule})}(e)},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},eventResize:function(e){return B(x,e)},eventDrop:function(e){return B(x,e)}})})]})})};Object(w.a)((function(e){return{button:{margin:e.spacing(1)},calendar:{margin:e.spacing(2)}}}));var Sa=new(we("students","courses")),ka=new(we("courses")),Ca=a(518),Na=a(575),Ia=a(590),Ta=a(571),Aa=a(278),qa=a.n(Aa),Ba=a(319),Pa=a(277),Fa=a.n(Pa),Ea=Object(w.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}}));function Da(e){var t=e.label,a=e.searchTitle,n=e.onChange,r=e.onSearch,i=Ea(),c=Object(ne.a)().t;return Object(g.jsxs)(re.a,{className:i.root,children:[Object(g.jsx)(Ba.a,{className:i.input,placeholder:c("search")+" "+t,inputProps:{"aria-label":"search "+t},value:a,onChange:n,onKeyPress:function(e){"Enter"===e.key&&(r(),e.preventDefault())}}),Object(g.jsx)(N.a,{type:"submit",className:i.iconButton,"aria-label":"search",onClick:r,children:Object(g.jsx)(Fa.a,{})})]})}var Ra=a(600),Ma=a(569),La=a(570),Ga=a(597),za=a(573),Va=r.a.createContext({theme:null,switchTheme:function(){},label:null}),Ua=Object(w.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",flexWrap:"wrap"}}}));function Ka(e){var t=e.searchTermField,a=void 0===t?"full_name":t,n=e.searchTerm,i=void 0===n?null:n,c=e.page,l=void 0===c?null:c,o=e.dataService,d=e.exportAll,u=void 0!==d&&d,b=e.getFilters,m=void 0===b?null:b,h=(Ua(),Object(ne.a)().t),j=Re(),p=r.a.useContext(Tt);return Object(g.jsx)(R.a,{title:h(u?"export_all_csv":"export_results_csv"),"aria-label":h(u?"export_all_csv":"export_results_csv"),children:Object(g.jsx)(Ga.a,{variant:"outlined",color:"primary",size:"small",disabled:p.loading,avatar:Object(g.jsx)(Jt.a,{children:"csv"}),label:h(u?"export_all":"export"),onClick:function(){var e;p.loading||(p.startLoading(),(e=o.downloadCsv(a,i,u?"*":l,null===m?{}:m(),u)).then.apply(e,Object(s.a)(j({}))).finally((function(){p.stopLoading()})))}})})}var Wa=qa()((function(e){return{root:{flex:1,overflow:"auto",display:"flex",flexDirection:"column"},list:{overflow:"auto",display:"flex",flexDirection:"column",flex:1,minHeight:"150px"},searchAndFilters:{display:"flex",flexDirection:"column"},pagination:{margin:e.spacing(3)},chip:{margin:e.spacing(2)},avatar:{},selectedAvatar:{backgroundColor:e.palette.primary.dark},chips:{flexWrap:"wrap","& > *":{margin:e.spacing(.5)},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}},noResults:{textAlign:"center"}}})),Ha=function(e){var t=e.setCurrentItemId,a=void 0===t?function(){}:t,i=e.auxFields,c=void 0===i?[]:i,d=e.displayText,u=void 0===d?null:d,b=e.onItemClick,m=void 0===b?function(){}:b,h=e.parent_id,j=void 0===h?null:h,p=e.secondaryDisplayNameField,f=void 0===p?null:p,O=e.secondaryAction,x=void 0===O?null:O,_=e.secondaryActionNeeds,v=void 0===_?[]:_,w=e.secondaryActionTooltip,S=void 0===w?null:w,k=e.secondaryActionIcon,C=void 0===k?null:k,I=e.secondaryActionCallable,T=void 0===I?null:I,A=e.withAvatar,q=void 0===A||A,B=e.withFiltersBox,D=void 0===B||B,L=e.chips,G=void 0===L?[]:L,z=e.currentItemId,V=void 0===z?null:z,U=e.items,K=e.setItems,W=e.displayNameField,H=void 0===W?"full_name":W,Y=e.usableFilters,Z=void 0===Y?[]:Y,J=e.defaultSearchBy,X=void 0===J?"full_name":J,Q=e.searchByOptions,$=void 0===Q?["full_name"]:Q,ee=e.dataService,te=e.searchBarLabel,ae=e.exportPage,re=void 0===ae||ae,ie=e.exportAllPages,ce=void 0===ie||ie,se=Object(n.useState)(""),le=Object(o.a)(se,2),de=le[0],ue=le[1],be=Object(n.useState)(Z.reduce((function(e,t){return e[t.name]=t.initialValue,e}),{})),me=Object(o.a)(be,2),he=me[0],je=me[1],pe=Object(n.useState)(X),fe=Object(o.a)(pe,2),Oe=fe[0],xe=fe[1],ge=Object(ne.a)().t,_e=Object(n.useState)(1),ve=Object(o.a)(_e,2),ye=ve[0],we=ve[1],Se=Object(n.useState)(0),ke=Object(o.a)(Se,2),Ce=ke[0],Ne=ke[1],Ie=Re(),Te=Ze(),Ae=Object(o.a)(Te,2),qe=Ae[0],Be=(Ae[1],Wa());function Pe(){return Object.fromEntries(Object.entries(he).filter((function(e){var t=Object(o.a)(e,2);t[0];return null!==t[1]})))}function Fe(){var e;(e=ee.getAll({name:Oe,value:de},ye,Object(s.a)(new Set(["id",H,null===f?"id":f].concat(Object(s.a)(c)))),Pe(),j)).then.apply(e,Object(s.a)(Ie({}))).then((function(e){K(e.data),Ne(e._pagination.totalPages)}))}Object(n.useEffect)((function(){1===ye?Fe():we(1)}),[he]),Object(n.useEffect)(Fe,[ye,Oe,j]);return Object(g.jsxs)(oe.a,{className:Be.root,children:[Object(g.jsxs)(oe.a,{className:Be.searchAndFilters,children:[Object(g.jsx)(Da,{label:ge(te),value:de,onChange:function(e){ue(e.target.value)},onSearch:function(){1===ye?Fe():we(1)}}),D&&Object(g.jsxs)(Ra.a,{children:[Object(g.jsx)(Ma.a,{expandIcon:Object(g.jsx)(ea.a,{}),children:Object(g.jsx)(Rt.a,{className:Be.heading,children:ge("filters_actions")})}),Object(g.jsx)(La.a,{children:Object(g.jsxs)(oe.a,{className:Be.chips,children:[re&&Array.isArray(U)&&U.length>0&&Object(g.jsx)(Ka,{searchTerm:de,page:ye,searchTermField:Oe,dataService:ee,getFilters:Pe}),ce&&Array.isArray(U)&&U.length>0&&Object(g.jsx)(Ka,{searchTerm:de,page:ye,dataService:ee,searchTermField:Oe,exportAll:!0,getFilters:Pe}),G.map((function(e){return e})),"\xb7",$.map((function(e){return Object(g.jsx)(R.a,{title:"".concat(ge("search_by")," ").concat(ge(e)),children:Object(g.jsx)(Ga.a,{size:"small",color:Oe===e?"primary":"default",label:"".concat(ge("search_by")," ").concat(ge(e)),onClick:function(t){xe(Oe===e?X:e)}})},e)})),Z.map((function(e){return Object(g.jsxs)(r.a.Fragment,{children:["\xb7 ",e.options.map((function(t){return Object(g.jsx)(R.a,{title:ge(t.tooltip),"aria-label":ge(t.tooltip),children:Object(g.jsx)(Ga.a,{size:"small",color:he[e.name]===t.name?"primary":"default",label:ge(t.label),onClick:function(a){je(Object(l.a)(Object(l.a)({},he),{},Object(y.a)({},e.name,he[e.name]===t.name?null:t.name)))}})},e.name+t.name)}))]})}))]})})]}),Object(g.jsx)(oe.a,{my:2,children:Object(g.jsx)(Ia.a,{className:"pagination",count:Ce,page:ye,size:"small",showFirstButton:!0,showLastButton:!0,siblingCount:1,boundaryCount:1,color:"primary",onChange:function(e,t){we(t)}})})]}),Object(g.jsxs)(F.a,{className:Be.list,children:[U&&U.map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsxs)(E.a,{button:!0,onClick:function(){m(e.id),a(e.id)},children:[q&&Object(g.jsx)(Ta.a,{children:Object(g.jsx)(Jt.a,{className:e.id===V?Be.selectedAvatar:Be.avatar,children:e[H].charAt(0).toUpperCase()})}),Object(g.jsx)(M.a,{id:"name",primary:null===u?e[H]:u(e),secondary:null===f?null:e[f]}),x&&qe(v)&&Object(g.jsx)(za.a,{children:Object(g.jsx)(R.a,{title:ge(S),children:Object(g.jsx)(N.a,{edge:"end","aria-label":ge("export"),onClick:function(t){T(e.id)},children:C})})})]},e.id),Object(g.jsx)(P.a,{})]},e.id)})),0===U.length&&Object(g.jsx)(Rt.a,{className:Be.noResults,children:ge("no_results")+" \ud83d\udc40"})]})]})},Ya=["dataService","displayText","auxFields","parent_id","deleteTooltip","delete_message","onItemDeleted"],Za=function(e){var t=e.dataService,a=e.displayText,n=e.auxFields,i=e.parent_id,c=e.deleteTooltip,o=e.delete_message,d=e.onItemDeleted,u=void 0===d?function(){}:d,b=Object(f.a)(e,Ya),m=Re(),h=r.a.useContext(p);Object(ne.a)().t;return Object(g.jsx)(Ha,Object(l.a)({secondaryAction:!0,withFiltersBox:!1,withAvatar:!1,secondaryActionCallable:function(e){h.confirm(o,"not_undone",(function(){var a;(a=t.delete(i,e)).then.apply(a,Object(s.a)(m({snackbarSuccess:!0}))).then((function(t){u(e)}))}))},parent_id:i,displayText:a,auxFields:n,secondaryActionTooltip:c,secondaryActionNeeds:[Ye.delete],secondaryActionIcon:Object(g.jsx)(xt.a,{}),dataService:t},b))},Ja=["dataService","dataServiceSR","add_message","parent_id","onAdded"],Xa=function(e){var t=e.dataService,a=e.dataServiceSR,i=e.add_message,c=e.parent_id,d=e.onAdded,u=void 0===d?function(){}:d,b=Object(f.a)(e,Ja),m=Re(),h=r.a.useContext(p),j=Object(n.useState)([]),O=Object(o.a)(j,2),x=O[0],_=O[1];return Object(g.jsx)(Ha,Object(l.a)({secondaryAction:!1,items:x,setItems:_,withFiltersBox:!1,withAvatar:!1,dataService:t,onItemClick:function(e){h.confirm(i,null,(function(){var t;if(null===a)return u(e,null);(t=a.postWithId(c,e)).then.apply(t,Object(s.a)(m({snackbarSuccess:!0}))).then((function(t){u(e,t.data)}))}))}},b))},Qa=["defaultSearchBy","withFiltersBox","displayText","auxFields","parentItemDataService","itemDataService","add_message_confirm","parent_id","secondaryDisplayNameField","searchByOptions","resourceName","displayNameField","add_message","onSubresourceAdded","onSubresourceDeleted","usableFilters"],$a=r.a.forwardRef((function(e,t){return Object(g.jsx)(Ca.a,Object(l.a)({direction:"up",ref:t},e))})),en=Object(w.a)((function(e){return{list:{overflow:"auto",display:"flex",flexDirection:"column",flex:1},box:{display:"flex",flexDirection:"column"},pagination:{margin:"30px"},appBar:{position:"relative"},newLine:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column"},title:{marginLeft:e.spacing(2),flex:1},actionIcon:{float:"right"}}}));var tn=function(e){var t=e.defaultSearchBy,a=e.withFiltersBox,i=void 0!==a&&a,c=e.displayText,l=e.auxFields,d=e.parentItemDataService,u=e.itemDataService,b=e.add_message_confirm,m=e.parent_id,h=e.secondaryDisplayNameField,j=e.searchByOptions,p=e.resourceName,O=e.displayNameField,x=e.add_message,_=e.onSubresourceAdded,v=e.onSubresourceDeleted,y=e.usableFilters,w=(Object(f.a)(e,Qa),Object(ne.a)().t),S=en(),C=Object(n.useState)(!1),I=Object(o.a)(C,2),T=I[0],A=I[1],q=function(){A(!1)},B=Ze(),P=Object(o.a)(B,2),F=P[0],E=P[1],D=null===m,M=Object(n.useState)([]),L=Object(o.a)(M,2),G=L[0],z=L[1],V=r.a.useContext(ga);return Object(g.jsxs)(oe.a,{p:3,children:["  "," ",Object(g.jsxs)(oe.a,{px:2,children:[Object(g.jsxs)(Oa.a,{fullScreen:!0,open:T,onClose:q,TransitionComponent:$a,children:[Object(g.jsx)(k.a,{className:S.appBar,color:"secondary",children:Object(g.jsxs)(Na.a,{children:[Object(g.jsx)(Rt.a,{variant:"h6",className:S.title,children:w(x)}),Object(g.jsx)(De.a,{autoFocus:!0,color:"inherit",onClick:q,children:w("cancel")})]})}),Object(g.jsx)(oe.a,{className:S.box,m:3,children:Object(g.jsx)(Xa,{dataService:u,dataServiceSR:d,defaultSearchBy:t,searchByOptions:j,searchBarLabel:p,displayNameField:O,secondaryDisplayNameField:h,parent_id:m,add_message:b,onAdded:function(e,t){z([].concat(Object(s.a)(G),[t])),_(e),q()}})})]}),D?Object(g.jsx)(Ne,{className:S.actionIcon}):F([E.post])&&Object(g.jsx)(R.a,{className:S.actionIcon,title:w(x),"aria-label":w(x),children:Object(g.jsx)(N.a,{onClick:function(){A(!0)},children:Object(g.jsx)(ia.a,{})})}),Object(g.jsx)("div",{className:S.newLine,children:D?Object(g.jsx)(Ce.a,{width:"100%",height:"250px"}):Object(g.jsx)(Za,{dataService:d,defaultSearchBy:t,searchByOptions:j,items:G,withFiltersBox:i,setItems:z,displayText:c,auxFields:l,searchBarLabel:p,displayNameField:O,usableFilters:y,parent_id:m,deleteTooltip:"delete",delete_message:w("delete")+" "+w(p),onItemDeleted:function(e){z(G.filter((function(t){return t.id!==e}))),v(e)},onItemClick:function(e){V.goTo(p,e)}})})]})]})},an=["value","index","children"];function nn(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var rn=function(e){var t=e.value,a=e.index,n=e.children,r=Object(f.a)(e,an);return Object(g.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:t!==a,id:"full-width-tabpanel-".concat(a),"aria-labelledby":"full-width-tab-".concat(a),style:{height:"100%",flex:1}},r),{},{children:n}))},cn=["setNewStudent","newStudent","addStudentId","currentStudentId","deleteStudent"],sn=Object(w.a)((function(e){return{contentPanel:{position:"relative",overflow:"auto",boxSizing:"border-box",height:"100%",display:"flex",flexDirection:"column"},content:{overflowX:"hidden",display:"flex",flexDirection:"column",overflowY:"auto",flex:1,height:"100%"},tab:{height:"100%"}}}));function ln(e){var t=e.setNewStudent,a=e.newStudent,i=e.addStudentId,c=e.currentStudentId,d=e.deleteStudent,u=(Object(f.a)(e,cn),null===c),b=Re(),m=Object(n.useState)(null),h=Object(o.a)(m,2),j=h[0],p=h[1],O=Object(n.useState)(!1),x=Object(o.a)(O,2),_=x[0],v=x[1],y=Ze(),w=Object(o.a)(y,2),S=w[0],C=w[1];Object(n.useEffect)((function(){var e;if(u)return p(null);(e=Se.getOne(c)).then.apply(e,Object(s.a)(b({}))).then((function(e){p(e.data)}))}),[c]);var N=sn(),I=G()(),T=Object(ne.a)().t,A=r.a.useState(0),q=Object(o.a)(A,2),B=q[0],P=q[1];Object(n.useEffect)((function(){P(0)}),[c]);var F=null===j?[]:j.guardians;return Object(g.jsxs)(re.a,{elevation:3,square:!0,className:N.contentPanel,children:[Object(g.jsx)(k.a,{position:"static",color:"default",children:Object(g.jsxs)(se.a,{value:B,onChange:function(e,t){P(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[Object(g.jsx)(le.a,Object(l.a)({label:T("attendee")},nn(0))),!a&&S([C.schedules])&&Object(g.jsx)(le.a,Object(l.a)({label:T("schedules")},nn(1))),!a&&S([C.payments])&&Object(g.jsx)(le.a,Object(l.a)({label:T("payments")},nn(2))),!a&&S([C.courses])&&Object(g.jsx)(le.a,Object(l.a)({label:T("courses")},nn(3))),!a&&F&&S([C.guardians])&&F.map((function(e,t){return Object(g.jsx)(le.a,Object(l.a)({label:T("contact")+" "+(t+1)},nn(t+4)),T("contact")+" "+(t+1))})),!a&&_&&Object(g.jsx)(le.a,Object(l.a)({label:T("new_guardian")},nn(4+F.length)),T("new_guardian"))]})}),Object(g.jsxs)(ce.a,{axis:"rtl"===I.direction?"x-reverse":"x",index:B,containerStyle:{height:"100%"},className:N.content,onChangeIndex:function(e){P(e)},children:[Object(g.jsx)(rn,{value:B,index:0,children:Object(g.jsx)(Bt,{setNewStudent:t,dir:I.direction,newStudent:a,title:T("attendee"),currentStudent:j,addStudentId:i,patchService:Se,updateCurrentStudent:p,deleteStudent:d,addNewGuardian:function(){v(!0),P(4+F.length)}})}),S([C.schedules])&&Object(g.jsx)(rn,{value:B,index:1,children:Object(g.jsx)(wa,{allowDelete:function(e){return!e.is_base},allowView:!0,viewUrl:function(e){return["/courses",e.course_id]},setScheduleIds:function(e){return p(Object(l.a)(Object(l.a)({},j),{},{schedules:e}))},onEventChange:function(e,t,a,n,r){var i,o,d=e.event,u={};(u.day_week=t,u.start_time=a,u.end_time=n,r.is_base)?(u.course_id=r.course_id,u.student_id=c,(i=ua.post(u)).then.apply(i,Object(s.a)(b({errorOut:!0,snackbarSuccess:!0}))).then((function(t){var a=e.view.calendar;d.is_base=!1,a.addEvent(va(I,t)),e.revert(),p(Object(l.a)(Object(l.a)({},j),{},{schedules:[].concat(Object(s.a)(j.schedules),[t.id])}))})).catch((function(t){e.revert()}))):(o=ua.patch({id:r.id,body:u,initial_values:r})).then.apply(o,Object(s.a)(b({errorOut:!0,snackbarSuccess:!0}))).then((function(e){})).catch((function(t){e.revert()}))},scheduleIds:null===j?null:j.schedules,editable:!0,selectable:!1})}),S([C.payments])&&Object(g.jsx)(rn,{value:B,index:2,children:Object(g.jsx)(da,{paymentIds:null===j?null:j.payments,addPaymentId:function(e){p(Object(l.a)(Object(l.a)({},j),{},{payments:[].concat(Object(s.a)(j.payments),[e])}))},student_id:c,deletePaymentFromStudent:function(e){p(Object(l.a)(Object(l.a)({},j),{},{payments:j.payments.filter((function(t){return t!==e}))}))}})}),S([C.courses])&&Object(g.jsxs)(rn,{value:B,index:3,children:[" ",Object(g.jsx)(tn,{defaultSearchBy:"name",parentItemDataService:Sa,itemDataService:ka,add_message_confirm:"confirm_enroll_to_course",parent_id:c,secondaryDisplayNameField:"description",searchByOptions:["name"],resourceName:"courses",displayNameField:"name",add_message:"enroll_to_course",onSubresourceAdded:function(e){p(Object(l.a)(Object(l.a)({},j),{},{courses:[].concat(Object(s.a)(j.courses),[e])}))},onSubresourceDeleted:function(e){p(Object(l.a)(Object(l.a)({},j),{},{courses:j.courses.filter((function(t){return t!==e}))}))}})]}),F&&S([C.guardians])&&F.map((function(e,t){return Object(g.jsx)(rn,{value:B,index:t+4,children:Object(g.jsx)(Dt,{dir:I.direction,guardianId:e,deleteGuardianId:function(e){p(Object(l.a)(Object(l.a)({},j),{},{guardians:j.guardians.filter((function(t){return t!==e}))})),P(0)}},e)})})),Object(g.jsx)(rn,{value:B,index:4+F.length,children:Object(g.jsx)(Dt,{dir:I.direction,newGuardian:!0,deleteNewGuardian:function(){v(!1),P(0)},studentId:c,addGuardianId:function(e){v(!1),p(Object(l.a)(Object(l.a)({},j),{},{guardians:[].concat(Object(s.a)(j.guardians),[e])})),P(4+F.length)},deleteGuardianId:function(e){p(Object(l.a)(Object(l.a)({},j),{},{guardians:j.guardians.filter((function(t){return t!==e}))})),P(0)}})})]})]})}var on=a(578),dn=a(97),un=a.n(dn),bn=["dataService"],mn=function(e){var t=e.dataService,a=Object(f.a)(e,bn),n=Re(),r=Object(ne.a)().t;return Object(g.jsx)(Ha,Object(l.a)({secondaryAction:!0,secondaryActionCallable:function(e){var a;(a=t.downloadOneCsv(e)).then.apply(a,Object(s.a)(n({})))},secondaryActionTooltip:r("export")+" .csv",secondaryActionIcon:Object(g.jsx)(St.a,{}),dataService:t},a))},hn=Object(w.a)((function(e){return{root:{height:"100%"},left:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));var jn=a(580);function pn(e){var t=e.formik,a=Object(ne.a)().t;return Object(g.jsx)(Ae,{label:a("role"),style:{flex:1},name:"role_id",formik:t,select:!0,children:[{name:"administrator",id:"administrator"},{name:"administrative",id:"administrative"},{name:"layman",id:"layman"},{name:"teacher",id:"teacher"},{name:"empty",id:"empty"},{name:"no role",id:null}].map((function(e){return Object(g.jsx)(be.a,{value:e.id,children:a(e.name)},e.name)}))})}var fn={inviteUser:function(e,t){return new Promise((function(a,n){yt()({url:"".concat(xe,"/user-invites/v1/request"),method:"POST",headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe()),data:{user_email:e,role_id:t}}).then((function(e){a(!0)})).catch((function(e){n(e)}))}))}};var On=new(we("users")),xn=a(279),gn=a.n(xn),_n=new(we("teachers")),vn=["children","addStudentId","newStudent","title","currentStudent","updateCurrentStudent","patchService","deleteStudent","addNewGuardian"],yn=r.a.forwardRef((function(e,t){return Object(g.jsx)(Ca.a,Object(l.a)({direction:"up",ref:t},e))})),wn=Object(w.a)((function(e){return Object(y.a)({actionIcon:{float:"right"},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"},list:{overflow:"auto",display:"flex",flexDirection:"column",flex:1},box:{display:"flex",flexDirection:"column"},pagination:{margin:"30px"},appBar:{position:"relative"},newLine:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column"},title:{marginLeft:e.spacing(2),flex:1}},"actionIcon",{float:"right"})}));var Sn=function(e){e.children,e.addStudentId,e.newStudent,e.title;var t=e.currentStudent,a=e.updateCurrentStudent,i=(e.patchService,e.deleteStudent),c=(e.addNewGuardian,Object(f.a)(e,vn),Object(ne.a)().t),l=null===t,d=wn(),u=Re(),b=Object(n.useState)(!1),m=Object(o.a)(b,2),h=m[0],j=m[1],O=function(){j(!1)},x=r.a.useContext(p),_=l?{}:t,v=Le(!0,{initialValues:_,validationSchema:ke.d({email:dt(c),name:ke.f().required(c("name_required")),role_id:ke.f().nullable()}),enableReinitialize:!0,onSubmit:function(e,t){var n,r=t.setStatus,i=t.setSubmitting;Object.keys(e).length>0?(r(),(n=On.patch({id:_.id,body:e,initial_values:_})).then.apply(n,Object(s.a)(u({snackbarSuccess:!0}))).then((function(e){v.resetForm(e),a(e)})).catch((function(e){r(!0)})).finally((function(){i(!1)}))):i(!1)}}),y=Ze(),w=Object(o.a)(y,2),S=w[0],C=w[1];return Object(g.jsx)(oe.a,{p:3,children:Object(g.jsxs)(oe.a,{px:2,children:[Object(g.jsxs)(Oa.a,{fullScreen:!0,open:h,onClose:O,TransitionComponent:yn,children:[Object(g.jsx)(k.a,{className:d.appBar,color:"secondary",children:Object(g.jsxs)(Na.a,{children:[Object(g.jsx)(Rt.a,{variant:"h6",className:d.title,children:c("teacher-user")}),Object(g.jsx)(De.a,{autoFocus:!0,color:"inherit",onClick:O,children:c("cancel")})]})}),Object(g.jsx)(oe.a,{className:d.box,m:3,children:Object(g.jsx)(Xa,{dataService:_n,dataServiceSR:null,defaultSearchBy:"full_name",searchByOptions:["full_name"],searchBarLabel:"teachers",displayNameField:"full_name",secondaryDisplayNameField:null,parent_id:null===t?null:t.id,add_message:"link-user-to-teacher",onAdded:function(e,t){O(),v.setFieldValue("teacher_id",e),v.setFieldTouched("teacher_id",!0)}})})]}),l?Object(g.jsx)(Ne,{className:d.actionIcon}):S([C.delete])&&Object(g.jsx)(R.a,{style:{float:"right"},title:c("delete"),"aria-label":c("delete"),children:Object(g.jsx)(N.a,{onClick:function(e){x.confirm("delete_user_question","not_undone",(function(){!function(){var e;(e=On.delete(t.id)).then.apply(e,Object(s.a)(u({snackbarSuccess:!0}))).then((function(e){i(t.id)}))}()}))},children:Object(g.jsx)(xt.a,{})})}),l?Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Ne,{className:d.actionIcon}),Object(g.jsx)(Ne,{className:d.actionIcon}),Object(g.jsx)("div",{style:{clear:"both"},children:["100%","100%","100%"].map((function(e,t){return Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:e,height:"60px"})},t)}))})]}):Object(g.jsxs)("form",{onSubmit:v.handleSubmit,children:[Object(g.jsx)(Ke,{className:d.actionIcon,formik:v}),Object(g.jsx)(Xe,{className:d.actionIcon,formik:v}),Object(g.jsx)(Ae,{label:c("id"),name:"id",disabled:!0,className:d.line,formik:v}),Object(g.jsxs)(oe.a,{className:[d.line,d.composite],children:[Object(g.jsx)(Ae,{label:c("name"),style:{flex:1},name:"name",formik:v}),Object(g.jsx)(Ae,{label:c("surname1"),style:{flex:1},name:"surname1",formik:v}),Object(g.jsx)(Ae,{label:c("surname2"),style:{flex:1},formik:v,name:"surname2"})]}),Object(g.jsx)(oe.a,{className:[d.line,d.composite],children:Object(g.jsx)(Ae,{label:c("email"),type:"email",style:{flex:1},formik:v,name:"email",helperText:v.touched.email&&v.errors.email})}),Object(g.jsx)(oe.a,{className:[d.line,d.composite],children:Object(g.jsx)(pn,{formik:v})}),"teacher"==v.values.role&&Object(g.jsx)(oe.a,{className:[d.line,d.composite],children:Object(g.jsx)(Ae,{label:c("teacher"),style:{flex:1},name:"teacher_id",formik:v,disabled:!0,InputProps:{endAdornment:Object(g.jsx)(jt.a,{position:"end",children:Object(g.jsx)(N.a,{"aria-label":"link teacher",onClick:function(){j(!0)},children:Object(g.jsx)(gn.a,{})})})}})})]})]})})},kn=(new(we("users","needs")),a(579)),Cn=a(592),Nn=["name","value","formik","noDirty"],In=Object(w.a)((function(e){return Object(S.a)({root:function(t){return{color:t?e.palette.neutral.status.dirty:e.palette.neutral.emphasisText.medium,"&.Mui-checked":{color:t?e.palette.neutral.status.dirty:e.palette.primary.main}}}})})),Tn=function(e){var t=e.name,a=e.value,n=e.formik,r=e.noDirty,i=void 0!==r&&r,c=Object(f.a)(e,Nn),s=!0!==i&&(void 0!==n.values[t]&&void 0!==n.initialValues[t]&&n.values[t].includes(a)!==n.initialValues[t].includes(a)),o=In(s);return Object(g.jsx)(Cn.a,Object(l.a)({name:t,className:o.root,value:a,onChange:n.handleChange,onBlur:n.handleBlur,error:n.status||void 0!==n.errors[t],helperText:n.touched[t]&&n.errors[t],checked:n.values[t]},c))};var An=a(73),qn=function(e,t){var a,n=new Set(e),r=Object(An.a)(t);try{for(r.s();!(a=r.n()).done;){var i=a.value;n.has(i)?n.delete(i):n.add(i)}}catch(c){r.e(c)}finally{r.f()}return n};Object(w.a)((function(e){return{actionIcon:{float:"right"},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}}));var Bn=Object(w.a)((function(e){return{contentPanel:{position:"relative",overflow:"auto",boxSizing:"border-box",height:"100%",display:"flex",flexDirection:"column"},content:{overflowX:"hidden",display:"flex",flexDirection:"column",overflowY:"auto",flex:1,height:"100%"},tab:{height:"100%"}}}));function Pn(e){var t=e.currentUserId,a=e.deleteUser,i=null===t,c=Re(),d=Object(n.useState)(null),u=Object(o.a)(d,2),b=u[0],m=u[1];Object(n.useEffect)((function(){var e;if(i)return m(null);(e=On.getOne(t)).then.apply(e,Object(s.a)(c({}))).then((function(e){m(e.data)}))}),[t,i]);var h=Bn(),j=G()(),p=Object(ne.a)().t,f=r.a.useState(0),O=Object(o.a)(f,2),x=O[0],_=O[1];Object(n.useEffect)((function(){_(0)}),[t]);return Object(g.jsxs)(re.a,{elevation:3,square:!0,className:h.contentPanel,children:[Object(g.jsx)(k.a,{position:"static",color:"default",children:Object(g.jsx)(se.a,{value:x,onChange:function(e,t){_(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:Object(g.jsx)(le.a,Object(l.a)({label:p("user")},nn(0)))})}),Object(g.jsx)(ce.a,{axis:"rtl"===j.direction?"x-reverse":"x",index:x,containerStyle:{height:"100%"},className:h.content,onChangeIndex:function(e){_(e)},children:Object(g.jsx)(rn,{value:x,index:0,children:Object(g.jsx)(Sn,{dir:j.direction,currentStudent:b,updateCurrentStudent:m,deleteStudent:a})})})]})}var Fn=Object(w.a)((function(e){return{root:{height:"100%"},root2:{display:"flex"},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"},formControl:{padding:e.spacing(2),maxHeight:"50vh",overflow:"auto",minWidth:"40vw"},dialog:{},left:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));var En=Object(w.a)((function(e){return{root:{height:"100%"},root2:{display:"flex"},formControl:{padding:e.spacing(2),maxHeight:"50vh",overflow:"auto",minWidth:"40vw"},dialog:{},left:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));var Dn=new(we("rooms")),Rn=["scheduleIds"],Mn=Object(w.a)((function(e){return{button:{margin:e.spacing(1)},calendar:{margin:e.spacing(2)}}}));var Ln=function(e){var t=e.scheduleIds,a=Object(f.a)(e,Rn);return Object(ne.a)().t,Mn(),Object(g.jsx)("div",Object(l.a)(Object(l.a)({},a),{},{style:{height:"100%",flex:1,minHeight:"70vh"},children:Object(g.jsx)(wa,{scheduleIds:t,editable:!1,allowView:!0,viewUrl:function(e){return["/courses",e.course_id]}})}))},Gn=["children","addStudentId","setNewRoom","newRoom","newStudent","title","currentStudent","updateCurrentStudent","patchService","deleteStudent","addNewGuardian"],zn=Object(w.a)((function(e){return{actionIcon:{float:"right"},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}}));var Vn=function(e){e.children,e.addStudentId;var t=e.setNewRoom,a=e.newRoom,n=(e.newStudent,e.title,e.currentStudent),i=e.updateCurrentStudent,c=(e.patchService,e.deleteStudent),l=(e.addNewGuardian,Object(f.a)(e,Gn),Object(ne.a)().t),d=null===n,u=zn(),b=Re(),m=r.a.useContext(p),h=d?{}:n,j=Le(!a,{initialValues:h,validationSchema:ke.d({name:ke.f().required(l("name_required"))}),enableReinitialize:!0,onSubmit:function(e,n){var r,c,l=n.setStatus,o=n.setSubmitting;Object.keys(e).length>0?(l(),a?(r=Dn.post(e)).then.apply(r,Object(s.a)(b({snackbarSuccess:!0}))).then((function(e){i(e),t(!1)})).catch((function(e){l(!0)})).finally((function(){o(!1)})):(c=Dn.patch({id:h.id,body:e,initial_values:h})).then.apply(c,Object(s.a)(b({snackbarSuccess:!0}))).then((function(e){j.resetForm(e),i(e)})).catch((function(e){l(!0)})).finally((function(){o(!1)}))):o(!1)}}),O=Ze(),x=Object(o.a)(O,2),_=x[0],v=x[1];return Object(g.jsx)(oe.a,{p:3,children:Object(g.jsxs)(oe.a,{px:2,children:[!a&&d?Object(g.jsx)(Ne,{className:u.actionIcon}):_([v.delete])&&Object(g.jsx)(R.a,{style:{float:"right"},title:l("delete"),"aria-label":l("delete"),children:Object(g.jsx)(N.a,{onClick:function(e){a?t(!1):m.confirm("delete_room_question","not_undone",(function(){!function(){var e;(e=Dn.delete(n.id)).then.apply(e,Object(s.a)(b({snackbarSuccess:!0}))).then((function(e){c(n.id)}))}()}))},children:Object(g.jsx)(xt.a,{})})}),!a&&d?Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Ne,{className:u.actionIcon}),Object(g.jsx)(Ne,{className:u.actionIcon}),Object(g.jsx)("div",{style:{clear:"both"},children:["100%","100%","100%","100%"].map((function(e,t){return Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:e,height:"60px"})},t)}))})]}):Object(g.jsxs)("form",{onSubmit:j.handleSubmit,children:[Object(g.jsx)(Ke,{className:u.actionIcon,formik:j}),Object(g.jsx)(Xe,{className:u.actionIcon,formik:j}),Object(g.jsx)(Ae,{label:l("id"),name:"id",disabled:!0,className:u.line,formik:j}),Object(g.jsxs)(oe.a,{className:[u.line,u.composite],children:[Object(g.jsx)(Ae,{label:l("name"),style:{flex:4},name:"name",formik:j}),Object(g.jsx)(Ae,{label:l("capacity"),style:{flex:1},name:"capacity",formik:j,type:"number"})]})]})]})})},Un=Object(w.a)((function(e){return{contentPanel:{position:"relative",overflow:"auto",boxSizing:"border-box",height:"100%",display:"flex",flexDirection:"column"},content:{overflowX:"hidden",display:"flex",flexDirection:"column",overflowY:"auto",flex:1,height:"100%"},tab:{height:"100%"}}}));function Kn(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}function Wn(e){var t=e.setNewRoom,a=e.currentRoomId,i=e.deleteRoom,c=e.newRoom,d=(e.addRoomId,null===a),u=Re(),b=Object(n.useState)(null),m=Object(o.a)(b,2),h=m[0],j=m[1];Object(n.useEffect)((function(){var e;if(d)return j(null);(e=Dn.getOne(a)).then.apply(e,Object(s.a)(u({}))).then((function(e){j(e.data)}))}),[a]);var p=Un(),f=G()(),O=Object(ne.a)().t,x=r.a.useState(0),_=Object(o.a)(x,2),v=_[0],y=_[1];Object(n.useEffect)((function(){y(0)}),[a]);var w=Ze(),S=Object(o.a)(w,2),C=S[0],N=S[1];return Object(g.jsxs)(re.a,{elevation:3,square:!0,className:p.contentPanel,children:[Object(g.jsx)(k.a,{position:"static",color:"default",children:Object(g.jsxs)(se.a,{value:v,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[Object(g.jsx)(le.a,Object(l.a)({label:O("room")},Kn(0))),!c&&C([N.schedules])&&Object(g.jsx)(le.a,Object(l.a)({label:O("schedules")},Kn(1)))]})}),Object(g.jsxs)(ce.a,{axis:"rtl"===f.direction?"x-reverse":"x",index:v,containerStyle:{height:"100%"},className:p.content,onChangeIndex:function(e){y(e)},children:[Object(g.jsxs)(rn,{value:v,index:0,children:[" ",Object(g.jsx)(Vn,{newRoom:c,setNewRoom:t,dir:f.direction,currentStudent:h,updateCurrentStudent:j,deleteStudent:i})]}),C([N.schedules])&&Object(g.jsx)(rn,{value:v,index:1,children:Object(g.jsx)(Ln,{value:v,index:1,className:p.tab,dir:f.direction,scheduleIds:null===h?null:h.schedules,student_id:a})})]})]})}var Hn=Object(w.a)((function(e){return{root:{height:"100%"},left:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));var Yn=new(we("teachers","courses"));function Zn(e,t,a){return new Promise((function(n,r){yt()({url:"".concat(xe,"/calendars/v1/").concat(e,"/").concat(t,"/").concat(a),method:"GET",headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(e){var t=e.headers["content-disposition"].split("filename=")[1];null===t&&(t="calendar.ics");var a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a,r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove(),n()})).catch((function(e){r(e)}))}))}var Jn=["children","addStudentId","setNewRoom","newRoom","title","currentStudent","updateCurrentStudent","patchService","deleteStudent","addNewGuardian"],Xn=Object(w.a)((function(e){return{actionIcon:{float:"right"},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}}));var Qn=function(e){e.children,e.addStudentId;var t=e.setNewRoom,a=e.newRoom,n=(e.title,e.currentStudent),i=e.updateCurrentStudent,c=(e.patchService,e.deleteStudent),l=(e.addNewGuardian,Object(f.a)(e,Jn),Object(ne.a)().t),d=null===n,u=Xn(),b=Re(),m=r.a.useContext(p),h=d?{}:n,j=Le(!a,{initialValues:h,validationSchema:ke.d({email:dt(l),name:ke.f().required(l("name_required"))}),enableReinitialize:!0,onSubmit:function(e,n){var r,c,l=n.setStatus,o=n.setSubmitting;Object.keys(e).length>0?(l(),a?(r=_n.post(e)).then.apply(r,Object(s.a)(b({snackbarSuccess:!0}))).then((function(e){i(e),t(!1)})).catch((function(e){l(!0)})).finally((function(){o(!1)})):(c=_n.patch({id:h.id,body:e,initial_values:h})).then.apply(c,Object(s.a)(b({snackbarSuccess:!0}))).then((function(e){j.resetForm(e),i(e)})).catch((function(e){l(!0)})).finally((function(){o(!1)}))):o(!1)}}),O=Ze(),x=Object(o.a)(O,2),_=x[0],v=x[1];return Object(g.jsx)(oe.a,{p:3,children:Object(g.jsxs)(oe.a,{px:2,children:[!a&&d?Object(g.jsx)(Ne,{className:u.actionIcon}):_([v.delete])&&Object(g.jsx)(R.a,{style:{float:"right"},title:l("delete"),"aria-label":l("delete"),children:Object(g.jsx)(N.a,{onClick:function(e){a?t(!1):m.confirm("delete_teacher","not_undone",(function(){!function(){var e;(e=_n.delete(n.id)).then.apply(e,Object(s.a)(b({snackbarSuccess:!0}))).then((function(e){c(n.id)}))}()}))},children:Object(g.jsx)(xt.a,{})})}),!a&&d?Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Ne,{className:u.actionIcon}),Object(g.jsx)(Ne,{className:u.actionIcon}),Object(g.jsx)("div",{style:{clear:"both"},children:["100%","100%","100%","100%"].map((function(e,t){return Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:e,height:"60px"})},t)}))})]}):Object(g.jsxs)("form",{onSubmit:j.handleSubmit,children:[Object(g.jsx)(Ke,{className:u.actionIcon,formik:j}),Object(g.jsx)(Xe,{className:u.actionIcon,formik:j}),Object(g.jsx)(Ae,{label:l("id"),name:"id",disabled:!0,className:u.line,formik:j}),Object(g.jsx)(Ae,{label:l("calendar_url"),name:"calendar_url",disabled:!0,className:u.line,formik:j}),Object(g.jsxs)(oe.a,{className:[u.line,u.composite],children:[Object(g.jsx)(Ae,{label:l("name"),style:{flex:1},name:"name",formik:j}),Object(g.jsx)(Ae,{label:l("surname1"),style:{flex:1},name:"surname1",formik:j}),Object(g.jsx)(Ae,{label:l("surname2"),style:{flex:1},formik:j,name:"surname2"})]}),Object(g.jsx)(oe.a,{className:[u.line,u.composite],children:Object(g.jsx)(Ae,{label:l("email"),type:"email",style:{flex:1},formik:j,name:"email",helperText:j.touched.email&&j.errors.email})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsxs)(oe.a,{className:[u.line,u.composite],children:[Object(g.jsx)(Ae,{label:l("address"),formik:j,style:{flex:4},name:"address"}),Object(g.jsx)(Ae,{label:l("city"),style:{flex:2},formik:j,name:"city"}),Object(g.jsx)(Ae,{label:l("zip"),formik:j,type:"number",style:{flex:1},name:"zip"})]}),Object(g.jsxs)(oe.a,{className:[u.line,u.composite],children:[Object(g.jsx)(Ae,{label:l("dni"),style:{flex:1},formik:j,name:"dni"}),Object(g.jsx)(Ae,{label:l("phone"),type:"tel",style:{flex:1},formik:j,name:"phone"})]}),!d&&!a&&Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[u.line,u.composite],children:!d&&!a&&Object(g.jsx)(R.a,{style:{flex:1},title:l("export_calendar"),"aria-label":l("send_grant_letter"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:u.button,startIcon:Object(g.jsx)(St.a,{}),onClick:function(e){Zn("teachers",n.id,n.calendar_id).then((function(e){}))},children:l("export_calendar")})})})]})]})})},$n=["setSchedulesIds","scheduleIds"],er=Object(w.a)((function(e){return{button:{margin:e.spacing(1)},calendar:{margin:e.spacing(2)}}}));var tr=function(e){e.setSchedulesIds;var t=e.scheduleIds,a=Object(f.a)(e,$n);return Object(ne.a)().t,er(),Object(g.jsx)("div",Object(l.a)(Object(l.a)({},a),{},{style:{height:"100%",flex:1,minHeight:"70vh"},children:Object(g.jsx)(wa,{scheduleIds:t,editable:!1,allowView:!0,viewUrl:function(e){return["/courses",e.course_id]}})}))},ar=Object(w.a)((function(e){return{contentPanel:{position:"relative",overflow:"auto",boxSizing:"border-box",height:"100%",display:"flex",flexDirection:"column"},content:{overflowX:"hidden",display:"flex",flexDirection:"column",overflowY:"auto",flex:1,height:"100%"},tab:{height:"100%"}}}));function nr(e){var t=e.currentTeacherId,a=e.setNewTeacher,i=(e.addTeacherId,e.newTeacher),c=e.deleteTeacher,d=null===t,u=Re(),b=Object(n.useState)(null),m=Object(o.a)(b,2),h=m[0],j=m[1];Object(n.useEffect)((function(){var e;if(d)return j(null);(e=_n.getOne(t)).then.apply(e,Object(s.a)(u({}))).then((function(e){j(e.data)}))}),[t]);var p=ar(),f=G()(),O=Object(ne.a)().t,x=r.a.useState(0),_=Object(o.a)(x,2),v=_[0],y=_[1];Object(n.useEffect)((function(){y(0)}),[t]);var w=Ze(),S=Object(o.a)(w,2),C=S[0],N=S[1];return Object(g.jsxs)(re.a,{elevation:3,square:!0,className:p.contentPanel,children:[Object(g.jsx)(k.a,{position:"static",color:"default",children:Object(g.jsxs)(se.a,{value:v,onChange:function(e,t){y(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[Object(g.jsx)(le.a,Object(l.a)({label:O("teacher")},nn(0))),!i&&C([N.schedules])&&Object(g.jsx)(le.a,Object(l.a)({label:O("schedules")},nn(1))),!i&&C([N.courses])&&Object(g.jsx)(le.a,Object(l.a)({label:O("courses")},nn(2)))]})}),Object(g.jsxs)(ce.a,{axis:"rtl"===f.direction?"x-reverse":"x",index:v,containerStyle:{height:"100%"},className:p.content,onChangeIndex:function(e){y(e)},children:[Object(g.jsx)(rn,{value:v,index:0,children:Object(g.jsx)(Qn,{newRoom:i,setNewRoom:a,dir:f.direction,currentStudent:h,updateCurrentStudent:j,deleteStudent:c})}),C([N.schedules])&&Object(g.jsx)(rn,{value:v,index:1,children:Object(g.jsx)(tr,{className:p.tab,dir:f.direction,scheduleIds:null===h?null:h.schedules,student_id:t})}),C([N.courses])&&Object(g.jsx)(rn,{value:v,index:2,children:Object(g.jsx)(tn,{defaultSearchBy:"name",parentItemDataService:Yn,itemDataService:ka,add_message_confirm:"confirm_enroll_to_course",parent_id:t,secondaryDisplayNameField:"description",searchByOptions:["name"],resourceName:"courses",displayNameField:"name",value:v,add_message:"enroll_to_course",index:2,onSubresourceAdded:function(e){j(Object(l.a)(Object(l.a)({},h),{},{courses:[].concat(Object(s.a)(h.courses),[e])}))},onSubresourceDeleted:function(e){j(Object(l.a)(Object(l.a)({},h),{},{courses:h.courses.filter((function(t){return t!==e}))}))}})})]})]})}var rr=Object(w.a)((function(e){return{root:{height:"100%"},left:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));var ir=new(we("courses","rooms")),cr=new(we("courses","students")),sr=new(we("courses","teachers")),lr=a(203),or=a.n(lr),dr=["children","addCourseId","setNewCourse","newCourse","currentCourse","updateCurrentCourse","patchService","deleteCourse"],ur=Object(w.a)((function(e){return{actionIcon:{float:"right"},textField:{marginRight:e.spacing(1),width:200},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"},choose:{marginBottom:e.spacing(3)}}}));var br=function(e){e.children,e.addCourseId;var t=e.setNewCourse,a=e.newCourse,n=e.currentCourse,i=e.updateCurrentCourse,c=(e.patchService,e.deleteCourse),d=Object(f.a)(e,dr),u=Object(ne.a)().t,b=Object(O.g)(),m=null===n,h=ur(),j=Re(),x=r.a.useState(!1),_=Object(o.a)(x,2),v=_[0],y=_[1],w=r.a.useContext(p),S=m?{}:n;a&&(S={price_term:75,is_published:!1});var k=Object(Me.a)({initialValues:{},validationSchema:ke.d({startDate:ke.b().required(u("required")),endDate:ke.b().required(u("required"))}),enableReinitialize:!0,onSubmit:function(e,t){var a,r=t.setStatus,i=t.setSubmitting;i(!0),r(),(a=ka.downloadSubresource(n.id,"attendance-list/v1",e)).then.apply(a,Object(s.a)(j({snackbarSuccess:!0}))).then((function(){y(!1)})).catch((function(){r(!0)})).finally((function(){i(!1)}))}}),C=Le(!a,{initialValues:S,validationSchema:ke.d({name:ke.f().required(u("name_required"))}),enableReinitialize:!0,onSubmit:function(e,n){var r,c,l=n.setStatus,o=n.setSubmitting;Object.keys(e).length>0?(l(),a?(r=ka.post(e)).then.apply(r,Object(s.a)(j({snackbarSuccess:!0}))).then((function(e){i(e),t(!1)})).catch((function(e){l(!0)})).finally((function(){o(!1)})):(c=ka.patch({id:S.id,body:e,initial_values:S})).then.apply(c,Object(s.a)(j({snackbarSuccess:!0}))).then((function(e){C.resetForm(e),i(e)})).catch((function(e){l(!0)})).finally((function(){o(!1)}))):o(!1)}}),I=r.a.useContext(Tt),T=Ze(),A=Object(o.a)(T,2),q=A[0],B=A[1];return Object(g.jsxs)("div",Object(l.a)(Object(l.a)({},d),{},{children:[Object(g.jsx)(Oa.a,{open:v,onClose:function(e){y(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(g.jsxs)("form",{onSubmit:k.handleSubmit,children:[Object(g.jsx)(xa.a,{id:"alert-dialog-title",children:u("download")}),Object(g.jsxs)(jn.a,{children:[Object(g.jsx)(Rt.a,{className:h.choose,children:u("chose_list_dates")}),Object(g.jsx)(Ie.a,{id:"date",label:u("start"),type:"date",value:k.values.startDate,name:"startDate",onChange:k.handleChange,onBlur:k.handleBlur,error:k.status||void 0!==k.errors.startDate,helperText:k.touched.startDate&&k.errors.startDate,className:h.textField,InputLabelProps:{shrink:!0}}),Object(g.jsx)(Ie.a,{id:"date",label:u("end"),type:"date",value:k.values.endDate,name:"endDate",onChange:k.handleChange,error:k.status||void 0!==k.errors.endDate,helperText:k.touched.endDate&&k.errors.endDate,onBlur:k.handleBlur,className:h.textField,InputLabelProps:{shrink:!0}})]}),Object(g.jsxs)(ta.a,{children:[Object(g.jsx)(De.a,{onClick:function(e){y(!1)},color:"primary",children:u("cancel")}),Object(g.jsx)(De.a,{type:"submit",color:"primary",disabled:k.isSubmitting,autoFocus:!0,children:u("download")})]})]})}),Object(g.jsx)(oe.a,{p:3,children:Object(g.jsxs)(oe.a,{px:2,children:[!a&&m?Object(g.jsx)(Ne,{className:h.actionIcon}):q([B.delete])&&Object(g.jsx)(R.a,{style:{float:"right"},title:u("delete"),"aria-label":u("delete"),children:Object(g.jsx)(N.a,{onClick:function(e){a?t(!1):w.confirm("delete_course_question","not_undone",(function(){!function(e){var t;(t=ka.delete(e)).then.apply(t,Object(s.a)(j({snackbarSuccess:!0}))).then((function(t){c(e)}))}(n.id)}))},children:Object(g.jsx)(xt.a,{})})}),!a&&m?Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Ne,{className:h.actionIcon}),Object(g.jsx)(Ne,{className:h.actionIcon}),Object(g.jsx)("div",{style:{clear:"both"},children:["100%","100%","100%","100%"].map((function(e,t){return Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:e,height:"60px"})},t)}))})]}):Object(g.jsxs)("form",{onSubmit:C.handleSubmit,children:[Object(g.jsx)(Ke,{className:h.actionIcon,formik:C}),Object(g.jsx)(Xe,{className:h.actionIcon,formik:C}),Object(g.jsx)(Ae,{label:u("id"),name:"id",disabled:!0,className:h.line,formik:C}),Object(g.jsx)(Ae,{label:u("calendar_url"),name:"calendar_url",disabled:!0,className:h.line,formik:C}),Object(g.jsx)(oe.a,{className:[h.line,h.composite],children:Object(g.jsx)(Ae,{label:u("name"),style:{flex:1},name:"name",formik:C})}),Object(g.jsx)(oe.a,{className:[h.line,h.composite],children:Object(g.jsx)(Ae,{label:u("description"),style:{flex:1},multiline:!0,rowsMax:8,name:"description",formik:C})}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[Object(g.jsx)(Ae,{label:u("price_term"),style:{flex:1},name:"price_term",formik:C,type:"number"}),Object(g.jsxs)(Ae,{label:u("public"),style:{flex:1},name:"is_published",formik:C,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:u("yes")}),Object(g.jsx)(be.a,{value:!1,children:u("no")})]})]})]}),!m&&!a&&Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[h.line,h.composite],children:!m&&!a&&Object(g.jsx)(R.a,{style:{flex:1},title:u("take attendance"),"aria-label":u("take_attendance"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:h.button,startIcon:Object(g.jsx)(or.a,{}),onClick:function(e){b.replace("/attendance?id=".concat(n.id))},children:u("take attendance")})})}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[!m&&q([B.students])&&!a&&Object(g.jsx)(R.a,{style:{flex:1},title:u("export_attendance_list"),"aria-label":u("export_attendance_list"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:h.button,startIcon:Object(g.jsx)(St.a,{}),onClick:function(e){y(!0)},children:u("attendance_list")})}),!m&&q([B.students])&&!a&&Object(g.jsx)(R.a,{style:{flex:1},title:u("export_attendance_list"),"aria-label":u("export_attendance_list"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:h.button,startIcon:Object(g.jsx)(St.a,{}),onClick:function(){var e;(e=ka.downloadSubresource(n.id,"attendance-list/v2")).then.apply(e,Object(s.a)(j({snackbarSuccess:!0})))},children:u("export_attendance_list")+" (".concat(u("v2"),")")})})]}),Object(g.jsxs)(oe.a,{className:[h.line,h.composite],children:[!m&&!a&&Object(g.jsx)(R.a,{style:{flex:1},title:u("export_calendar"),"aria-label":u("send_grant_letter"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:h.button,startIcon:Object(g.jsx)(St.a,{}),onClick:function(e){Zn("courses",n.id,n.calendar_id).then((function(e){}))},children:u("export_calendar")})}),!m&&q([B.students,B.guardians])&&!a&&Object(g.jsx)(R.a,{style:{flex:1},title:u("export_students_contact_sheet"),"aria-label":u("export_grant_letter"),children:Object(g.jsx)(De.a,{variant:"contained",color:"default",className:h.button,disabled:I.loading,startIcon:Object(g.jsx)(St.a,{}),onClick:function(e){var t;I.startLoading(),(t=ka.downloadSubresource(n.id,"contactsSheet")).then.apply(t,Object(s.a)(j({snackbarSuccess:!0}))).finally((function(){I.stopLoading()}))},children:u("students_contact_sheet")})})]})]})})]}))},mr=new(we("courses","labels"));function hr(e){var t=e.formik,a=e.name,n=void 0===a?"labels":a,i=e.noDirty,c=void 0!==i&&i,s=Object(ne.a)().t;return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(Rt.a,{children:s("labels")}),Ge.map((function(e){return Object(g.jsx)(kn.a,{control:Object(g.jsx)(Tn,{checked:void 0!==t.values[n]&&t.values[n].includes(e),name:n,value:e,formik:t,noDirty:c}),label:s(e)},e)})),Object(g.jsx)(kn.a,{control:Object(g.jsx)(Tn,{checked:void 0!==t.values[n]&&t.values[n].includes("adult"),name:n,value:"adult",formik:t,noDirty:c}),label:s("adult")})]})}var jr=["currentCourse","updateCurrentCourse","patchService","deleteCourse"],pr=Object(w.a)((function(e){return{actionIcon:{float:"right"},button:{margin:e.spacing(1)},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}}));var fr=function(e){var t=e.currentCourse,a=e.updateCurrentCourse,n=(e.patchService,e.deleteCourse,Object(f.a)(e,jr),Object(ne.a)().t,null===t),r=pr(),i=Re(),c=n?{}:t,o=Le(!1,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var r=n.setStatus,o=n.setSubmitting;r();var d=new Set(e.labels),u=new Set(c.labels),b=Array.from(qn(d,u));if(0!==b.size){var m;o(!0);var h=b.map((function(e){var a,n;return u.has(e)?(a=mr.delete(t.id,e)).then.apply(a,Object(s.a)(i({}))):(n=mr.postWithId(t.id,e)).then.apply(n,Object(s.a)(i({})))}));(m=Promise.all(h)).then.apply(m,Object(s.a)(i({snackbarSuccess:!0}))).then((function(){a(Object(l.a)(Object(l.a)({},t),{},{labels:e.labels}))})).finally((function(){o(!1)}))}}},!0);return Object(g.jsx)(oe.a,{p:3,children:Object(g.jsx)(oe.a,{px:2,children:n?Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Ne,{className:r.actionIcon}),Object(g.jsx)(Ne,{className:r.actionIcon}),Object(g.jsx)("div",{style:{clear:"both"},children:Object(g.jsx)(oe.a,{py:0,children:Object(g.jsx)(Ce.a,{variant:"text",width:"100%",height:"150px"})})})]}):Object(g.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(g.jsx)(Ke,{className:r.actionIcon,formik:o}),Object(g.jsx)(Xe,{className:r.actionIcon,formik:o}),Object(g.jsx)(oe.a,{style:{display:"inline-block"},children:Object(g.jsx)(hr,{formik:o})})]})})})},Or=["title","scheduleIds","setScheduleIds","student_id"];Object(w.a)((function(e){return{button:{margin:e.spacing(1)},calendar:{margin:e.spacing(2)}}}));var xr=function(e){e.title;var t=e.scheduleIds,a=e.setScheduleIds,n=e.student_id,r=Object(f.a)(e,Or),i=Re();return Object(g.jsx)("div",Object(l.a)(Object(l.a)({},r),{},{style:{height:"100%",flex:1,minHeight:"70vh"},children:Object(g.jsx)(wa,{allowDelete:function(e){return!0},allowView:function(e){return!e.is_base},viewUrl:function(e){return["/students",e.student_id]},setScheduleIds:a,onEventChange:function(e,t,a,n,r){var c;(c=ua.patch({id:r.id,body:{day_week:t,start_time:a,end_time:n},initial_values:r})).then.apply(c,Object(s.a)(i({errorOut:!0,snackbarSuccess:!0}))).then((function(e){})).catch((function(t){e.revert()}))},viewStudent:!0,scheduleIds:t,editable:!0,selectable:!0,onEventSelected:function(e,r,i){ua.post({day_week:e,start_time:r,end_time:i,course_id:n}).then((function(e){a([].concat(Object(s.a)(t),[e.id]))}))}})}))},gr=Object(w.a)((function(e){return{contentPanel:{position:"relative",overflow:"auto",boxSizing:"border-box",height:"100%",display:"flex",flexDirection:"column"},content:{overflowX:"hidden",display:"flex",flexDirection:"column",overflowY:"auto",flex:1,height:"100%"},tab:{height:"100%"}}}));function _r(e){var t=e.currentCourseId,a=e.setNewCourse,i=(e.addCourseId,e.newCourse),c=e.deleteCourse,d=null===t,u=Re(),b=Object(n.useState)(null),m=Object(o.a)(b,2),h=m[0],j=m[1],p=Ze(),f=Object(o.a)(p,2),O=f[0],x=f[1];Object(n.useEffect)((function(){var e;if(d)return j(null);(e=ka.getOne(t)).then.apply(e,Object(s.a)(u({}))).then((function(e){j(e.data)}))}),[t]);var _=gr(),v=G()(),y=Object(ne.a)().t,w=r.a.useState(0),S=Object(o.a)(w,2),C=S[0],N=S[1];Object(n.useEffect)((function(){N(0)}),[t]);return Object(g.jsxs)(re.a,{elevation:3,square:!0,className:_.contentPanel,children:[Object(g.jsx)(k.a,{position:"static",color:"default",children:Object(g.jsxs)(se.a,{value:C,onChange:function(e,t){N(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[Object(g.jsx)(le.a,Object(l.a)({label:y("course")},nn(0))),!i&&Object(g.jsx)(le.a,Object(l.a)({label:y("labels")},nn(1))),!i&&O([x.schedules])&&Object(g.jsx)(le.a,Object(l.a)({label:y("schedules")},nn(2))),!i&&O([x.students])&&Object(g.jsx)(le.a,Object(l.a)({label:y("students")},nn(3))),!i&&O([x.teachers])&&Object(g.jsx)(le.a,Object(l.a)({label:y("teachers")},nn(4))),!i&&O([x.rooms])&&Object(g.jsx)(le.a,Object(l.a)({label:y("rooms")},nn(5)))]})}),Object(g.jsxs)(ce.a,{axis:"rtl"===v.direction?"x-reverse":"x",index:C,containerStyle:{height:"100%"},className:_.content,onChangeIndex:function(e){N(e)},children:[Object(g.jsxs)(rn,{value:C,index:0,children:["  ",Object(g.jsx)(br,{newCourse:i,setNewCourse:a,dir:v.direction,currentCourse:h,updateCurrentCourse:j,deleteCourse:c})]}),Object(g.jsxs)(rn,{value:C,index:1,children:["     ",Object(g.jsx)(fr,{dir:v.direction,currentCourse:h,updateCurrentCourse:j,deleteCourse:c})]}),O([x.schedules])&&Object(g.jsx)(rn,{value:C,index:2,children:Object(g.jsx)(xr,{setScheduleIds:function(e){return j(Object(l.a)(Object(l.a)({},h),{},{schedules:e}))},className:_.tab,dir:v.direction,scheduleIds:null===h?null:h.schedules,student_id:t})}),O([x.students])&&Object(g.jsxs)(rn,{value:C,index:3,children:["  ",Object(g.jsx)(tn,{defaultSearchBy:"full_name",parentItemDataService:cr,itemDataService:Se,add_message_confirm:"confirm_enroll_to_course",parent_id:t,searchByOptions:["full_name"],withFiltersBox:!0,resourceName:"students",displayNameField:"full_name",usableFilters:[{name:"enrolment_status",defaultValue:null,options:[{label:"enrolled",tooltip:"only_enrolled",name:"enrolled"},{label:"pre-enrolled",tooltip:"only_preenrolled",name:"pre-enrolled"},{label:"early-unenrolled",tooltip:"only_earlyunenrolled",name:"early-unenrolled"}]},{name:"default_payment_method",defaultValue:null,options:[{label:"cash",tooltip:"only_cash",name:"cash"},{label:"bank-transfer",tooltip:"only_banktransfer",name:"bank-transfer"},{label:"bank-direct-debit",tooltip:"only_bankdirectdebit",name:"bank-direct-debit"}]}],auxFields:["enrolment_status"],displayText:function(e){return e.full_name+("enrolled"===e.enrolment_status?" \u2611\ufe0f":"")},add_message:"enroll_to_course",onSubresourceAdded:function(e){j(Object(l.a)(Object(l.a)({},h),{},{students:[].concat(Object(s.a)(h.students),[e])}))},onSubresourceDeleted:function(e){j(Object(l.a)(Object(l.a)({},h),{},{students:h.students.filter((function(t){return t!==e}))}))}})]}),O([x.teachers])&&Object(g.jsxs)(rn,{value:C,index:4,children:["  ",Object(g.jsx)(tn,{defaultSearchBy:"full_name",parentItemDataService:sr,itemDataService:_n,add_message_confirm:"confirm_add_to_course",parent_id:t,searchByOptions:["full_name"],resourceName:"teachers",displayNameField:"full_name",add_message:"add_teacher",onSubresourceAdded:function(e){j(Object(l.a)(Object(l.a)({},h),{},{teachers:[].concat(Object(s.a)(h.teachers),[e])}))},onSubresourceDeleted:function(e){j(Object(l.a)(Object(l.a)({},h),{},{teachers:h.teachers.filter((function(t){return t!==e}))}))}})]}),O([x.rooms])&&Object(g.jsxs)(rn,{value:C,index:5,children:["  ",Object(g.jsx)(tn,{defaultSearchBy:"name",parentItemDataService:ir,itemDataService:Dn,add_message_confirm:"confirm_link_to_room",parent_id:t,searchByOptions:["name"],resourceName:"rooms",displayNameField:"name",add_message:"link_room",onSubresourceAdded:function(e){j(Object(l.a)(Object(l.a)({},h),{},{rooms:[].concat(Object(s.a)(h.rooms),[e])}))},onSubresourceDeleted:function(e){j(Object(l.a)(Object(l.a)({},h),{},{rooms:h.rooms.filter((function(t){return t!==e}))}))}})]})]})]})}var vr=Object(w.a)((function(e){return{root:{height:"100%"},left:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));var yr={bulkSend:function(e,t,a,n,r,i){var c=new FormData;return c.append("courseIds",JSON.stringify(e)),c.append("emailPreference",n),c.append("subject",t),c.append("studentEnrolmentStatus",r),c.append("body",a),i.forEach((function(e){c.append(e.name,e)})),new Promise((function(e,t){yt()({url:"".concat(xe,"/emails/v1/bulk"),method:"POST",headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe()),data:c}).then((function(t){e(!0)})).catch((function(e){t(e)}))}))}};var wr=["formik","name","label","options","addTo"];var Sr=Object(w.a)((function(e){return Object(S.a)({textField:{"& label.Mui-focused":{color:e.palette.primary.main},"& .MuiInput-underline:after":{borderBottomColor:e.palette.primary.main},"& label":{color:e.palette.neutral.emphasisText.medium},"& fieldset":{borderColor:e.palette.neutral.emphasisText.medium}},option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}})}));function kr(e){var t=e.formik,a=e.name,n=e.label,i=e.options,c=e.addTo,s=(Object(f.a)(e,wr),r.a.useState(null)),d=Object(o.a)(s,2),u=d[0],b=d[1];r.a.useEffect((function(){b(null)}),[a]);var m=Sr(),h=r.a.useState(""),j=Object(o.a)(h,2),p=j[0],O=j[1];Object(ne.a)().t;return Object(g.jsx)(qe.a,{style:{width:"100%"},options:i,classes:{option:m.option},defaultValue:{id:111,name:"name"},autoHighlight:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id===u.id},value:u,onChange:function(e,n){!function(e){var n=null!==e?e.code:"";t.setFieldValue(a,n),b(e),e&&c(e)}(n)},inputValue:p,onInputChange:function(e,t){O(t)},name:a,onBlur:t.handleBlur,renderOption:function(e){return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)("span",{children:e.name})},e.id)},renderInput:function(e){return Object(g.jsx)(Ie.a,Object(l.a)(Object(l.a)({},e),{},{label:n,fullWidth:1,className:m.textField,inputProps:Object(l.a)(Object(l.a)({},e.inputProps),{},{autoComplete:"new-password"}),error:t.status||void 0!==t.errors[a],helperText:t.touched[a]&&t.errors[a]}))}})}var Cr=Object(w.a)((function(e){return{root:{height:"100%"},textBox:{width:"100%",border:"red"},chip:{margin:e.spacing(.5)},chips:{marginBottom:e.spacing(1)},in:{marginBottom:e.spacing(1),marginTop:e.spacing(2)},fab:{position:"absolute",bottom:e.spacing(4),right:e.spacing(4)},attach:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},card:{marginTop:e.spacing(1)}}}));var Nr=[{path:"students",component:function(e){Object.assign({},e);var t=hn(),a=Object(ne.a)().t,i=Object(n.useState)([]),c=Object(o.a)(i,2),d=c[0],u=c[1],b=Object(n.useState)(!1),m=Object(o.a)(b,2),h=m[0],j=m[1],p=Object(n.useState)(null),f=Object(o.a)(p,2),O=f[0],x=f[1],_=Re(),v=new URLSearchParams(window.location.search).get("id"),y=Ze(),w=Object(o.a)(y,2),S=w[0],k=w[1];Object(n.useEffect)((function(){null!==v&&void 0!==v&&x(v)}),[v]);var C=r.a.useContext(Tt);return Object(n.useEffect)((function(){null!==O&&j(!1)}),[O]),Object(g.jsxs)(ae.a,{container:!0,spacing:3,className:t.root,children:[Object(g.jsxs)(ae.a,{item:!0,xs:4,className:t.left,children:[Object(g.jsx)("h1",{children:a("students")}),Object(g.jsx)(mn,{setCurrentItemId:x,currentItemId:O,items:d,setItems:u,chips:[Object(g.jsx)(R.a,{title:a("export_contact_sheets"),"aria-label":a("export_contact_sheets"),children:Object(g.jsx)(Ga.a,{variant:"outlined",color:"primary",disabled:C.loading,size:"small",avatar:Object(g.jsx)(Jt.a,{children:"csv"}),label:a("export_all_plus"),onClick:function(){var e;C.loading||(C.startLoading(),(e=new Promise((function(e,t){yt()({url:"".concat(xe,"/api/").concat(Oe,"/files/god"),method:"POST",responseType:"blob",headers:Object(l.a)(Object(l.a)({},{Accept:"text/csv","Cache-Control":"no-cache"}),fe())}).then((function(t){var a=t.headers["content-disposition"].split("filename=")[1];null===a&&(a="export.zip");var n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",a),document.body.appendChild(r),r.click(),r.remove(),e()})).catch((function(e){t(e)}))}))).then.apply(e,Object(s.a)(_({}))).finally((function(){C.stopLoading()})))}})})],usableFilters:[{name:"enrolment_status",defaultValue:null,options:[{label:"enrolled",tooltip:"only_enrolled",name:"enrolled"},{label:"pre-enrolled",tooltip:"only_preenrolled",name:"pre-enrolled"},{label:"early-unenrolled",tooltip:"only_earlyunenrolled",name:"early-unenrolled"}]},{name:"default_payment_method",defaultValue:null,options:[{label:"cash",tooltip:"only_cash",name:"cash"},{label:"bank-transfer",tooltip:"only_banktransfer",name:"bank-transfer"},{label:"bank-direct-debit",tooltip:"only_bankdirectdebit",name:"bank-direct-debit"}]}],defaultSearchBy:"full_name",searchByOptions:["full_name","id"],dataService:Se,searchBarLabel:"students"}),S([k.post])&&Object(g.jsx)(R.a,{title:a("new_student"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(e){x(null),j(!0)},children:Object(g.jsx)(un.a,{})})})]}),Object(g.jsx)(ae.a,{item:!0,xs:8,className:t.left,children:Object(g.jsx)(ln,{currentStudentId:O,newStudent:h,setNewStudent:j,addStudentId:function(e){x(e)},deleteStudent:function(e){e===O&&x(null),u(d.filter((function(t){return t.id!==e})))}})})]})},title:"students",icon:V.a,needs:[Ye.students,Ye.get]},{path:"courses",component:function(e){Object.assign({},e);var t=vr(),a=Object(ne.a)().t,r=Object(n.useState)([]),i=Object(o.a)(r,2),c=i[0],s=i[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(n.useState)(null),h=Object(o.a)(m,2),j=h[0],p=h[1],f=new URLSearchParams(window.location.search).get("id");Object(n.useEffect)((function(){null!==f&&void 0!==f&&p(f)}),[f]),Object(n.useEffect)((function(){null!==j&&b(!1)}),[j]);var O=Ze(),x=Object(o.a)(O,2),_=x[0],v=x[1];return Object(g.jsxs)(ae.a,{container:!0,spacing:3,className:t.root,children:[Object(g.jsxs)(ae.a,{item:!0,xs:4,className:t.left,children:[Object(g.jsx)("h1",{children:a("courses")}),Object(g.jsx)(mn,{setCurrentItemId:p,currentItemId:j,items:c,setItems:s,usableFilters:[{name:"is_published",defaultValue:null,options:[{label:"published",tooltip:"only_published",name:!0},{label:"private",tooltip:"only_private",name:!1}]}],defaultSearchBy:"name",searchByOptions:["name","id"],dataService:ka,searchBarLabel:"courses",displayNameField:"name"}),_([v.post])&&Object(g.jsx)(R.a,{title:a("new_course"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(e){p(null),b(!0)},children:Object(g.jsx)(un.a,{})})})]}),Object(g.jsx)(ae.a,{item:!0,xs:8,className:t.left,children:Object(g.jsx)(_r,{currentCourseId:j,newCourse:u,setNewCourse:b,addCourseId:function(e){p(e)},deleteCourse:function(e){e===j&&p(null),s(c.filter((function(t){return t.id!==e})))}})})]})},title:"courses",icon:K.a,needs:[Ye.courses,Ye.get]},{path:"teachers",component:function(e){Object.assign({},e);var t=rr(),a=Object(ne.a)().t,r=Object(n.useState)([]),i=Object(o.a)(r,2),c=i[0],s=i[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(n.useState)(null),h=Object(o.a)(m,2),j=h[0],p=h[1],f=Ze(),O=Object(o.a)(f,2),x=O[0],_=O[1],v=new URLSearchParams(window.location.search).get("id");return Object(n.useEffect)((function(){null!==v&&void 0!==v&&p(v)}),[v]),Object(n.useEffect)((function(){null!==j&&b(!1)}),[j]),Object(g.jsxs)(ae.a,{container:!0,spacing:3,className:t.root,children:[Object(g.jsxs)(ae.a,{item:!0,xs:4,className:t.left,children:[Object(g.jsx)("h1",{children:a("teachers")}),Object(g.jsx)(mn,{setCurrentItemId:p,currentItemId:j,items:c,setItems:s,defaultSearchBy:"full_name",searchByOptions:["full_name","id"],dataService:_n,searchBarLabel:"teachers"}),x([_.post])&&Object(g.jsx)(R.a,{title:a("new_teacher"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(e){p(null),b(!0)},children:Object(g.jsx)(un.a,{})})})]}),Object(g.jsx)(ae.a,{item:!0,xs:8,className:t.left,children:Object(g.jsx)(nr,{currentTeacherId:j,newTeacher:u,setNewTeacher:b,addTeacherId:function(e){p(e)},deleteTeacher:function(e){e===j&&p(null),s(c.filter((function(t){return t.id!==e})))}})})]})},title:"teachers",icon:Z.a,needs:[Ye.teachers,Ye.get]},{path:"rooms",component:function(e){Object.assign({},e);var t=Hn(),a=Object(ne.a)().t,r=Object(n.useState)([]),i=Object(o.a)(r,2),c=i[0],s=i[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(n.useState)(null),h=Object(o.a)(m,2),j=h[0],p=h[1],f=new URLSearchParams(window.location.search).get("id");Object(n.useEffect)((function(){null!==f&&void 0!==f&&p(f)}),[f]),Object(n.useEffect)((function(){null!==j&&b(!1)}),[j]);var O=Ze(),x=Object(o.a)(O,2),_=x[0],v=x[1];return Object(g.jsxs)(ae.a,{container:!0,spacing:3,className:t.root,children:[Object(g.jsxs)(ae.a,{item:!0,xs:4,className:t.left,children:[Object(g.jsx)("h1",{children:a("rooms")}),Object(g.jsx)(mn,{setCurrentItemId:p,currentItemId:j,items:c,setItems:s,defaultSearchBy:"name",displayNameField:"name",searchByOptions:["name","id"],dataService:Dn,searchBarLabel:"rooms"}),_([v.post])&&Object(g.jsx)(R.a,{title:a("new_room"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(e){p(null),b(!0)},children:Object(g.jsx)(un.a,{})})})]}),Object(g.jsx)(ae.a,{item:!0,xs:8,className:t.left,children:Object(g.jsx)(Wn,{currentRoomId:j,newRoom:u,setNewRoom:b,addRoomId:function(e){p(e)},deleteRoom:function(e){e===j&&p(null),s(c.filter((function(t){return t.id!==e})))}})})]})},title:"rooms",icon:H.a,needs:[Ye.rooms,Ye.get]},{path:"payments",component:function(e){Object.assign({},e);var t=En(),a=Object(ne.a)().t,n=Re(),i=r.a.useContext(Tt);return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:a("payments")}),Object(g.jsxs)(F.a,{className:t.list,children:[Object(g.jsxs)(E.a,{button:!0,onClick:function(){var e;i.loading||(i.startLoading(),(e=ft.downloadCsv(null,null,"*",null)).then.apply(e,Object(s.a)(n({}))).finally((function(){i.stopLoading()})))},children:[Object(g.jsx)(Ta.a,{children:Object(g.jsx)(Jt.a,{className:t.avatar,children:"csv"})}),Object(g.jsx)(M.a,{id:"name",primary:a("export_all")})]}),Object(g.jsx)(P.a,{})]})]})},title:"payments",icon:X.a,needs:[Ye.payments,Ye.get]},{path:"users",component:function(e){Object.assign({},e);var t=Fn(),a=Object(ne.a)().t,i=Object(n.useState)([]),c=Object(o.a)(i,2),l=c[0],d=c[1],u=Object(n.useState)(null),b=Object(o.a)(u,2),m=b[0],h=b[1],j=r.a.useState(!1),p=Object(o.a)(j,2),f=p[0],O=p[1],x=Ze(),_=Object(o.a)(x,2),v=_[0],y=_[1],w=function(){O(!1)},S=new URLSearchParams(window.location.search).get("id");Object(n.useEffect)((function(){null!==S&&void 0!==S&&h(S)}),[S]);var k=Re(),C=Object(Me.a)({initialValues:{email:"",needs:[]},validationSchema:ke.d({email:dt(a)}),enableReinitialize:!0,onSubmit:function(e,t){var a,n=t.setStatus,r=t.setSubmitting;r(!0),(a=fn.inviteUser(e.email,e.role_id)).then.apply(a,Object(s.a)(k({snackbarSuccess:!0}))).then((function(e){w()})).catch((function(e){n(!0)})).finally((function(){r(!1)}))}});return Object(g.jsxs)(ae.a,{container:!0,spacing:3,className:t.root,children:[Object(g.jsxs)(Oa.a,{open:f,onClose:w,"aria-labelledby":"form-dialog-title",children:[Object(g.jsx)(xa.a,{id:"form-dialog-title",children:a("invite_user")}),Object(g.jsxs)("form",{onSubmit:C.handleSubmit,children:[Object(g.jsxs)(jn.a,{children:[Object(g.jsx)(Ie.a,{autoFocus:!0,margin:"dense",id:"email",name:"email",label:a("email"),type:"email",fullWidth:!0,value:C.values.email,onChange:C.handleChange,onBlur:C.handleBlur,error:C.status||void 0!==C.errors.email,helperText:C.touched.email&&C.errors.email}),Object(g.jsx)(oe.a,{my:2,className:t.dialog,children:Object(g.jsx)(oe.a,{className:[t.line,t.composite],children:Object(g.jsx)(pn,{formik:C})})})]}),Object(g.jsxs)(ta.a,{children:[Object(g.jsx)(De.a,{onClick:w,color:"primary",children:a("cancel")}),Object(g.jsx)(De.a,{type:"submit",color:"primary",disabled:C.isSubmitting,children:a("invite")})]})]})]}),Object(g.jsxs)(ae.a,{item:!0,xs:4,className:t.left,children:[Object(g.jsx)("h1",{children:a("users")}),Object(g.jsx)(mn,{setCurrentItemId:h,currentItemId:m,items:l,setItems:d,defaultSearchBy:"full_name",searchByOptions:["full_name","id"],dataService:On,searchBarLabel:"users"}),v([y.invite_users])&&Object(g.jsx)(R.a,{title:a("new_user"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(){O(!0)},children:Object(g.jsx)(ue.a,{})})})]}),Object(g.jsx)(ae.a,{item:!0,xs:8,className:t.left,children:Object(g.jsx)(Pn,{currentUserId:m,deleteUser:function(e){e===m&&h(null),d(l.filter((function(t){return t.id!==e})))}})})]})},title:"users",icon:te.a,needs:[Ye.users,Ye.get]},{path:"email",component:function(e){Object.assign({},e);var t=Cr(),a=Object(ne.a)().t,i=Object(n.useState)([]),c=Object(o.a)(i,2),l=c[0],d=c[1],u=Object(n.useState)([]),b=Object(o.a)(u,2),m=b[0],h=b[1],j=Object(n.useState)([]),f=Object(o.a)(j,2),O=f[0],x=f[1],_=r.a.useContext(Tt),v=r.a.useContext(p),y=Re(),w=Object(Me.a)({initialValues:{emailPreference:"resolved",studentEnrolmentStatus:"enrolled"},validationSchema:ke.d({email:dt(a)}),enableReinitialize:!0,onSubmit:function(e,t){t.setStatus;(0,t.setSubmitting)(!0)}});return Object(n.useEffect)((function(){var e;(e=ka.getAll(null,"*",["id","name"])).then.apply(e,Object(s.a)(y({}))).then((function(e){d(e.data)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:a("email")}),Object(g.jsxs)(oe.a,{className:t.chips,children:[a("to"),": ",m.length>0?m.map((function(e){return Object(g.jsx)(R.a,{title:a("delete"),children:Object(g.jsx)(Ga.a,{variant:"outlined",color:"primary",className:t.chip,size:"small",avatar:Object(g.jsx)(Jt.a,{children:"G"}),label:e.name,onClick:function(){var t;t=e.id,h(m.filter((function(e){return e.id!==t})))}})})})):" - "]}),Object(g.jsxs)(Ie.a,{className:t.in,label:a("use_emails"),style:{width:"100%"},value:void 0===w.values.emailPreference?"":w.values.emailPreference,onChange:w.handleChange,onBlur:w.handleBlur,error:w.status||void 0!==w.errors.emailPreference,helperText:w.touched.emailPreference&&w.errors.emailPreference,name:"emailPreference",select:!0,children:[Object(g.jsx)(be.a,{value:"contacts",children:a("contacts")}),Object(g.jsx)(be.a,{value:"resolved",children:a("resolved")}),Object(g.jsx)(be.a,{value:"student",children:a("student")}),Object(g.jsx)(be.a,{value:"all",children:a("all")})]}),Object(g.jsxs)(Ie.a,{className:t.in,label:a("status"),style:{width:"100%"},value:void 0===w.values.studentEnrolmentStatus?"":w.values.studentEnrolmentStatus,onChange:w.handleChange,onBlur:w.handleBlur,error:w.status||void 0!==w.errors.studentEnrolmentStatus,helperText:w.touched.studentEnrolmentStatus&&w.errors.studentEnrolmentStatus,name:"studentEnrolmentStatus",select:!0,children:[Object(g.jsx)(be.a,{value:"enrolled",children:a("enrolled")}),Object(g.jsx)(be.a,{value:"pre-enrolled",children:a("pre-enrolled")}),Object(g.jsx)(be.a,{value:"early-unenrolled",children:a("early-unenrolled")}),Object(g.jsx)(be.a,{value:null,children:a("all")})]}),Object(g.jsx)(kr,{formik:w,style:{width:"100%"},options:l.filter((function(e){return!m.includes(e)})),addTo:function(e){h([].concat(Object(s.a)(m),[e]))},name:"courses",label:a("courses")}),Object(g.jsx)(Ie.a,{className:t.in,label:a("subject"),style:{width:"100%"},value:void 0===w.values.subject?"":w.values.subject,onChange:w.handleChange,onBlur:w.handleBlur,error:w.status||void 0!==w.errors.subject,helperText:w.touched.subject&&w.errors.subject,name:"subject"}),Object(g.jsx)(Ie.a,{className:t.textBox,multiline:!0,rows:16,value:void 0===w.values.body?"":w.values.body,onChange:w.handleChange,onBlur:w.handleBlur,error:w.status||void 0!==w.errors.body,helperText:w.touched.body&&w.errors.body,name:"body"}),Object(g.jsxs)("div",{children:[(console.log("sfs",O),O.map((function(e){return Object(g.jsx)(Kt.a,{className:t.card,children:Object(g.jsx)(Wt.a,{action:Object(g.jsx)(R.a,{title:a("delete"),"aria-label":a("delete"),children:Object(g.jsx)(N.a,{onClick:function(t){x(O.filter((function(t){return t!==e})))},children:Object(g.jsx)(xt.a,{})})}),titleTypographyProps:{variant:"subheading"},title:e.name})})}))),Object(g.jsx)("input",{style:{display:"none"},id:"contained-button-file",type:"file",multiple:!0,onChange:function(e){x(Object(s.a)(e.target.files))}}),Object(g.jsx)("label",{htmlFor:"contained-button-file",children:Object(g.jsx)(De.a,{className:t.attach,variant:"contained",color:"primary",component:"span",children:a("upload")})})]}),Object(g.jsx)(R.a,{title:a("send_email"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(){_.loading||w.isSubmitting||v.confirm("send_bulk_email","send_bulk_email_description",(function(){var e;_.startLoading(),w.setSubmitting(!0),(e=yr.bulkSend(m.map((function(e){return e.id})),w.values.subject,w.values.body,w.values.emailPreference,w.values.studentEnrolmentStatus,O)).then.apply(e,Object(s.a)(y({snackbarSuccess:!0}))).finally((function(){w.setSubmitting(!1),_.stopLoading()}))}))},disabled:w.isSubmitting||0===m.length,children:Object(g.jsx)(_t.a,{})})})]})},title:"email",icon:$.a,needs:[Ye.send_email,Ye.get]}],Ir=a(70),Tr=a(290),Ar=a.n(Tr),qr=a(292),Br=a.n(qr),Pr=a(310),Fr=a(67),Er={login:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,i){yt()({url:"".concat(xe,"/auth/v1/login?totp=").concat(a,"&rememberMe=").concat(n?1:0),method:"POST",auth:{username:e,password:t},headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(e){r({logged:!0,needs:e.data})})).catch((function(e){try{401===e.response.status&&r({logged:!1})}catch(t){}i(e)}))}))},logout:function(){return new Promise((function(e,t){yt()({url:"".concat(xe,"/auth/v1/logout"),method:"GET",headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(t){e(!1)})).catch((function(e){t(e)}))}))},ping:function(){return new Promise((function(e,t){yt()({url:"".concat(xe,"/auth/v1/ping"),method:"GET",headers:{"Cache-Control":"no-cache"}}).then((function(t){e({isLoggedIn:!0,needs:t.data})})).catch((function(a){try{401===a.response.status&&e({isLoggedIn:!1,needs:null})}catch(n){}t(a)}))}))}};var Dr=a(289),Rr=a.n(Dr),Mr=a(131),Lr=a(285),Gr=a(286),zr=a(287),Vr=a(288),Ur=["cat"],Kr={eng:{translation:zr},cat:{translation:Vr}};Fr.a.use(Lr.a).use(Gr.a).use(Mr.e).init({resources:Kr,fallbackLng:Ur,detection:{checkWhitelist:!0},debug:!1,whitelist:["eng","cat"],interpolation:{escapeValue:!1}}).then((function(e){return{}}));Fr.a;var Wr=function(){return localStorage.getItem("i18nextLng")||Ur};function Hr(e){var t=Object.assign({},e),a=Object(ne.a)().t,n=Wr();return Object(g.jsx)(R.a,Object(l.a)(Object(l.a)({title:a("cat"===n?"use_eng":"use_cat"),style:{float:"right"}},t),{},{children:Object(g.jsx)(N.a,{color:"inherit",onClick:function(){Fr.a.changeLanguage("eng"===Wr()?"cat":"eng").then()},"aria-label":a("cat"===n?"use_eng":"use_cat"),children:Object(g.jsx)(Rr.a,{})})}))}var Yr=a(160),Zr=a.n(Yr);function Jr(e){var t=Object.assign({},e),a=r.a.useContext(Va),n=Object(ne.a)().t;return Object(g.jsx)(R.a,Object(l.a)(Object(l.a)({title:a.theme?n("use_light"):n("use_dark"),style:{float:"right"}},t),{},{children:Object(g.jsx)(N.a,{color:"inherit","aria-label":a.theme?n("use_light"):n("use_dark"),onClick:a.switchTheme,children:Object(g.jsx)(Zr.a,{})})}))}var Xr=a(291),Qr=a.n(Xr),$r=a(205),ei=a.n($r);function ti(e){var t=Object.assign({},e),a=Object(ne.a)().t,n=Object(O.g)();return Object(g.jsx)(R.a,Object(l.a)(Object(l.a)({title:a("teacher_dashboard"),style:{float:"right"}},t),{},{children:Object(g.jsx)(N.a,{color:"inherit",onClick:function(){return n.replace("/teacher-dashboard")},"aria-label":a("teacher_dashboard"),"aria-haspopup":"false",children:Object(g.jsx)(ei.a,{})})}))}var ai={eng:{label:"english",dir:"ltr",active:!0},cat:{label:"catal\xe0",dir:"ltr",active:!1}},ni=Object(w.a)((function(e){return Object(S.a)({toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),grow:{flexGrow:1}})})),ri=Object(O.j)((function(e){Object(O.g)();var t,a=ni(),i=Re(),c=localStorage.getItem("i18nextLng")||"eng",l=Object(ne.a)().t,d=r.a.useState(null),u=Object(o.a)(d,2),b=u[0],m=u[1],h=Boolean(b),j=function(){m(null)},p=r.a.useState(null),f=Object(o.a)(p,2),_=f[0],v=f[1],w=Boolean(_),S=function(){v(null)};r.a.useEffect((function(){document.body.dir=ai[c].dir}),[_,c]);var k=Object(g.jsx)(Pr.a,{anchorEl:_,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-language-select-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:w,onClose:S,children:null===(t=Object.keys(ai))||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(be.a,{onClick:function(){return t=e,Fr.a.changeLanguage(t).then(),void S();var t},children:ai[e].label},e)}))}),I=Object(n.useContext)(x),T="primary-search-account-menu",A=Object(g.jsx)(Pr.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:T,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:j,children:Object(g.jsx)(be.a,{onClick:function(e){var t;(t=Er.logout()).then.apply(t,Object(s.a)(i({}))).then((function(){I.setUser({logged:!1,ping:!1})})),j()},children:l("log_out")})});return Object(g.jsxs)(Na.a,{children:[Object(g.jsx)(N.a,{color:"inherit","aria-label":l("open_drawer"),onClick:e.handleDrawerOpen,edge:"start",className:Object(C.a)(a.menuButton,Object(y.a)({},a.hide,e.open)),children:Object(g.jsx)(Ar.a,{})}),Object(g.jsx)(Rt.a,{variant:"h6",noWrap:!0,children:"centr\xedfuga4"}),Object(g.jsx)("div",{className:a.grow}),Object(g.jsx)(ti,{}),Object(g.jsx)(R.a,{title:l("docs"),children:Object(g.jsx)(N.a,{color:"inherit",onClick:function(){return window.open("https://miquelvir.github.io/centrifuga4/","_blank")},"aria-label":l("docs"),"aria-haspopup":"false",children:Object(g.jsx)(Qr.a,{})})}),Object(g.jsx)(Hr,{}),Object(g.jsx)(Jr,{}),Object(g.jsx)(R.a,{title:l("my_account"),children:Object(g.jsx)(N.a,{color:"inherit",onClick:function(e){m(e.currentTarget)},"aria-label":l("my_account"),"aria-controls":T,"aria-haspopup":"true",children:Object(g.jsx)(Br.a,{})})}),k,A]})})),ii=a(316),ci=a(584),si=240,li=Object(w.a)((function(e){return Object(S.a)({root:{display:"flex",height:"100vh"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:e.palette.neutral.main,color:e.palette.neutral.emphasisText.medium},appBarShift:{marginLeft:si,width:"calc(100% - ".concat(si,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:si,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:si,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},toolbar:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{display:"flex",flexFlow:"column",height:"100%",width:"100%",overflow:"auto"},main:{flex:1,padding:e.spacing(3),overflow:"auto"},icon:{"&":{color:e.palette.neutral.emphasisText.medium}},selectedIcon:{"&":{color:e.palette.primary.main}},grow:{flexGrow:1}})})),oi=function(e){var t,a,n=G()(),i=li(),c=e.baseRouter,s=Object(ne.a)().t,l=r.a.useState(!1),u=Object(o.a)(l,2),b=u[0],m=u[1],h=(Object(O.i)(),Object(O.h)().pathname),j=Ze(),p=Object(o.a)(j,2),f=p[0],x=(p[1],function(){m(!1)}),_=r.a.useState(!1),v=Object(o.a)(_,2),w=v[0],S=v[1],T=r.a.createRef(),q=Object(O.g)();return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)(d.a,{}),Object(g.jsxs)(Tt.Provider,{value:{loading:w,startLoading:function(){S(!0)},stopLoading:function(){S(!1)}},children:[Object(g.jsx)(k.a,{position:"fixed",className:Object(C.a)(i.appBar,Object(y.a)({},i.appBarShift,b)),children:Object(g.jsx)(ri,{routerRef:c,changeTheme:e.changeTheme,handleDrawerOpen:function(){m(!0)},handleDrawerClose:x,open:b})}),Object(g.jsx)(O.d,{ref:T,children:Object(g.jsxs)(ga.Provider,{value:{currentTab:h,goTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?q.replace("/home/".concat(e)):q.replace("/home/".concat(e,"?id=").concat(t))}},children:[Object(g.jsxs)(I.a,{variant:"permanent",className:Object(C.a)(i.drawer,(t={},Object(y.a)(t,i.drawerOpen,b),Object(y.a)(t,i.drawerClose,!b),t)),classes:{paper:Object(C.a)((a={},Object(y.a)(a,i.drawerOpen,b),Object(y.a)(a,i.drawerClose,!b),a))},children:[Object(g.jsx)("div",{className:i.toolbar,children:Object(g.jsx)(N.a,{onClick:x,children:"rtl"===n.direction?Object(g.jsx)(A.a,{}):Object(g.jsx)(B.a,{})})}),Object(g.jsx)(P.a,{}),Object(g.jsx)(F.a,{children:Nr.filter((function(e){return f(e.needs)})).map((function(e){return Object(g.jsxs)(E.a,{to:e.path,button:!0,component:Ir.b,children:[Object(g.jsx)(D.a,{className:"/home/".concat(e.path)===h?i.selectedIcon:i.icon,children:Object(g.jsx)(R.a,{title:s(e.title),"aria-label":s(e.title),children:Object(g.jsx)(e.icon,{})})}),Object(g.jsx)(M.a,{primary:s(e.title)})]},e.title)}))})]}),Object(g.jsxs)("div",{className:i.content,children:[Object(g.jsx)("div",{className:i.toolbar}),Object(g.jsxs)("main",{className:i.main,children:[Object(g.jsx)(O.b,{exact:!0,path:"/home/",children:Object(g.jsx)(O.a,{to:"/home/students"})}),Nr.filter((function(e){return f(e.needs)})).map((function(e){return Object(g.jsx)(O.b,{path:"/home/".concat(e.path),component:e.component},e.title)}))]})]})]})}),Object(g.jsx)(ii.a,{className:i.backdrop,open:w,onClick:function(){S(!1)},children:Object(g.jsx)(ci.a,{color:"inherit"})})]})]})},di=a(586),ui={reset:function(e,t,a,n){return new Promise((function(r,i){yt()({url:"".concat(xe,"/password-reset/v1/redeem"),method:"POST",data:{email:e,password:t,token:a,recaptcha:n},headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(e){r(!0)})).catch((function(e){i(e)}))}))},startReset:function(e,t){return new Promise((function(a,n){yt()({url:"".concat(xe,"/password-reset/v1/request"),method:"POST",data:{email:e,recaptcha:t},headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(e){a(!0)})).catch((function(e){n(e)}))}))}};var bi=function(e){return Object(n.useEffect)((function(){return e()}),[])},mi=a(110),hi=a(585),ji=Object(w.a)((function(e){var t;return{root:{display:"flex",flexGrow:1,height:"100vh"},field:{width:"100%",margin:"5px"},details:{width:"100%",display:"flex",verticalAlign:"middle"},paper:(t={height:"50%"},Object(y.a)(t,e.breakpoints.up("md"),{minWidth:"500px",width:"50%"}),Object(y.a)(t,e.breakpoints.down("md"),{width:"100%"}),Object(y.a)(t,"margin","auto"),Object(y.a)(t,"padding","50px"),t),reset:{width:"100%",textAlign:"end",cursor:"",display:"flex",flexDirection:{xs:"column",md:"row"},verticalAlign:"middle"},remember:{width:"100%",textAlign:"start",cursor:"",verticalAlign:"middle"}}})),pi=function(e){var t=ji(),a=r.a.useContext(x),n=r.a.useContext(Va),i=Object(hi.a)("(max-width:960px)"),c=r.a.useState(null),l=Object(o.a)(c,2),d=l[0],u=l[1],b=r.a.useState(!1),m=Object(o.a)(b,2),h=m[0],p=m[1];var f=Re(),O=Object(j.b)().enqueueSnackbar,_=function(t){var n=a.setUser,r=a.setNeeds,i=a.setTeacher;n({logged:!0,ping:!0}),r(t.needs),i(t.teacher);var c=(e.location.state||{from:{pathname:"/home/students"}}).from;e.history.push(c)},v=Object(ne.a)().t,y=Object(Me.a)({initialValues:{username:"",password:"",totp:"",rememberMe:!1},validationSchema:ke.d({username:ot(v),password:ke.f().required(v("password_required")),totp:ke.f().required(v("2FA_needed")).test("len",v("2FA_6digits"),(function(e){return 6===(void 0===e?"":e).toString().length})).test("digits",v("2FA_invalid"),(function(e){return!!Number(e)}))}),enableReinitialize:!0,onSubmit:function(e,t){var a,n=e.username,r=e.password,i=e.totp,c=e.rememberMe,l=t.setStatus,o=t.setSubmitting;l(),(a=Er.login(n,r,i,c)).then.apply(a,Object(s.a)(f({handle401:!1}))).then((function(e){e.logged?_(e.needs):l(!0)})).finally((function(){o(!1)}))}});bi((function(){if(a.user.logged)return e.history.push("/home/students"),null;var t;!1!==a.user.ping&&(t=Er.ping()).then.apply(t,Object(s.a)(f({}))).then((function(e){e.isLoggedIn&&_(e.needs)}))}));return Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(ae.a,{container:!0,children:[!i&&Object(g.jsx)(ae.a,{xs:2,item:!0}),Object(g.jsx)(ae.a,{xs:i?12:8,item:!0,children:Object(g.jsx)(ae.a,{container:!0,spacing:0,align:"center",justify:"center",direction:"column",style:{height:"100%"},children:Object(g.jsx)(ae.a,{item:!0,children:Object(g.jsxs)(oe.a,{m:2,children:[i&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Hr,{style:{float:"right"}}),Object(g.jsx)(Jr,{style:{float:"right"}})," "]}),Object(g.jsxs)(re.a,{className:t.paper,children:[Object(g.jsx)("img",{src:"".concat(_e,"/logo_centrifuga4_").concat(n.label,".svg"),alt:"Logo Centr\xedfuga",style:{height:"85px"}}),Object(g.jsxs)("form",{onSubmit:y.handleSubmit,children:[Object(g.jsx)(Ie.a,{label:v("email"),disabled:y.isSubmitting,helperText:y.touched.username&&y.errors.username,type:"email",name:"username",className:t.field,value:y.values.username,onChange:y.handleChange,onBlur:y.handleBlur,error:y.status}),Object(g.jsx)(Ie.a,{label:v("password"),name:"password",type:"password",helperText:y.touched.password&&y.errors.password,className:t.field,value:y.values.password,disabled:y.isSubmitting,onChange:y.handleChange,onBlur:y.handleBlur,error:y.status}),Object(g.jsx)(Ie.a,{label:v("2FA_code"),name:"totp",type:"password",helperText:y.touched.totp&&y.errors.totp,className:t.field,value:y.values.totp,disabled:y.isSubmitting,onChange:y.handleChange,onBlur:y.handleBlur,error:y.status}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(De.a,{variant:"contained",color:"primary",type:"submit",disabled:y.isSubmitting,className:t.field,children:v("log_in")})}),Object(g.jsxs)(oe.a,{my:1,className:t.details,children:[Object(g.jsxs)("div",{className:t.remember,children:[Object(g.jsx)(Cn.a,{name:"rememberMe",value:y.values.rememberMe,onChange:y.handleChange,onBlur:y.handleBlur,error:y.status,helperText:y.touched.rememberMe&&y.errors.rememberMe,checked:y.values.rememberMe}),Object(g.jsx)(Rt.a,{variant:"caption",children:v("rememberMe")})]}),Object(g.jsx)("div",{className:t.resetPa,children:Object(g.jsx)(Rt.a,{className:t.reset,variant:"caption",children:Object(g.jsx)(di.a,{component:"button",variant:"body2",onClick:function(){p(!0)},style:{verticalAlign:"middle"},children:v("reset_password")})})})]})]}),h&&Object(g.jsxs)("div",{children:[Object(g.jsx)(mi.a,{sitekey:ge,onChange:function(e){u(e)},theme:n.theme?"dark":"light",className:t.recaptcha}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(De.a,{variant:"contained",color:"primary",onClick:function(){var e,t=y.values.username;null===t||""===t||void 0===t?O(v("username_required_password_reset"),{variant:"warning"}):(e=ui.startReset(t,d)).then.apply(e,Object(s.a)(f({}))).then((function(e){p(!1),O(v("started_password_reset"),{variant:"success"})}))},disabled:null===d,className:t.field,children:v("reset_password")})})]})]})]})})})}),!i&&Object(g.jsxs)(ae.a,{xs:2,item:!0,children:[Object(g.jsx)(Hr,{style:{float:"right"}}),Object(g.jsx)(Jr,{style:{float:"right"}})]})]})})},fi={signup:function(e,t,a,n,r,i,c){return new Promise((function(e,s){yt()({url:"".concat(xe,"/user-invites/v1/redeem"),method:"POST",data:{password:t,email:a,name:n,surname1:r,surname2:i,token:c},headers:Object(l.a)(Object(l.a)({},{"Cache-Control":"no-cache"}),fe())}).then((function(t){e(t.data)})).catch((function(e){s(e)}))}))}};var Oi=a(295),xi=a.n(Oi),gi=Object(w.a)((function(e){return{root:{display:"flex",flexGrow:1,height:"100vh"},field:{width:"100%",margin:"5px"},paper:{width:"50%",minWidth:"500px",height:"50%",padding:"50px",margin:"auto"}}})),_i=function(e){var t=gi(),a=r.a.useContext(Va),i=Object(j.b)().enqueueSnackbar,c=Object(n.useState)(0),l=Object(o.a)(c,2),d=l[0],u=l[1],b=Object(n.useState)(null),m=Object(o.a)(b,2),h=m[0],f=m[1],O=r.a.useContext(p);bi((function(){Fr.a.changeLanguage(v.get("lan")).then()}));var x=Object(ne.a)().t,_=Re(),v=new URLSearchParams(window.location.search),y=v.get("token"),w=v.get("email"),S=Object(Me.a)({initialValues:{username:w,email:w,password:"",name:"",surname1:"",surname2:"",password2:""},validationSchema:ke.d({username:ot(x),email:dt(x),password:it(x),password2:ct(x),name:ke.f().required(x("name_required")),surname1:ke.f().required(x("surname1_required")),surname2:ke.f().required(x("surname2_required"))}),enableReinitialize:!0,onSubmit:function(e,t){var a,n=e.username,r=e.email,c=e.password,l=e.name,o=e.surname1,d=e.surname2,b=(e.password2,t.setStatus),m=t.setSubmitting;b(),(a=fi.signup(n,c,r,l,o,d,y)).then.apply(a,Object(s.a)(_({handle401:!1,handle400:!1}))).then((function(e){i(x("sign_up_success"),{variant:"success"}),m(!1),u(1),f(e.totp)}),(function(e){m(!1),b(e),401===e.response.status?i(x("invalid_expired_invite"),{variant:"warning"}):400===e.response.status&&i(x("used_invite"),{variant:"warning"})}))}});return Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(ae.a,{container:!0,children:[Object(g.jsx)(ae.a,{xs:2,item:!0}),Object(g.jsx)(ae.a,{xs:8,item:!0,children:Object(g.jsx)(ae.a,{container:!0,spacing:0,align:"center",justify:"center",direction:"column",style:{height:"100%"},children:Object(g.jsx)(ae.a,{item:!0,children:Object(g.jsx)(oe.a,{m:2,children:Object(g.jsxs)(re.a,{className:t.paper,children:[Object(g.jsx)("img",{src:"".concat(_e,"/logo_centrifuga4_").concat(a.label,".svg"),alt:"Logo Centr\xedfuga",style:{height:"85px"}}),0===d&&Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(oe.a,{m:2,children:Object(g.jsx)(Rt.a,{children:x("been_invited")})}),Object(g.jsxs)("form",{onSubmit:S.handleSubmit,children:[Object(g.jsx)(Ie.a,{label:x("email"),helperText:S.touched.email&&S.errors.email,type:"email",name:"email",className:t.field,value:S.values.email,onChange:S.handleChange,onBlur:S.handleBlur,error:S.status,disabled:!0}),Object(g.jsx)(Ie.a,{label:x("name"),helperText:S.touched.name&&S.errors.name,name:"name",className:t.field,value:S.values.name,onChange:S.handleChange,disabled:S.isSubmitting,onBlur:S.handleBlur,error:S.status}),Object(g.jsx)(Ie.a,{label:x("surname1"),helperText:S.touched.surname1&&S.errors.surname1,name:"surname1",disabled:S.isSubmitting,className:t.field,value:S.values.surname1,onChange:S.handleChange,onBlur:S.handleBlur,error:S.status}),Object(g.jsx)(Ie.a,{label:x("surname2"),helperText:S.touched.surname2&&S.errors.surname2,name:"surname2",disabled:S.isSubmitting,className:t.field,value:S.values.surname2,onChange:S.handleChange,onBlur:S.handleBlur,error:S.status}),Object(g.jsx)(Ie.a,{label:x("password"),name:"password",type:"password",helperText:S.touched.password&&S.errors.password,className:t.field,value:S.values.password,disabled:S.isSubmitting,onChange:S.handleChange,onBlur:S.handleBlur,error:S.status,autoComplete:"new-password"}),Object(g.jsx)(Ie.a,{label:x("confirm_password"),name:"password2",type:"password",helperText:S.touched.password2&&S.errors.password2,className:t.field,value:S.values.password2,disabled:S.isSubmitting,onChange:S.handleChange,onBlur:S.handleBlur,error:S.status,autoComplete:"new-password"}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(De.a,{variant:"contained",color:"primary",type:"submit",disabled:S.isSubmitting||!(S.isValid&&S.dirty),className:t.field,children:x("sign_up")})})]})]}),1===d&&Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(oe.a,{m:2,children:Object(g.jsx)(Rt.a,{children:x("setup_2FA")})}),Object(g.jsx)(oe.a,{m:2,children:Object(g.jsxs)("ul",{style:{textAlign:"left"},children:[Object(g.jsx)("li",{children:Object(g.jsx)(Rt.a,{variant:"body2",children:x("2FA_tip1")})}),Object(g.jsx)("li",{children:Object(g.jsx)(Rt.a,{variant:"body2",children:x("2FA_tip2")})}),Object(g.jsx)("li",{children:Object(g.jsx)(Rt.a,{variant:"body2",children:x("2FA_tip3")})})]})}),Object(g.jsx)(oe.a,{m:4,children:null!==h&&Object(g.jsx)(xi.a,{value:h,size:"125"})}),Object(g.jsx)(oe.a,{m:1,style:{textAlign:"right"},children:Object(g.jsx)(di.a,{variant:"overline",href:"https://miquelvir.github.io/centrifuga4/docs/how-tos/2FA",target:"_blank",children:x("learn_how_2FA")})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(De.a,{variant:"contained",color:"primary",onClick:function(){console.log("click"),O.confirm("title_2fa_continue","description_2fa_continue",(function(){e.history.push("/login")}))},className:t.field,children:x("continue")})})]})]})})})})}),Object(g.jsxs)(ae.a,{xs:2,item:!0,children:[Object(g.jsx)(Hr,{style:{float:"right"}}),Object(g.jsx)(Jr,{style:{float:"right"}})]})]})})},vi=Object(w.a)((function(e){return{root:{display:"flex",flexGrow:1,height:"100vh"},field:{width:"100%",margin:"5px"},recaptcha:{margin:e.spacing(3)},paper:{width:"50%",minWidth:"500px",height:"50%",padding:"50px",margin:"auto"}}})),yi=function(e){var t=vi(),a=r.a.useContext(Va),n=r.a.useState(null),i=Object(o.a)(n,2),c=i[0],l=i[1];var d=Object(j.b)().enqueueSnackbar;bi((function(){Fr.a.changeLanguage(b.get("lan")).then()}));var u=Object(ne.a)().t,b=new URLSearchParams(window.location.search),m=Re(),h=b.get("token"),p=b.get("email"),f=Object(Me.a)({initialValues:{email:p,password:"",password2:""},validationSchema:ke.d({email:ot(u),password:it(u),password2:ct(u)}),enableReinitialize:!0,onSubmit:function(t,a){var n,r=t.email,i=t.password,l=(t.password2,a.setStatus),o=a.setSubmitting;l(),(n=ui.reset(r,i,h,c)).then.apply(n,Object(s.a)(m({handle401:!1}))).then((function(t){d(u("reset_password_success"),{variant:"success"}),o(!1),e.history.push("/login")}),(function(e){o(!1),l(e),401===e.response.status&&d(u("invalid_expired_reset"),{variant:"warning"})}))}});return console.log("***",f.error,f.errors,f.errors.email,f.touched,f.values,f.initialValues),Object(g.jsx)("div",{className:t.root,children:Object(g.jsxs)(ae.a,{container:!0,children:[Object(g.jsx)(ae.a,{xs:2,item:!0}),Object(g.jsx)(ae.a,{xs:8,item:!0,children:Object(g.jsx)(ae.a,{container:!0,spacing:0,align:"center",justify:"center",direction:"column",style:{height:"100%"},children:Object(g.jsx)(ae.a,{item:!0,children:Object(g.jsx)(oe.a,{m:2,children:Object(g.jsxs)(re.a,{className:t.paper,children:[Object(g.jsx)("img",{src:"".concat(_e,"/logo_centrifuga4_").concat(a.label,".svg"),alt:"Logo Centr\xedfuga",style:{height:"85px"}}),Object(g.jsx)(oe.a,{m:2,children:Object(g.jsx)(Rt.a,{children:u("new_password")})}),Object(g.jsxs)("form",{onSubmit:f.handleSubmit,children:[Object(g.jsx)(Ie.a,{label:u("email"),helperText:f.touched.email&&f.errors.email,type:"email",name:"email",className:t.field,value:f.values.email,onChange:f.handleChange,onBlur:f.handleBlur,error:f.status,disabled:!0}),Object(g.jsx)(Ie.a,{label:u("password"),name:"password",type:"password",helperText:f.touched.password&&f.errors.password,className:t.field,value:f.values.password,disabled:f.isSubmitting,onChange:f.handleChange,onBlur:f.handleBlur,error:f.status}),Object(g.jsx)(Ie.a,{label:u("confirm_password"),name:"password2",type:"password",helperText:f.touched.password2&&f.errors.password2,className:t.field,value:f.values.password2,disabled:f.isSubmitting,onChange:f.handleChange,onBlur:f.handleBlur,error:f.status}),Object(g.jsx)(mi.a,{sitekey:ge,onChange:function(e){l(e)},theme:a.theme?"dark":"light",className:t.recaptcha}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(De.a,{variant:"contained",color:"primary",type:"submit",disabled:f.isSubmitting||null==c||!(f.isValid&&f.dirty),className:t.field,children:u("change_password")})})]})]})})})})}),Object(g.jsxs)(ae.a,{xs:2,item:!0,children:[Object(g.jsx)(Hr,{style:{float:"right"}}),Object(g.jsx)(Jr,{style:{float:"right"}})]})]})})},wi=a(587),Si=a(601);function ki(){var e=r.a.useContext(Va);return Object(g.jsx)(oe.a,{mx:2,style:{textAlign:"left"},children:Object(g.jsx)("img",{src:"".concat(_e,"/logo_xamfra_").concat(e.label,".png"),alt:"Logo Xamfr\xe0",style:{height:"35px"}})})}var Ci=a(297),Ni=a.n(Ci),Ii=a(298),Ti=a.n(Ii),Ai=a(209),qi=a.n(Ai),Bi={getCourses:function(){return new Promise((function(e,t){yt()({method:"get",url:"".concat(xe,"/pre-enrolment/v1/courses"),headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},postPreEnrollment:function(e,t){return new Promise((function(a,n){yt()({method:"post",url:"".concat(xe,"/pre-enrolment/v1/pre-enrolment"),data:{body:e,recaptcha:t},headers:Object(l.a)(Object(l.a)({},{"Content-Type":"application/json","Cache-Control":"no-cache"}),fe())}).then((function(e){a(e)})).catch((function(e){n(e)}))}))}};var Pi=a(210),Fi=a.n(Pi),Ei=a(296),Di=a.n(Ei),Ri=function(e){return function(e,t){var a=new Date(e.getTime());return a.setDate(e.getDate()+(7+t-e.getDay())%7),a}(new Date,e).toLocaleString(window.navigator.language,{weekday:"short"})},Mi=function(e){return e.base_schedules?e.base_schedules.map((function(e){return Ri(e.day_week)+", "+e.start_time.slice(0,-3)+" - "+e.end_time.slice(0,-3)})).join("; "):null},Li=Object(w.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}}));function Gi(e){var t=Li();return Object(g.jsxs)(oe.a,{className:t.root,children:[Object(g.jsxs)(oe.a,{p:2,style:{width:"100%"},children:[e.children,Object(g.jsx)(ki,{})]}),Object(g.jsx)(P.a,{})]})}var zi=Object(w.a)((function(e){return{root:{width:"100%"},field:{width:"100%",margin:"5px"},cards:{"& > *":{margin:e.spacing(3)}},buttons:{"& > *":{margin:e.spacing(1)}},line:{width:"100%",marginTop:e.spacing(1)},card:{minWidth:200,width:"fit-content",maxWidth:500,display:"inline-block"},recaptcha:{margin:e.spacing(4)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},list:{minHeight:"150px",overflow:"auto"},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"}}})),Vi=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n<18},Ui=function(e){var t=Object(ne.a)().t,a="Puc pagar la quota trimestral de 80\u20ac/estudiant",i=zi(),c=r.a.useState(null),d=Object(o.a)(c,2),u=d[0],b=d[1];Object(j.b)().enqueueSnackbar;var m=r.a.useState(new Set),h=Object(o.a)(m,2),p=h[0],f=h[1],O=r.a.useState([]),x=Object(o.a)(O,2),_=x[0],v=x[1],y=r.a.useState([]),w=Object(o.a)(y,2),S=w[0],k=w[1],C=r.a.useState([]),I=Object(o.a)(C,2),T=I[0],A=I[1],q=r.a.useState([]),B=Object(o.a)(q,2),L=B[0],z=B[1],V=function(e){return p.has(e)},U=r.a.useState(0),K=Object(o.a)(U,2),W=K[0],H=K[1],Y=[t("data_protection"),t("student_info"),t("contact_person_1"),t("contact_person_2"),t("courses"),t("payment"),t("confirmation")],Z=function(){if(!ie(W))throw new Error("You can't skip a step that isn't optional.");H((function(e){return e+1})),f((function(e){var t=new Set(e.values());return t.add(W),t}))};bi((function(){var e;Fr.a.changeLanguage("cat").then(),(e=Bi.getCourses()).then.apply(e,Object(s.a)(te({}))).then((function(e){v(e),k(e)}))}));var J=G()(),X=Object(n.useState)(""),Q=Object(o.a)(X,2),$=Q[0],ee=Q[1],te=Re(),ae=t("required"),re=Le(!1,{initialValues:Object(l.a)(Object(l.a)({},It),{},{__person1__name:"",__person2__name:"",__person1__surname1:"",__person1__surname2:"",__person1__email:"",__person1__phone:"",__person1__relation:"",__person1__is_studying:"",__person1__is_working:"",__person1__career:"",__person1__education_entity:"",__person1__education_year:"",__person2__surname1:"",__person2__surname2:"",__person2__email:"",__person2__phone:"",__person2__relation:"",__person2__is_studying:"",__person2__is_working:"",__person2__career:"",__person2__education_entity:"",__person2__education_year:"",image_agreement:!1,image_agreement_external:!1}),validationSchema:ke.d({name:ke.f(ae).required(ae),surname1:ke.f(ae).required(ae),surname2:ke.f(ae).required(ae),email:ut(t).when("birth_date",(function(e,t){return e&&!Vi(e)?t.required(ae):t})),phone:ke.f().when("birth_date",(function(e,t){return e&&!Vi(e)?t.required(ae):t})),address:ke.f(ae).required(ae),city:ke.f(ae).required(ae),zip:ke.c(ae).required(ae),country_of_origin:ke.f(ae).notOneOf(["empty"]).test("countryNonEmpty",ae,(function(e){return void 0!==e})),gender:ke.f(ae).required(ae),is_studying:ke.a(ae).required(ae),is_working:ke.a(ae).required(ae),career:ke.f(ae).when("is_working",{is:!0,then:ke.f().required(ae)}),education_entity:ke.f(ae).when("is_studying",{is:!0,then:ke.f().required(ae)}),education_year:ke.f(ae).when("is_studying",{is:!0,then:ke.f().required(ae)}),birth_date:ke.b(ae).required(ae),years_in_xamfra:ke.c(ae).required(ae),__person1__name:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__surname1:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__surname2:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__email:ut(t).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__phone:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__relation:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__is_studying:ke.a(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__is_working:ke.a(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(2)})),__person1__career:ke.f(ae).when("__person1__is_working",{is:!0,then:ke.f().required(ae)}),__person2__name:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__surname1:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__surname2:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__email:ut(t).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__phone:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__relation:ke.f(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__is_studying:ke.a(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__is_working:ke.a(ae).test("requiredIfNotSkipped",ae,(function(e){return void 0!==e&&""!==e||V(3)})),__person2__career:ke.f(ae).when("__person2__is_working",{is:!0,then:ke.f().required(ae)}),__person2__education_entity:ke.f(ae).when("__person2__is_studying",{is:!0,then:ke.f().required(ae)}),image_agreement:ke.a(ae),image_agreement_external:ke.a(ae)}),enableReinitialize:!0,onSubmit:function(e,t){var n,r=t.setStatus,i=t.setSubmitting;r();var c={};c.image_agreement=e.image_agreement,c.image_agreement_external=e.image_agreement_external,c.name=e.name,c.surname1=e.surname1,c.surname2=e.surname2,c.email=e.email,c.address=e.address,c.city=e.city,c.zip=e.zip,c.dni=e.dni,c.phone=e.phone,c.country_of_origin=e.country_of_origin,c.gender=e.gender,c.is_studying=e.is_studying,c.is_working=e.is_working,c.education_entity=e.education_entity,c.education_year=e.education_year,c.career=e.career,c.birth_date=e.birth_date,c.years_in_xamfra=e.years_in_xamfra,c.guardians=[],[2,3].map((function(t){if(!V(t)){var a={},n="__person".concat(t-1,"__");a.name=e[n+"name"],a.surname1=e[n+"surname1"],a.surname2=e[n+"surname2"],a.email=e[n+"email"],a.phone=e[n+"phone"],a.is_studying=e[n+"is_studying"],a.is_working=e[n+"is_working"],a.education_entity=e[n+"education_entity"],a.career=e[n+"career"],a.relation=e[n+"relation"],c.guardians.push(a)}})),c.payment_comments=L.join(". "),L.includes(a)?c.price_term=80:c.price_term=null,c.other_comments=e.other_comments,c.courses=T.map((function(e){return e.id})),i(!1),(n=Bi.postPreEnrollment(c,u)).then.apply(n,Object(s.a)(te({snackbarSuccess:!0}))).then((function(){H(Y.length)}))}});Object(n.useEffect)((function(){var e=[];Vi(re.values.birth_date)&&!re.values.is_working||e.push("adult"),re.values.is_studying&&e.push(re.values.education_year),k(_.filter((function(t){return e.some((function(e){return t.labels.includes(e)}))})))}),[_,re.values.education_year,re.values.birth_date]);var ie=function(e){return 3===e||2===e&&""!==re.values.birth_date&&!Vi(re.values.birth_date)},ce=[[],["birth_date","name","surname1","surname2","address","city","zip","gender","is_studying","is_working","education_entity","education_year","career","years_in_xamfra","country_of_origin","phone","email"],["__person1__name","__person1__surname1","__person1__surname2","__person1__email","__person1__phone","__person1__phone","__person1__relation","__person1__is_studying","__person1__education_entity","__person1__education_year","__person1__is_working","__person1__career"],["__person2__name","__person2__surname1","__person2__surname2","__person2__email","__person2__phone","__person2__phone","__person2__relation","__person2__is_studying","__person2__education_entity","__person2__education_year","__person2__is_working","__person2__career"],[],[],["image_agreement","image_agreement_external"],[]],se=function(e){var t=Mi(e),a=e.description;return a||t?a&&t?a+" \xb7 "+t:a?t?void 0:a:t:null},le=r.a.useContext(Va),de=W===Y.length-1||!ce[W].every((function(e){return!re.errors[e]}))||W===Y.length-3&&0===T.length,ue=function(e){return Object(g.jsxs)(oe.a,{children:[Object(g.jsxs)(E.a,{button:!0,alignItems:"flex-start",onClick:function(){T.includes(e)?A(T.filter((function(t){return t.id!==e.id}))):A([].concat(Object(s.a)(T),[e]))},children:[Object(g.jsx)(D.a,{children:Object(g.jsx)(Cn.a,{edge:"start",disableRipple:!0,tabIndex:-1,checked:T.includes(e),onChange:function(){},inputProps:{"aria-label":"primary checkbox"}})}),Object(g.jsx)(M.a,{id:"description",primary:e.name,secondary:se(e)})]},e.id),Object(g.jsx)(P.a,{})]})};return Object(g.jsxs)(oe.a,{children:[Object(g.jsxs)(Gi,{children:[Object(g.jsx)(Hr,{}),Object(g.jsx)(Jr,{})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(oe.a,{marginBottom:2}),W===Y.length?Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsxs)(oe.a,{children:["Prematr\xedcula completada amb \xe8xit!",Object(g.jsx)("br",{}),"\xa1Prematr\xedcula completada con \xe9xito!",Object(g.jsx)("br",{}),"Pre-enrolment successful!"]}),Object(g.jsx)(oe.a,{m:4,children:Object(g.jsx)(Di.a,{fontSize:"large",style:{color:J.palette.neutral.status.success}})})]}):Object(g.jsxs)("form",{onSubmit:re.handleSubmit,children:[Object(g.jsx)(oe.a,{p:2,children:Object(g.jsxs)("div",{children:[0===W&&Object(g.jsxs)("div",{children:[Object(g.jsxs)(Rt.a,{children:["Podeu consultar el quadre horari del curs 23-24 ",Object(g.jsx)(di.a,{target:"_blank",href:"https://xamfra.net/com-participar-hi/horaris/",children:"aqu\xed"}),"."]}),Object(g.jsx)("br",{}),Object(g.jsx)(Rt.a,{variant:"caption",children:"Enviar aquest formulari implica consentiment per fer \xfas de les dades per tal de rebre informaci\xf3 durant el per\xedode de preinscripci\xf3 i inici de curs. La posterior matr\xedcula presencial al centre implica tamb\xe9 l'\xfas de les dades durant tot el curs 2024-2025. La nostra pol\xedtica protecci\xf3 de dades es basa en que: 1) El Responsable del Tractament de les teves dades personals \xe9s de Xamfr\xe0, Centre de M\xfasica i Escena del Raval (Fundaci\xf3 l'ARC M\xfasica) 2) Les finalitats del tractament de les dades personals \xe9s la de gestionar la teva vinculaci\xf3 amb Xamfr\xe0. La base de dades disposa de noms, tel\xe8fons, adre\xe7a postal i adre\xe7a electr\xf2nica. 3) Les teves dades no seran comunicades a tercers sense previ consentiment. 4) Pots exercir els drets d'acc\xe9s, rectificaci\xf3 i oposici\xf3 segons preveu a la normativa enviant un correu electr\xf2nic a: xamfra@xamfra.net"})]}),1===W&&Object(g.jsxs)("div",{children:[Object(g.jsx)(Rt.a,{variant:"h4",children:t("student")}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("name"),style:{flex:1},name:"name",autocomplete:"name given-name",formik:re,noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("surname1"),style:{flex:1},name:"surname1",formik:re,autocomplete:"name additional-name",noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("surname2"),style:{flex:1},formik:re,name:"surname2",autocomplete:"name family-name",noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("birthdate"),type:"date",style:{flex:1},noDirty:!0,formik:re,name:"birth_date",autoComplete:"bday",InputLabelProps:{shrink:!0}})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("email"),type:"email",style:{flex:1},formik:re,name:"email",noDirty:!0,helperText:re.touched.email&&re.errors.email})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("address"),formik:re,noDirty:!0,autocomplete:"street-address",style:{flex:4},name:"address"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("city"),style:{flex:2},formik:re,noDirty:!0,name:"city",autoComplete:"address-level2"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("zip"),formik:re,type:"number",autoComplete:"postal-code",noDirty:!0,style:{flex:1},name:"zip"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("dni"),style:{flex:1},noDirty:!0,formik:re,name:"dni"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("phone"),type:"tel",style:{flex:1},formik:re,noDirty:!0,name:"phone"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ee,{formik:re,style:{flex:1},noDirty:!0,name:"country_of_origin",label:t("country_of_origin"),autoComplete:"country"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsxs)(Ae,{label:t("gender"),style:{flex:1},formik:re,noDirty:!0,name:"gender",select:!0,children:[Object(g.jsx)(be.a,{value:"m",children:t("m")}),Object(g.jsx)(be.a,{value:"f",children:t("f")}),Object(g.jsx)(be.a,{value:"nb",children:t("nb")})]})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsxs)(Ae,{label:t("is_studying"),style:{flex:1},name:"is_studying",formik:re,noDirty:!0,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:t("yes")}),Object(g.jsx)(be.a,{value:!1,children:t("no")})]})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("education_entity"),style:{flex:2},formik:re,name:"education_entity",noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("education_year"),style:{flex:2},noDirty:!0,name:"education_year",formik:re,select:!0,children:Ge.map((function(e){return Object(g.jsx)(be.a,{value:e,children:t(e)},e)}))})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsxs)(Ae,{label:t("is_working"),style:{flex:1},name:"is_working",formik:re,noDirty:!0,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:t("yes")}),Object(g.jsx)(be.a,{value:!1,children:t("no")})]})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("career"),style:{flex:4},formik:re,noDirty:!0,name:"career"})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("years_in_xamfra"),type:"number",noDirty:!0,formik:re,style:{flex:1},name:"years_in_xamfra"})})]}),(2===W||3===W)&&Object(g.jsxs)("div",{children:[Object(g.jsx)(Rt.a,{variant:"h4",children:t("contact")+" "+(W-1)}),ie(W)&&Object(g.jsx)(R.a,{title:t("skip"),children:Object(g.jsx)(oe.a,{my:2,children:Object(g.jsx)(De.a,{size:"medium",onClick:Z,variant:"contained","aria-label":t("skip"),startIcon:Object(g.jsx)(qi.a,{}),color:"primary",disabled:!ie(W),children:t("skip")})})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("name"),style:{flex:1},name:"__person"+(W-1)+"__name",formik:re,noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("surname1"),style:{flex:1},name:"__person"+(W-1)+"__surname1",formik:re,noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("surname2"),style:{flex:1},formik:re,name:"__person"+(W-1)+"__surname2",noDirty:!0})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("email"),type:"email",style:{flex:1},formik:re,name:"__person"+(W-1)+"__email",noDirty:!0,helperText:re.touched.email&&re.errors.email})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("phone"),type:"tel",style:{flex:1},formik:re,noDirty:!0,name:"__person"+(W-1)+"__phone"})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsxs)(Ae,{label:t("relation"),style:{flex:1},name:"__person"+(W-1)+"__relation",select:!0,noDirty:!0,formik:re,children:[Ft.map((function(e){return Object(g.jsx)(be.a,{value:e,children:t(e)},e)})),"))}"]})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsxs)(Ae,{label:t("is_studying"),style:{flex:1},name:"__person"+(W-1)+"__is_studying",formik:re,noDirty:!0,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:t("yes")}),Object(g.jsx)(be.a,{value:!1,children:t("no")})]})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("education_entity"),style:{flex:4},formik:re,name:"__person"+(W-1)+"__education_entity",noDirty:!0})}),Object(g.jsx)(oe.a,{my:3,children:Object(g.jsx)(P.a,{})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsxs)(Ae,{label:t("is_working"),style:{flex:1},name:"__person"+(W-1)+"__is_working",formik:re,noDirty:!0,select:!0,children:[Object(g.jsx)(be.a,{value:!0,children:t("yes")}),Object(g.jsx)(be.a,{value:!1,children:t("no")})]})}),Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("career"),style:{flex:4},formik:re,noDirty:!0,name:"__person"+(W-1)+"__career"})})]}),4===W&&Object(g.jsxs)("div",{children:[Object(g.jsx)(Da,{label:t("courses"),value:$,onChange:function(e){ee(e.target.value)},onSearch:function(){}}),Object(g.jsx)(F.a,{className:i.list,children:S&&S.filter((function(e){return e.name.includes($)||null!==e.description&&e.description.includes($)})).map((function(e){return Object(g.jsx)("div",{children:ue(e)},e.id)}))}),0===S.length&&Object(g.jsx)(Rt.a,{children:t("no_courses_found_add_edu")})]}),5===W&&Object(g.jsxs)("div",{children:[Object(g.jsxs)(oe.a,{fontWeight:500,my:2,children:["Xamfr\xe0 \xe9s un centre que treballa perqu\xe8 tots els infants i joves puguin fer m\xfasica, teatre i dansa. Les fam\xedlies aporten el que poden per ajudar a fer sostenible el centre. En cap cas, la quota cobreix el cost dels tallers que fan els nens i nenes. Marqueu, si us plau, una o v\xe0ries opcions.",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"CAP INFANT O JOVE HA DE DEIXAR DE FER TEATRE, M\xdaSICA O DANSA A XAMFR\xc0 PER MOTIUS ECON\xd2MICS.",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"A qui no pugui, l'ajudarem; i qui pugui ajudar: moltes gr\xe0cies!"]}),Object(g.jsx)(F.a,{className:i.list,children:[a,"Puc pagar una quota a acordar personalment","No puc pagar la quota trimestral","Puc aportar una segona quota per un altre nen/a (desgravaci\xf3 fiscal)","Puc fer-me teamer (1 \u20ac/mes)","Puc fer donatius puntuals (desgravaci\xf3 fiscal)","Puc fer donatius regulars (desgravaci\xf3 fiscal)","Puc ajudar en tasques puntuals","Puc ajudar a la Campanya RISUONA (donaci\xf3 d'instruments)","Puc fer serveis professionals relacionats amb els meus estudis o professi\xf3"].map((function(e){return Object(g.jsxs)(oe.a,{children:[Object(g.jsxs)(E.a,{alignItems:"flex-start",children:[Object(g.jsx)(M.a,{id:"description",primary:e}),Object(g.jsx)(za.a,{children:Object(g.jsx)(Cn.a,{edge:"start",disableRipple:!0,tabIndex:-1,checked:L.includes(e),onClick:function(t){L.includes(e)?z(L.filter((function(t){return t!==e}))):z([].concat(Object(s.a)(L),[e]))},inputProps:{"aria-label":"primary checkbox"}})})]},e),Object(g.jsx)(P.a,{})]})}))})]}),6===W&&Object(g.jsxs)("div",{children:[Object(g.jsx)(oe.a,{className:[i.line,i.composite],children:Object(g.jsx)(Ae,{label:t("other_comments"),style:{flex:1},multiline:!0,formik:re,rowsMax:8,noDirty:!0,name:"other_comments"})}),Object(g.jsx)(oe.a,{my:2,children:Object(g.jsx)(kn.a,{control:Object(g.jsx)(Cn.a,{defaultValue:!1,defaultChecked:!1,checked:re.values.image_agreement,name:"image_agreement",value:re.values.image_agreement,onChange:re.handleChange,onBlur:re.handleBlur}),label:Vi(re.values.birth_date)?"En cas de matricular-lo, autoritzo l\u2019\xfas de la imatge de l\u2019estudiant, menor d'edat, per a que pugui apar\xe8ixer a materials escrits o multim\xe8dia corresponents a activitats educatives organitzades per Xamfr\xe0.":"En cas de matricular-me, autoritzo l\u2019\xfas de la meva imatge per a que pugui apar\xe8ixer a materials escrits o multim\xe8dia corresponents a activitats educatives organitzades per Xamfr\xe0."},"image_agreement")}),Object(g.jsx)(oe.a,{my:2,children:Object(g.jsx)(kn.a,{control:Object(g.jsx)(Cn.a,{defaultValue:!1,defaultChecked:!1,checked:re.values.image_agreement_external,name:"image_agreement_external",value:re.values.image_agreement_external,onChange:re.handleChange,onBlur:re.handleBlur}),label:"En cas de matricular-me, autoritzo l\u2019\xfas de la meva imatge i/o la dels meus fills/es matriculats per a que puguin apar\xe8ixer a materials escrits o multim\xe8dia corresponents a activitats organitzades per terceres persones autoritzades per L\u2019ARC M\xfasica i sobre la possibilitat de publicar imatges on apareguin clarament identificables els seus fills/es. Aquest material mai podr\xe0 ser utilitzat amb finalitats lucratives."},"image_agreement_external")}),Object(g.jsxs)(oe.a,{textAlign:"center",children:[Object(g.jsx)(mi.a,{sitekey:ge,onChange:function(e){b(e)},theme:le.theme?"dark":"light",className:i.recaptcha,style:{display:"inline-block",margin:"0 auto",width:"fit-content"}}),Object(g.jsx)(oe.a,{my:2,children:Object(g.jsx)(De.a,{size:"medium",variant:"contained","aria-label":t("finish"),startIcon:Object(g.jsx)(Fi.a,{}),color:"primary",type:"submit",disabled:re.isSubmitting||null===u||!ce[W].every((function(e){return!re.errors[e]})),children:t("finish")})})]})]})]})}),Object(g.jsx)(oe.a,{py:5}),Object(g.jsx)(wi.a,{showLabels:!0,style:{position:"fixed",bottom:0,width:"100%"},children:Object(g.jsx)(Si.a,{variant:"dots",steps:Y.length,position:"static",style:{width:"100%",margin:0,backgroundColor:J.palette.primary.light},color:J.palette.primary.contrastText,activeStep:W,nextButton:Object(g.jsxs)(oe.a,{children:[W!==Y.length-1&&Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(R.a,{title:t("next"),children:Object(g.jsx)(N.a,{size:"small",onClick:function(){re.setFieldTouched("");var e=p;V(W)&&(e=new Set(e.values())).delete(W),H((function(e){return e+1})),f(e),window.scrollTo(0,0)},disabled:de,"aria-label":t("next"),children:Object(g.jsx)(Ni.a,{})})}),Object(g.jsx)(R.a,{title:t("skip"),children:Object(g.jsx)(N.a,{size:"small",onClick:Z,"aria-label":t("skip"),disabled:!ie(W),children:Object(g.jsx)(qi.a,{})})})]}),W===Y.length-1&&Object(g.jsx)(R.a,{title:t("finish"),children:Object(g.jsx)(N.a,{size:"small",onClick:function(){},"aria-label":t("finish"),type:"submit",disabled:re.isSubmitting||null===u||!ce[W].every((function(e){return!re.errors[e]})),children:Object(g.jsx)(Fi.a,{})})})]}),backButton:Object(g.jsx)(R.a,{title:t("back"),children:Object(g.jsx)(N.a,{size:"small",onClick:function(){H((function(e){return e-1}))},"aria-label":t("back"),disabled:0===W,children:Object(g.jsx)(Ti.a,{})})})})})]})]})]})},Ki=a(299),Wi=a.n(Ki);function Hi(e){var t=Object.assign({},e),a=Object(ne.a)().t,n=Object(O.g)();return Object(g.jsx)(R.a,Object(l.a)(Object(l.a)({title:a("home"),style:{float:"right"}},t),{},{children:Object(g.jsx)(N.a,{color:"inherit","aria-label":a("home"),onClick:function(){return n.replace("/home")},children:Object(g.jsx)(Wi.a,{})})}))}var Yi=Object(w.a)((function(e){return{welcomeMessage:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}}));function Zi(e){e.course;var t=Yi(),a=r.a.useContext(x),i=Object(ne.a)().t,c="\ud83d\ude04",s=Object(n.useState)(c),l=Object(o.a)(s,2),d=l[0],u=l[1];return Object(g.jsxs)(oe.a,{p:4,display:"flex",justifyContent:"center",alignItems:"center",children:[Object(g.jsxs)(Rt.a,{variant:"h4",className:t.welcomeMessage,children:[i("hi")," ",void 0===a.teacher?"":a.teacher.name]}),Object(g.jsx)(Rt.a,{variant:"h4",className:t.welcomeMessage,onClick:function(){u(d==c?"\ud83e\udd70":c)},onMouseOver:function(){return u("\ud83e\udd70")},onMouseOut:function(){return u(c)},children:d})]})}var Ji=Object(w.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},title:{fontSize:14},pos:{marginBottom:12},action:{float:"bottom"},flexGrow:{flexGrow:1}}}));function Xi(e){var t=Ji(),a=Object(O.g)(),n=e.course,r=void 0===n?null:n,i=null===r,c=Object(ne.a)().t,s=null===r?null:r.id;return Object(g.jsxs)(Kt.a,{className:t.root,children:[Object(g.jsxs)(Ht.a,{children:[Object(g.jsx)(Rt.a,{className:t.title,color:"textSecondary",gutterBottom:!0,children:i?Object(g.jsx)(Ce.a,{}):c("course")}),Object(g.jsx)(Rt.a,{variant:"h5",component:"h2",children:i?Object(g.jsx)(Ce.a,{}):r.name}),Object(g.jsx)(Rt.a,{className:t.pos,color:"textSecondary",children:i?Object(g.jsx)(Ce.a,{}):Mi(r)})]}),Object(g.jsx)("div",{className:t.flexGrow}),Object(g.jsxs)(Yt.a,{className:t.action,children:[i?Object(g.jsx)(Ce.a,{variant:"rect",width:75,height:30}):Object(g.jsx)(De.a,{variant:"outlined",size:"small",onClick:function(){return a.replace("/home/courses?id=".concat(s))},children:c("view")}),i?Object(g.jsx)(Ce.a,{variant:"rect",width:210,height:30}):Object(g.jsx)(De.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){return a.replace("/attendance?id=".concat(s))},children:c("take attendance")})]})]})}var Qi=Object(w.a)((function(e){return{}}));function $i(e){Qi();var t=Object(ne.a)().t;return Object(g.jsx)(Ga.a,Object(l.a)({label:t("load-more"),clickable:!0,variant:"outlined",icon:Object(g.jsx)(Lt.a,{})},e))}var ec=Object(w.a)((function(e){return{welcomeMessage:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}}));function tc(e){e.course;var t=ec(),a=Object(ne.a)().t;return Object(g.jsx)(oe.a,{p:4,display:"flex",justifyContent:"center",alignItems:"center",children:Object(g.jsxs)(Rt.a,{variant:"h4",className:t.welcomeMessage,children:["\ud83c\udf93 ",a("teachers-only-zone")," \ud83c\udf93"]})})}var ac=Object(w.a)((function(e){return{root:{flexGrow:1},rootBase:{display:"flex",flexDirection:"column",height:"100vh"},more:{width:"100%",textAlign:"center"}}})),nc=function(e){Object(ne.a)().t;var t=ac(),a=(Object(j.b)().enqueueSnackbar,G()(),Re()),i=(Le(!1,{initialValues:{},validationSchema:ke.d({}),enableReinitialize:!0,onSubmit:function(e,t){var a=t.setStatus,n=t.setSubmitting;a(),n(!1)}}),r.a.useContext(Va),Object(n.useState)([])),c=Object(o.a)(i,2),l=c[0],d=c[1],u=Object(n.useState)(null),b=Object(o.a)(u,2),m=b[0],h=b[1],p=Object(n.useState)(0),f=Object(o.a)(p,2),O=f[0],_=f[1],v=Object(n.useState)(1),y=Object(o.a)(v,2),w=y[0],S=y[1],k=Object(n.useState)(!1),C=Object(o.a)(k,2),N=C[0],I=C[1],T=N&&0==O,A=r.a.useContext(x);return Object(n.useEffect)((function(){var e;if(null!==A.teacher&&void 0!==A.teacher){var t=w;I(!0),(e=Yn.getAll(null,t,null,null,A.teacher.id)).then.apply(e,Object(s.a)(a({}))).then((function(e){d([].concat(Object(s.a)(l),Object(s.a)(e.data))),h(e._pagination.totalPages),_(t)})).finally((function(){return I(!1)}))}}),[w,A.teacher]),Object(g.jsxs)(oe.a,{className:t.rootBase,children:[Object(g.jsxs)(Gi,{children:[Object(g.jsx)(Hr,{}),Object(g.jsx)(Jr,{}),Object(g.jsx)(Hi,{})]}),Object(g.jsxs)(oe.a,{p:4,className:t.root,children:[(null===A.teacher||void 0===A.teacher)&&Object(g.jsx)(tc,{}),!(null===A.teacher||void 0===A.teacher)&&Object(g.jsxs)(oe.a,{children:[Object(g.jsx)(Zi,{}),Object(g.jsxs)(ae.a,{container:!0,spacing:3,justify:"left",children:[T&&[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(g.jsx)(ae.a,{xs:12,sm:6,md:3,item:!0,children:Object(g.jsx)(Xi,{course:null})},"loading")})),l.map((function(e){return Object(g.jsx)(ae.a,{xs:12,sm:6,md:3,item:!0,children:Object(g.jsx)(Xi,{course:e})},e.id)}))]}),Object(g.jsx)(oe.a,{p:2,className:t.more,children:O<m&&Object(g.jsx)($i,{onClick:function(){null!==m&&(O>=m||S(O+1))},disabled:N})})]})]})]})},rc=a(300);function ic(e){Object(rc.a)(e);r.a.useContext(Va),Object(ne.a)().t;return Object(g.jsx)(Rt.a,{variant:"h1",children:"Nope, not found... \ud83d\udc7b"})}var cc=new(we("attendances")),sc=a(304),lc=a.n(sc),oc=a(553),dc=a(591),uc=a(301),bc=a.n(uc),mc=a(596),hc=Object(w.a)((function(e){var t;return{formControl:(t={},Object(y.a)(t,e.breakpoints.down("sm"),{minWidth:"50%",maxWidth:"50%"}),Object(y.a)(t,e.breakpoints.up("sm"),{minWidth:"25%",maxWidth:"25%"}),t),selectStatus:{"&:before":{borderColor:"red"},"&:after":{borderColor:"red"}},root:{width:"100%"}}}));function jc(e){var t=e.student,a=e.attendance,n=e.setAttendance,r=e.handleOpenCommentBox,i=hc(),c="checkbox-list-label-".concat(t.id),s=Object(ne.a)().t,o=null===a?null:a.status,d=function(e){return n(Object(l.a)(Object(l.a)({},a),{},{status:e}))},u=Object(w.a)((function(e){return{root:{"& $notchedOutline":{borderColor:0===o?e.palette.neutral.status.success:1===o?e.palette.neutral.status.error:e.palette.neutral.status.dirty}},focused:{},notchedOutline:{}}}))();return Object(g.jsxs)(E.a,{role:void 0,dense:!0,button:!0,onClick:function(){if(0===o)return d(1);d(0)},className:i.root,children:[Object(g.jsx)(oc.a,{variant:"outlined",className:i.formControl,children:Object(g.jsxs)(dc.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:o,onChange:function(e){d(e.target.value)},className:i.selectStatus,onClick:function(e){return e.stopPropagation()},input:Object(g.jsx)(mc.a,{id:"outlined-age-simple",classes:u}),children:[Object(g.jsx)(be.a,{value:0,children:s("attended")}),Object(g.jsx)(be.a,{value:1,children:s("absent")}),Object(g.jsx)(be.a,{value:2,children:s("absent-justified")})]})}),Object(g.jsx)(oe.a,{px:2,children:Object(g.jsx)(R.a,{title:s("add-comment"),children:Object(g.jsx)(N.a,{color:"secondary","aria-label":s("add-comment"),onClick:function(e){e.stopPropagation(),r()},children:Object(g.jsx)(bc.a,{})})})}),Object(g.jsx)(M.a,{id:c,primary:t.full_name})]},t.id)}var pc=a(303),fc=a.n(pc),Oc=a(302),xc=a.n(Oc);function gc(e){var t=e.commentBox,a=e.setCommentBoxValue,n=e.handleCloseCommentBox,r=e.commentBoxValue,i=e.handleCloseCancelCommentBox,c=Object(ne.a)().t;return Object(g.jsxs)(Oa.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(g.jsx)(xa.a,{id:"form-dialog-title",children:c("comment")}),Object(g.jsx)(jn.a,{children:Object(g.jsx)(Ie.a,{value:r,onChange:function(e){a(e.target.value)},autoFocus:!0,margin:"dense",multiline:!0,rows:4,variant:"outlined",fullWidth:!0})}),Object(g.jsxs)(ta.a,{children:[Object(g.jsx)(De.a,{onClick:i,color:"primary",children:c("cancel")}),Object(g.jsx)(De.a,{onClick:n,color:"primary",children:c("save")})]})]})}var _c=Object(w.a)((function(e){return{root:Object(y.a)({height:"100%"},e.breakpoints.down("sm"),{paddingBottom:"100px"}),textBox:{width:"100%",border:"red"},line:{width:"100%",marginTop:e.spacing(1)},composite:{display:"flex",flexDirection:"row",flex:1,flexWrap:"wrap",gap:e.spacing(1),width:"100%"},chip:{margin:e.spacing(.5)},chips:{marginBottom:e.spacing(1)},in:{marginBottom:e.spacing(1)},fabs:{position:"fixed",bottom:e.spacing(4),right:e.spacing(4)},fab:{marginLeft:e.spacing(2)}}}));function vc(e){Object.assign({},e);var t=_c(),a=Object(ne.a)().t,r=new URLSearchParams(window.location.search).get("id"),i=Object(n.useState)(null),c=Object(o.a)(i,2),d=c[0],u=c[1],b=Object(n.useState)(null),m=Object(o.a)(b,2),h=m[0],j=m[1],p=function(){var e=Object.keys(d);return Object.keys(h).filter((function(t){return!e.includes(t)&&(null!==h[t].status||null!==h[t].comment)}))},f=function(e,t){if(console.log("iu",e,t),e.student_id!==t.student_id)throw new Error("student id has changed from ".concat(e.student_id," to ").concat(t.student_id));if(e.course_id!==t.course_id)throw new Error("course id has changed from ".concat(e.course_id," to ").concat(t.course_id));return e.date!==t.date||(e.comment!==t.comment||e.status!==t.status)},O=function(){return null!==d&&(null!==h&&(0!==p().length||!!S()))},x=Object(n.useState)(!1),_=Object(o.a)(x,2),v=_[0],w=_[1];Object(n.useEffect)((function(){w(O())}),[d,h]);var S=function(){return Object.keys(d).some((function(e){return f(d[e],h[e])}))},k=Object(n.useState)(null),C=Object(o.a)(k,2),N=C[0],I=C[1],T=Object(n.useState)(r),A=Object(o.a)(T,2),q=A[0],B=(A[1],Object(n.useState)(!0)),P=Object(o.a)(B,2),E=P[0],D=P[1];Object(n.useEffect)((function(){if(null!==h){var e=!Object.keys(h).some((function(e){return 0!==h[e].status}));D(e)}}),[h]);var M=function(e,t,a){if(null!==t&&null!==e){var n=Object(l.a)({},t);return e.forEach((function(e){var r=e.id;void 0===t[r]&&(n[r]={status:null,comment:null,course_id:q,student_id:r,date:a})})),n}},L=function(){var e;null!==q&&""!==V.values.start&&null!==N&&(e=cc.getAll(null,"*",null,{course_id:q,date:V.values.start})).then.apply(e,Object(s.a)(G({}))).then((function(e){var t=e.data.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(y.a)({},t.student_id,t))}),{});u(t),j(M(N,t,U))}))};Object(n.useEffect)((function(){var e;null!==q&&(e=cr.getAll(null,"*",["full_name","id"],{enrolment_status:"enrolled"},q)).then.apply(e,Object(s.a)(G({}))).then((function(e){I(e.data)}))}),[q]);var G=Re(),z=(new Date).toISOString().split("T")[0],V=Object(Me.a)({initialValues:{start:z,course_id:r},validationSchema:ke.d({}),enableReinitialize:!0,onSubmit:function(e,t){t.setStatus;(0,t.setSubmitting)(!0)}}),U=V.values.start;Object(n.useEffect)(L,[V.values.start,q,N]);var K=function(e,t){var a=Object(l.a)({},h);a[e]=t,j(a)},W=Object(n.useState)(!1),H=Object(o.a)(W,2),Y=H[0],Z=H[1],J=function(){Z(!1)},X=Object(n.useState)(null),Q=Object(o.a)(X,2),$=Q[0],ee=Q[1],te=Object(n.useState)(null),ae=Object(o.a)(te,2),re=ae[0],ie=ae[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)(gc,{commentBox:Y,handleCloseCommentBox:function(){J(),K(re,Object(l.a)(Object(l.a)({},h[re]),{},{comment:$}))},commentBoxValue:$,handleCloseCancelCommentBox:J,setCommentBoxValue:ee}),!1,Object(g.jsxs)(oe.a,{p:2,children:[Object(g.jsx)("h1",{children:a("attendance")}),Object(g.jsx)(oe.a,{className:[t.line,t.composite],children:Object(g.jsx)(Ae,{label:a("date"),type:"date",style:{flex:1},noDirty:!0,name:"start",formik:V,InputLabelProps:{shrink:!0}})})]}),N&&Object(g.jsx)(F.a,{className:t.root,children:h&&N&&N.map((function(e){var t;return Object(g.jsx)(jc,{student:e,setAttendance:function(t){return K(e.id,t)},handleOpenCommentBox:function(){return t=e.id,ee(h[t].comment),Z(!0),void ie(t);var t},attendance:null!==(t=h[e.id])&&void 0!==t?t:null})}))}),Object(g.jsxs)("div",{className:t.fabs,children:[Object(g.jsx)(R.a,{title:a("mark-all"),children:Object(g.jsx)(on.a,{className:t.fab,color:"secondary",onClick:function(){!function(e){var t=Object(l.a)({},h);Object.keys(t).map((function(a,n){t[a].status=e})),j(t)}(E?1:0)},disabled:V.isSubmitting,children:E?Object(g.jsx)(xc.a,{}):Object(g.jsx)(fc.a,{})})}),Object(g.jsx)(R.a,{title:a("reset"),children:Object(g.jsx)(on.a,{className:t.fab,color:"secondary",onClick:function(){return j(M(N,d,U))},disabled:V.isSubmitting||!v,children:Object(g.jsx)(lc.a,{})})}),Object(g.jsx)(R.a,{title:a("save"),children:Object(g.jsx)(on.a,{className:t.fab,color:"primary",onClick:function(){var e,t=[],a=function(){var e=p();return 0===e.length?null:Object.keys(h).filter((function(t){return e.includes(t)})).reduce((function(e,t){return e[t]=h[t],e}),{})}();null!==a&&Object.keys(a).forEach((function(e){var n=a[e];t.push(cc.post(n))}));var n=Object.keys(d).reduce((function(e,t){return f(d[t],h[t])&&(e[t]=h[t]),e}),{});null!==n&&Object.keys(n).forEach((function(e){var a=n[e],r=d[e];t.push(cc.patch({id:r.id,body:a,initial_values:r}))})),(e=Promise.all(t)).then.apply(e,Object(s.a)(G({}))).then((function(e){L()}))},disabled:V.isSubmitting||!v,children:Object(g.jsx)(He.a,{})})})]})]})}var yc=Object(w.a)((function(e){return{list:{flexGrow:4},listCard:{height:"100%"},header:{},rootBase:{display:"flex",flexDirection:"column",height:"100vh",minHeight:0,alignItems:"stretch"},more:{width:"100%",textAlign:"center"}}})),wc=function(e){var t=yc();return Object(g.jsxs)(oe.a,{className:t.rootBase,children:[Object(g.jsxs)(Gi,{children:[Object(g.jsx)(Hi,{}),Object(g.jsx)(Hr,{}),Object(g.jsx)(Jr,{}),Object(g.jsx)(ti,{})]}),Object(g.jsx)(oe.a,{p:2,children:Object(g.jsx)(vc,{})})]})},Sc=a(588);var kc=function(){var e=Object(n.useState)("true"===localStorage.getItem("darkTheme")),t=Object(o.a)(e,2),a=t[0],i=t[1],c=Object(u.a)(a?h:m),f=Object(n.useState)({logged:!1,ping:!0}),_=Object(o.a)(f,2),y=_[0],w=_[1],S=Object(n.useState)([]),k=Object(o.a)(S,2),C=k[0],N=k[1],I=Object(n.useState)(null),T=Object(o.a)(I,2),A=T[0],q=T[1],B=r.a.createRef(),P=r.a.useState({open:!1,title:null,subtitle:null,success:function(){},cancel:function(){},args:[]}),F=Object(o.a)(P,2),E=F[0],D=F[1],R=function(){D(Object(l.a)(Object(l.a)({},E),{},{open:!1}))},M=Object(ne.a)().t;return Object(g.jsxs)(b.a,{theme:c,children:[Object(g.jsx)(d.a,{}),Object(g.jsx)(j.a,{maxSnack:3,children:Object(g.jsx)(x.Provider,{value:{user:y,setUser:w,needs:C,setNeeds:function(e){return Array.isArray(e)?N(e):N([])},teacher:A,setTeacher:q},children:Object(g.jsx)(Va.Provider,{value:{theme:a,switchTheme:function(){localStorage.setItem("darkTheme",(!a).toString()),i(!a)},label:a?"dark":"light"},children:Object(g.jsxs)(p.Provider,{value:{confirm:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];D({open:!0,title:e,subtitle:t,success:a,cancel:null===n?function(){}:n,args:r})}},children:[Object(g.jsx)(Ir.a,{ref:B,basename:"/app",children:Object(g.jsxs)(O.d,{children:[Object(g.jsx)(v,{path:"/home",baseRouter:B,component:oi}),Object(g.jsx)(O.b,{path:"/login",component:pi}),Object(g.jsx)(O.b,{path:"/signup",component:_i}),Object(g.jsx)(O.b,{path:"/password-reset",component:yi}),Object(g.jsx)(O.b,{path:"/prematricula",component:Ui}),Object(g.jsx)(v,{path:"/teacher-dashboard",component:nc}),Object(g.jsx)(v,{path:"/attendance",component:wc}),Object(g.jsx)(O.b,{component:ic})]})}),Object(g.jsxs)(Oa.a,{open:E.open,onClose:R,"aria-labelledby":"responsive-dialog-title",children:[E.title&&Object(g.jsx)(xa.a,{id:"responsive-dialog-title",children:M(E.title)}),E.subtitle&&Object(g.jsx)(jn.a,{children:Object(g.jsx)(Sc.a,{children:M(E.subtitle)})}),Object(g.jsxs)(ta.a,{children:[Object(g.jsx)(De.a,{autoFocus:!0,onClick:function(){E.cancel.apply(E,Object(s.a)(E.args)),R()},color:"primary",children:M("cancel")}),Object(g.jsx)(De.a,{onClick:function(){E.success.apply(E,Object(s.a)(E.args)),R()},color:"primary",autoFocus:!0,children:M("continue")})]})]})]})})})})]})},Cc=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,602)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},Nc=a(305);c.a.render(Object(g.jsxs)(r.a.StrictMode,{children:[Object(g.jsxs)(Nc.a,{children:[Object(g.jsx)("title",{children:"centr\xedfuga4"}),Object(g.jsx)("base",{href:"".concat("https://c4.xamfra.net","/")}),Object(g.jsx)("link",{nonce:"{{csp_nonce()}}",rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(g.jsx)("link",{nonce:"{{csp_nonce()}}",rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(g.jsx)("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"})]}),Object(g.jsx)(kc,{})]}),document.getElementById("root")),Cc()}},[[517,1,2]]]);
//# sourceMappingURL=main.971e46ac.chunk.js.map